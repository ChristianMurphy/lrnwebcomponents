!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@polymer/polymer/polymer-element.js"),require("@polymer/polymer/lib/utils/render-status.js"),require("@polymer/polymer/lib/legacy/polymer.dom.js"),require("@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js"),require("@polymer/iron-a11y-keys/iron-a11y-keys.js"),require("@lrnwebcomponents/responsive-utility/responsive-utility.js"),require("@lrnwebcomponents/simple-colors/simple-colors.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/polymer-element.js","@polymer/polymer/lib/utils/render-status.js","@polymer/polymer/lib/legacy/polymer.dom.js","@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js","@polymer/iron-a11y-keys/iron-a11y-keys.js","@lrnwebcomponents/responsive-utility/responsive-utility.js","@lrnwebcomponents/simple-colors/simple-colors.js"],t):t((e=e||self).GridPlate={},e.polymerElement_js,e.renderStatus_js,e.polymer_dom_js,e.HAXWiring_js)}(this,function(e,t,o,n,i){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,o){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(o):i.value}})(e,t,o||e)}function h(){var e,t,o=(e=['\n      <style>\n        :host {\n          display: block;\n          --grid-plate-row-margin: 0px;\n          --grid-plate-row-padding: 0px;\n          --grid-plate-item-margin: 15px;\n          --grid-plate-editable-border-color: #bbbbbb;\n          --grid-plate-active-border-color: #000000;\n          --grid-plate-col-transition: all 0.2s ease-in-out;\n        }\n        :host .row {\n          width: 100%;\n          display: flex;\n          flex-wrap: wrap;\n          justify-content: space-between;\n          align-items: stretch;\n          margin: var(--grid-plate-row-margin);\n          padding: var(--grid-plate-row-padding);\n        }\n        :host .column {\n          width: 100%;\n          flex: 0 0 auto;\n          transition: var(--grid-plate-col-transition);\n        }\n        :host([edit-mode]) .column {\n          min-height: 150px;\n        }\n        :host([edit-mode]) .column {\n          outline: 1px dotted var(--grid-plate-editable-border-color);\n        }\n        :host .column[style="min-height: unset"] {\n          display: none;\n        }\n        :host([edit-mode]) .column[style="min-height: unset"]:not(:empty) {\n          display: block;\n          outline: 1px solid red;\n          width: 20%;\n          margin-top: var(--grid-plate-item-margin);\n        }\n        :host([edit-mode])\n          .column[style="min-height: unset"]:not(:empty):before {\n          content: "Layout hides this column (" attr(id) ")";\n          color: red;\n          margin: var(--grid-plate-item-margin);\n          padding: 15px 0;\n          min-height: 150px;\n        }\n        :host .column ::slotted(*) {\n          margin: var(--grid-plate-item-margin);\n          padding: var(--grid-plate-item-margin);\n          transition: var(--grid-plate-col-transition);\n        }\n        :host([edit-mode]) .column ::slotted(img) {\n          display: block;\n          width: calc(100% - 32px - var(--grid-plate-item-margin));\n        }\n        :host([edit-mode]) .column ::slotted(.mover) {\n          outline: 2px dashed var(--grid-plate-editable-border-color);\n          outline-offset: 4px;\n        }\n        :host([edit-mode]) .column.mover {\n          outline: 2px dashed var(--grid-plate-editable-border-color);\n          outline-offset: 0px;\n        }\n        :host([edit-mode]) .column ::slotted(.active-item) {\n          outline: 2px dashed var(--grid-plate-active-border-color);\n          background-color: var(--simple-colors-default-theme-yellow-1);\n          outline-offset: 4px;\n        }\n        :host([edit-mode]) .column ::slotted(*:focus),\n        :host([edit-mode]) .column ::slotted(*:hover),\n        :host([edit-mode]) .column ::slotted(*:active) {\n          cursor: move;\n          background-color: var(--simple-colors-default-theme-yellow-3);\n        }\n        :host([edit-mode]) .column ::slotted(.mover) {\n          background-color: var(--simple-colors-default-theme-orange-1);\n          padding: 16px;\n        }\n        :host([edit-mode]) .column ::slotted([data-draggable].mover:hover) {\n          background-color: var(--simple-colors-default-theme-yellow-2);\n        }\n        :host([edit-mode]) .column.mover {\n          content: "Double click to create a paragraph here";\n          background-color: var(--simple-colors-default-theme-orange-1);\n        }\n        :host([edit-mode]) .column.mover:hover {\n          background-color: var(--simple-colors-default-theme-yellow-1);\n        }\n        :host([edit-mode]) .column ::slotted(.hovered) {\n          background-color: var(\n            --simple-colors-default-theme-orange-3\n          ) !important;\n          outline: dashed 4px var(--grid-plate-active-border-color);\n        }\n        :host([edit-mode]) .column.hovered {\n          background-color: var(\n            --simple-colors-default-theme-orange-3\n          ) !important;\n        }\n        paper-icon-button {\n          display: none;\n          position: absolute;\n          margin: 0;\n          padding: 0;\n          outline: none;\n          width: 20px;\n          height: 20px;\n          color: black;\n          background-color: #eeeeee;\n          border-radius: 50%;\n          box-sizing: content-box !important;\n          z-index: 1;\n          min-width: unset;\n        }\n\n        paper-icon-button[disabled] {\n          color: #aaa;\n          background-color: #ddd;\n        }\n        paper-icon-button[disabled]:focus,\n        paper-icon-button[disabled]:hover {\n          cursor: not-allowed;\n        }\n        paper-icon-button.active {\n          display: block;\n        }\n\n        .button-holding-pen {\n          position: relative;\n        }\n      </style>\n      <div class="button-holding-pen">\n        <paper-icon-button\n          icon="icons:arrow-upward"\n          title="move item up"\n          id="up"\n          on-click="moveActiveElement"\n        >\n        </paper-icon-button>\n        <paper-icon-button\n          icon="icons:arrow-forward"\n          title="move item right"\n          id="right"\n          on-click="moveActiveElement"\n        >\n        </paper-icon-button>\n        <paper-icon-button\n          icon="icons:arrow-downward"\n          title="move item down"\n          id="down"\n          on-click="moveActiveElement"\n        >\n        </paper-icon-button>\n        <paper-icon-button\n          icon="icons:arrow-back"\n          title="move item left"\n          id="left"\n          on-click="moveActiveElement"\n        >\n        </paper-icon-button>\n      </div>\n      <div class="row">\n        <div\n          class="column"\n          id="col1"\n          style$="[[_getColumnWidth(0,columnWidths)]]"\n        >\n          <slot name="col-1"></slot>\n        </div>\n        <div\n          class="column"\n          id="col2"\n          style$="[[_getColumnWidth(1,columnWidths)]]"\n        >\n          <slot name="col-2"></slot>\n        </div>\n        <div\n          class="column"\n          id="col3"\n          style$="[[_getColumnWidth(2,columnWidths)]]"\n        >\n          <slot name="col-3"></slot>\n        </div>\n        <div\n          class="column"\n          id="col4"\n          style$="[[_getColumnWidth(3,columnWidths)]]"\n        >\n          <slot name="col-4"></slot>\n        </div>\n        <div\n          class="column"\n          id="col5"\n          style$="[[_getColumnWidth(4,columnWidths)]]"\n        >\n          <slot name="col-5"></slot>\n        </div>\n        <div\n          class="column"\n          id="col6"\n          style$="[[_getColumnWidth(5,columnWidths)]]"\n        >\n          <slot name="col-6"></slot>\n        </div>\n      </div>\n      <iron-a11y-keys\n        target="[[activeItem]]"\n        keys="enter"\n        on-keys-pressed="setActiveElement"\n      ></iron-a11y-keys>\n      <iron-a11y-keys\n        target="[[activeItem]]"\n        keys="esc"\n        on-keys-pressed="cancelActive"\n      ></iron-a11y-keys>\n    '],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return h=function(){return o},o}var m=function e(){s(this,e),this.layouts={1:{columnLayout:"1: full width",xs:["100%"],sm:["100%"],md:["100%"],lg:["100%"],xl:["100%"]},"1-1":{columnLayout:"2: equal width",xs:["100%","100%"],sm:["50%","50%"],md:["50%","50%"],lg:["50%","50%"],xl:["50%","50%"]},"2-1":{columnLayout:"2: wide & narrow",xs:["100%","100%"],sm:["50%","50%"],md:["66.6666667%","33.3333337%"],lg:["66.6666667%","33.3333337%"],xl:["66.6666667%","33.3333337%"]},"1-2":{columnLayout:"2: narrow & wide",xs:["100%","100%"],sm:["50%","50%"],md:["33.3333333%","66.6666667%"],lg:["33.3333333%","66.6666667%"],xl:["33.3333333%","66.6666667%"]},"3-1":{columnLayout:"2: wider & narrower",xs:["100%","100%"],sm:["50%","50%"],md:["75%","25%"],lg:["75%","25%"],xl:["75%","25%"]},"1-3":{columnLayout:"2: narrower & wider",xs:["100%","100%"],sm:["50%","50%"],md:["25%","75%"],lg:["25%","75%"],xl:["25%","75%"]},"1-1-1":{columnLayout:"3: equal width",xs:["100%","100%","100%"],sm:["100%","100%","100%"],md:["33.3333333%","33.3333333%","33.3333333%"],lg:["33.3333333%","33.3333333%","33.3333333%"],xl:["33.3333333%","33.3333333%","33.3333333%"]},"2-1-1":{columnLayout:"3: wide, narrow, and narrow",xs:["100%","100%","100%"],sm:["100%","50%","50%"],md:["50%","25%","25%"],lg:["50%","25%","25%"],xl:["50%","25%","25%"]},"1-2-1":{columnLayout:"3: narrow, wide, and narrow",xs:["100%","100%","100%"],sm:["100%","100%","100%"],md:["25%","50%","25%"],lg:["25%","50%","25%"],xl:["25%","50%","25%"]},"1-1-2":{columnLayout:"3: narrow, narrow, and wide",xs:["100%","100%","100%"],sm:["50%","50%","100%"],md:["25%","25%","50%"],lg:["25%","25%","50%"],xl:["25%","25%","50%"]},"1-1-1-1":{columnLayout:"4: equal width",xs:["100%","100%","100%","100%"],sm:["50%","50%","50%","50%"],md:["25%","25%","25%","25%"],lg:["25%","25%","25%","25%"],xl:["25%","25%","25%","25%"]},"1-1-1-1-1":{columnLayout:"5: equal width",xs:["100%","100%","100%","100%","100%"],sm:["50%","50%","50%","50%","50%"],md:["20%","20%","20%","20%","20%"],lg:["20%","20%","20%","20%","20%"],xl:["20%","20%","20%","20%","20%"]},"1-1-1-1-1-1":{columnLayout:"6: equal width",xs:["100%","100%","100%","100%","100%","100%"],sm:["50%","50%","50%","50%","50%","50%"],md:["33.3333333%","33.3333333%","33.3333333%","33.3333333%","33.3333333%","33.3333333%"],lg:["16.6666667%","16.6666667%","16.6666667%","16.6666667%","16.6666667%","16.6666667%"],xl:["16.6666667%","16.6666667%","16.6666667%","16.6666667%","16.6666667%","16.6666667%"]}},this.options={};for(var t=Object.keys(this.layouts),o=0;o<t.length;o++)this.options[t[o]]=this.layouts[t[o]].columnLayout},p=function(e){function p(){var e;return s(this,p),e=c(this,l(p).call(this)),window.SimpleColorsStyles.requestAvailability(),import("@polymer/paper-icon-button/paper-icon-button.js"),import("@polymer/iron-icons/iron-icons.js"),e}var v,y,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,t.PolymerElement),v=p,g=[{key:"template",get:function(){return t.html(h())}},{key:"tag",get:function(){return"grid-plate"}},{key:"haxProperties",get:function(){return{canScale:!0,canPosition:!0,canEditSource:!1,settings:{quick:[],configure:[{property:"layout",title:"Column Layout",description:"Style to present these items (may change for small screens)",inputMethod:"select",options:(new m).options}],advanced:[{property:"breakpointSm",title:"Small Breakpoint",description:"Anything less than this number (in pixels) will render with the smallest version of this layout",inputMethod:"textfield",validationType:"number"},{property:"breakpointMd",title:"Medium Breakpoint",description:"Anything less than this number (in pixels) will render with the small version of this layout",inputMethod:"textfield",validationType:"number"},{property:"breakpointLg",title:"Large Breakpoint",description:"Anything less than this number (in pixels) will render with the medium version of this layout.",inputMethod:"textfield",validationType:"number"},{property:"breakpointXl",title:"Extra-Large Breakpoint",description:"Anything less than this number (in pixels) will render with the large version of this layout. Anything greater than or equal to this number will display with the maximum number of columns for this layout.",inputMethod:"textfield",validationType:"number"}]},saveOptions:{unsetAttributes:["active-item","edit-mode","layouts","columns","options"]}}}},{key:"properties",get:function(){return{droppable:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_droppableChanged"},ignoreHax:{type:Boolean,value:!1},breakpointSm:{type:Number,value:900},breakpointMd:{type:Number,value:1200},breakpointLg:{type:Number,value:1500},breakpointXl:{type:Number,value:1800},columns:{type:Number,value:6,reflectToAttribute:!0},disableResponsive:{type:Boolean,value:!1,notify:!0},editMode:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_editModeChanged"},layout:{type:String,value:"1-1",observer:"layoutChanged",reflectToAttribute:!0},layouts:{type:Object,readOnly:!0,value:(new m).layouts},responsiveSize:{type:String,value:"xs",reflectToAttribute:!0},activeItem:{type:Object,observer:"_activeItemChanged"},columnWidths:{type:String,computed:"_getColumnWidths(responsiveSize,layout,layouts,disableResponsive)"}}}}],(y=[{key:"connectedCallback",value:function(){u(l(p.prototype),"connectedCallback",this).call(this),o.afterNextRender(this,function(){for(var e=1;e<=this.columns;e++)if(void 0!==this.shadowRoot.querySelector("#col"+e)){var t=this.shadowRoot.querySelector("#col"+e);t.addEventListener("drop",this.dropEvent.bind(this)),t.addEventListener("dblclick",this.dblclick.bind(this)),t.addEventListener("dragstart",this.dragStart.bind(this)),t.addEventListener("dragenter",this.dragEnter.bind(this)),t.addEventListener("dragleave",this.dragLeave.bind(this)),t.addEventListener("dragend",this.dragEnd.bind(this)),t.addEventListener("dragover",function(e){e.preventDefault()}),t.setAttribute("data-draggable",!0)}this.addEventListener("focusin",this._focusIn.bind(this)),window.addEventListener("hax-store-property-updated",this._haxStorePropertyUpdated.bind(this)),window.addEventListener("hax-insert-content",this.haxInsertContent.bind(this)),this.HAXWiring=new i.HAXWiring,this.HAXWiring.setup(p.haxProperties,p.tag,this)}),window.ResponsiveUtility.requestAvailability(),window.dispatchEvent(new CustomEvent("responsive-element",{detail:{element:this,attribute:"responsive-size",relativeToParent:!1,sm:this.breakpointSm,md:this.breakpointMd,lg:this.breakpointLg,xl:this.breakpointXl}}))}},{key:"disconnectedCallback",value:function(){for(var e=1;e<=this.columns;e++)if(void 0!==this.shadowRoot.querySelector("#col"+e)){var t=this.shadowRoot.querySelector("#col"+e);t.removeEventListener("drop",this.dropEvent.bind(this)),t.removeEventListener("dblclick",this.dblclick.bind(this)),t.removeEventListener("dragstart",this.dragStart.bind(this)),t.removeEventListener("dragenter",this.dragEnter.bind(this)),t.removeEventListener("dragleave",this.dragLeave.bind(this)),t.removeEventListener("dragend",this.dragEnd.bind(this)),t.removeEventListener("dragover",function(e){e.preventDefault()}),t.removeAttribute("data-draggable")}this.removeEventListener("focusin",this._focusIn.bind(this)),window.removeEventListener("hax-store-property-updated",this._haxStorePropertyUpdated.bind(this)),window.removeEventListener("hax-insert-content",this.haxInsertContent.bind(this)),u(l(p.prototype),"disconnectedCallback",this).call(this)}},{key:"preProcessHaxInsertContent",value:function(e){return delete e.properties.activeItem,e}},{key:"_droppableChanged",value:function(e){e&&(this.editMode=!0)}},{key:"cancelActive",value:function(e){this.activeItem=null}},{key:"canMoveSlot",value:function(e,t){var o=t?-1:1,n=this.shadowRoot.querySelectorAll(".column").length,i=e.getAttribute("slot").split("-"),r=parseInt(i[1])+o;return r>=1&&r<=n}},{key:"layoutChanged",value:function(e,t){var o=this;e&&"undefined"!==r(t)&&this.editMode&&(this.editMode=!1,setTimeout(function(){o.editMode=!0},100))}},{key:"moveSlot",value:function(e,t){var o=t?-1:1,n=e.getAttribute("slot").split("-"),i=parseInt(n[1])+o;e.setAttribute("slot","col-"+i)}},{key:"canMoveOrder",value:function(e,t){var o=this.shadowRoot.querySelector('slot[name="'+e.getAttribute("slot")+'"').assignedNodes({flatten:!0}),n=null,i=0;for(var s in o)e===o[s]&&(i=s);return t&&parseInt(i)-1>=0?n=o[parseInt(i)-1]:!t&&parseInt(i)+1<=o.length-1&&(n=o[parseInt(i)+1]),null!==n&&"undefined"!==r(n)}},{key:"moveOrder",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this.shadowRoot.querySelector('slot[name="'+e.getAttribute("slot")+'"').assignedNodes({flatten:!0}),i=null,r=0;for(var s in o)e===o[s]&&(r=s);t?(i=o[parseInt(r)-1],n.dom(this).insertBefore(this.activeItem,i)):(i=o[parseInt(r)+1],n.dom(this).insertBefore(i,this.activeItem))}},{key:"moveActiveElement",value:function(e){var t=this;switch(n.dom(e).localTarget.id){case"up":this.moveOrder(this.activeItem,!0);break;case"down":this.moveOrder(this.activeItem,!1);break;case"left":this.moveSlot(this.activeItem,!0);break;case"right":this.moveSlot(this.activeItem,!1)}setTimeout(function(){t.activeItem&&"function"==typeof t.activeItem.focus&&(t.positionArrows(t.activeItem),t.activeItem.focus())},100)}},{key:"_activeItemChanged",value:function(e,t){"undefined"!==r(e)&&null!=e?(e.classList.add("active-item"),this.positionArrows(e)):null==e&&this.positionArrows(e),"undefined"!==r(t)&&null!=t&&(t.classList.remove("active-item"),t.blur())}},{key:"setActiveElement",value:function(e){if(window.HaxStore&&window.HaxStore.instance&&window.HaxStore.instance.isTextElement(this.activeItem))return!0;this.shadowRoot.querySelector("#right").focus()}},{key:"_getColumnWidths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sm",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1-1",o=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(o){var i=o[t],s=!1!==n?"xl":e,a={12:"1","8/4":"2-1","6/6":"1-1","4/8":"1-2","4/4/4":"1-1-1","3/3/3/3":"1-1-1-1"}[t];if(void 0!==i&&void 0!==i[s])return o[t][s];if(void 0!==o[a]&&void 0!==o[a][s])return o[a][s];if("undefined"!==r(o["1-1"]))return o["1-1"][s]}}},{key:"_getColumnWidth",value:function(e,t){return void 0!==t&&void 0!==t[e]?"width:"+t[e]:"min-height: unset"}},{key:"_getColumns",value:function(e){return e.length}},{key:"_focusIn",value:function(e){if(this.editMode){var t=n.dom(e).localTarget;n.dom(t).parentNode===this&&(this.activeItem=t)}}},{key:"positionArrows",value:function(e){if(null==e)this.shadowRoot.querySelector("#up").classList.remove("active"),this.shadowRoot.querySelector("#down").classList.remove("active"),this.shadowRoot.querySelector("#left").classList.remove("active"),this.shadowRoot.querySelector("#right").classList.remove("active");else{this.shadowRoot.querySelector("#up").classList.add("active"),this.shadowRoot.querySelector("#down").classList.add("active"),this.shadowRoot.querySelector("#left").classList.add("active"),this.shadowRoot.querySelector("#right").classList.add("active"),this.shadowRoot.querySelector("#up").disabled=!this.canMoveOrder(e,!0),this.shadowRoot.querySelector("#down").disabled=!this.canMoveOrder(e,!1),this.shadowRoot.querySelector("#left").disabled=!this.canMoveSlot(e,!0),this.shadowRoot.querySelector("#right").disabled=!this.canMoveSlot(e,!1);var t=this.getBoundingClientRect(),o=e.getBoundingClientRect(),n=o.top-t.top,i=o.left-t.left;this.shadowRoot.querySelector("#up").style.top=n-20+"px",this.shadowRoot.querySelector("#down").style.top=n+o.height+"px",this.shadowRoot.querySelector("#left").style.top=n+o.height/2+"px",this.shadowRoot.querySelector("#right").style.top=n+o.height/2+"px",this.shadowRoot.querySelector("#up").style.left=i+o.width/2-10+"px",this.shadowRoot.querySelector("#down").style.left=i+o.width/2-10+"px",this.shadowRoot.querySelector("#left").style.left=i-20+"px",this.shadowRoot.querySelector("#right").style.left=i+o.width+"px"}}},{key:"_editModeChanged",value:function(e,t){var o=n.dom(this).getEffectiveChildNodes();if("object"===r(o))if(e&&!t)for(var i in o)"undefined"!==r(o[i].tagName)&&(o[i].addEventListener("drop",this.dropEvent.bind(this)),o[i].addEventListener("dragenter",this.dragEnter.bind(this)),o[i].addEventListener("dragleave",this.dragLeave.bind(this)),o[i].addEventListener("dragstart",this.dragStart.bind(this)),o[i].addEventListener("dragend",this.dragEnd.bind(this)),o[i].addEventListener("dragover",function(e){e.preventDefault()}),o[i].setAttribute("draggable",!0),o[i].setAttribute("data-draggable",!0),o[i].setAttribute("tabindex",0));else if(!e&&t)for(var i in this.activeItem=null,o)"undefined"!==r(o[i].tagName)&&(o[i].removeEventListener("drop",this.dropEvent.bind(this)),o[i].removeEventListener("dragstart",this.dragStart.bind(this)),o[i].removeEventListener("dragenter",this.dragEnter.bind(this)),o[i].removeEventListener("dragleave",this.dragLeave.bind(this)),o[i].removeEventListener("dragend",this.dragEnd.bind(this)),o[i].removeEventListener("dragover",function(e){e.preventDefault()}),o[i].removeAttribute("draggable"),o[i].removeAttribute("data-draggable"),o[i].removeAttribute("tabindex"))}},{key:"dragEnter",value:function(e){this.editMode&&(e.preventDefault(),e.target.classList.add("hovered"))}},{key:"dragLeave",value:function(e){this.editMode&&e.target.classList.remove("hovered")}},{key:"dblclick",value:function(e){if(this.editMode&&e.target.id){var t={};t.properties={slot:e.target.id.replace("col","col-")},this.dispatchEvent(new CustomEvent("grid-plate-add-item",{bubbles:!0,cancelable:!0,composed:!0,detail:t}))}}},{key:"dropEvent",value:function(e){var t=this;if(this.editMode){var o=n.dom(e).localTarget;if("undefined"!==r(this.activeItem)&&null!==this.activeItem&&"undefined"!==r(o)&&null!=o.getAttribute("slot")&&this.activeItem!==o)this.activeItem.setAttribute("slot",o.getAttribute("slot")),n.dom(this).insertBefore(this.activeItem,o),e.preventDefault(),e.stopPropagation();else if("DIV"===o.tagName&&o.classList.contains("column")){var i=o.id.replace("col","");this.activeItem.setAttribute("slot","col-"+i),n.dom(this).appendChild(this.activeItem),e.preventDefault(),e.stopPropagation()}var s=n.dom(this).children;for(var a in s)"undefined"!==r(s[a].classList)&&s[a].classList.remove("mover");for(var l=1;l<=this.columns;l++)void 0!==this.shadowRoot.querySelector("#col"+l)&&this.shadowRoot.querySelector("#col"+l).classList.remove("mover");setTimeout(function(){t.activeItem&&"function"==typeof t.activeItem.focus&&(t.positionArrows(t.activeItem),t.activeItem.focus())},100)}}},{key:"dragStart",value:function(e){if(this.editMode){var t=n.dom(this).children;for(var o in t)"undefined"!==r(t[o].classList)&&t[o].classList.add("mover");for(var i=1;i<=this.columns;i++)void 0!==this.shadowRoot.querySelector("#col"+i)&&this.shadowRoot.querySelector("#col"+i).classList.add("mover")}}},{key:"dragEnd",value:function(e){if(this.editMode){var t=n.dom(this).children;for(var o in t)"undefined"!==r(t[o].classList)&&t[o].classList.remove("mover","hovered");for(var i=1;i<=this.columns;i++)void 0!==this.shadowRoot.querySelector("#col"+i)&&this.shadowRoot.querySelector("#col"+i).classList.remove("mover","hovered")}}},{key:"haxInsertContent",value:function(e){var t=this;this===window.HaxStore.instance.activeContainerNode&&(this.editMode=!1,setTimeout(function(){t.editMode=!0,t.activeItem&&"function"==typeof t.activeItem.focus&&(t.positionArrows(t.activeItem),t.activeItem.focus())},100))}},{key:"_haxStorePropertyUpdated",value:function(e){e.detail&&"undefined"!==r(e.detail.value)&&e.detail.property&&("object"===r(e.detail.value)&&this.set(e.detail.property,null),"editMode"===e.detail.property&&this.ignoreHax||this.set(e.detail.property,e.detail.value))}}])&&a(v.prototype,y),g&&a(v,g),p}();window.customElements.define(p.tag,p),e.GridPlate=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=grid-plate.umd.js.map
