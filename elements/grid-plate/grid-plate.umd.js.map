{"version":3,"file":"grid-plate.umd.js","sources":["grid-plate.umd.js"],"sourcesContent":["import { LitElement, html, css } from \"lit-element/lit-element.js\";\nimport \"@lrnwebcomponents/responsive-utility/responsive-utility.js\";\n// need to make this an object so that HAX can listen for it correctly\nclass GridPlateLayoutOptions {\n  constructor() {\n    this.resizeTimer = null;\n    this.activeItem = null;\n    this.layouts = {\n      \"1\": {\n        columnLayout: \"1: full width\",\n        xs: [\"100%\"],\n        sm: [\"100%\"],\n        md: [\"100%\"],\n        lg: [\"100%\"],\n        xl: [\"100%\"]\n      },\n      \"1-1\": {\n        columnLayout: \"2: equal width\",\n        xs: [\"100%\", \"100%\"],\n        sm: [\"50%\", \"50%\"],\n        md: [\"50%\", \"50%\"],\n        lg: [\"50%\", \"50%\"],\n        xl: [\"50%\", \"50%\"]\n      },\n      \"2-1\": {\n        columnLayout: \"2: wide & narrow\",\n        xs: [\"100%\", \"100%\"],\n        sm: [\"50%\", \"50%\"],\n        md: [\"66.6666667%\", \"33.3333337%\"],\n        lg: [\"66.6666667%\", \"33.3333337%\"],\n        xl: [\"66.6666667%\", \"33.3333337%\"]\n      },\n      \"1-2\": {\n        columnLayout: \"2: narrow & wide\",\n        xs: [\"100%\", \"100%\"],\n        sm: [\"50%\", \"50%\"],\n        md: [\"33.3333333%\", \"66.6666667%\"],\n        lg: [\"33.3333333%\", \"66.6666667%\"],\n        xl: [\"33.3333333%\", \"66.6666667%\"]\n      },\n      \"3-1\": {\n        columnLayout: \"2: wider & narrower\",\n        xs: [\"100%\", \"100%\"],\n        sm: [\"50%\", \"50%\"],\n        md: [\"75%\", \"25%\"],\n        lg: [\"75%\", \"25%\"],\n        xl: [\"75%\", \"25%\"]\n      },\n      \"1-3\": {\n        columnLayout: \"2: narrower & wider\",\n        xs: [\"100%\", \"100%\"],\n        sm: [\"50%\", \"50%\"],\n        md: [\"25%\", \"75%\"],\n        lg: [\"25%\", \"75%\"],\n        xl: [\"25%\", \"75%\"]\n      },\n      \"1-1-1\": {\n        columnLayout: \"3: equal width\",\n        xs: [\"100%\", \"100%\", \"100%\"],\n        sm: [\"100%\", \"100%\", \"100%\"],\n        md: [\"33.3333333%\", \"33.3333333%\", \"33.3333333%\"],\n        lg: [\"33.3333333%\", \"33.3333333%\", \"33.3333333%\"],\n        xl: [\"33.3333333%\", \"33.3333333%\", \"33.3333333%\"]\n      },\n      \"2-1-1\": {\n        columnLayout: \"3: wide, narrow, and narrow\",\n        xs: [\"100%\", \"100%\", \"100%\"],\n        sm: [\"100%\", \"50%\", \"50%\"],\n        md: [\"50%\", \"25%\", \"25%\"],\n        lg: [\"50%\", \"25%\", \"25%\"],\n        xl: [\"50%\", \"25%\", \"25%\"]\n      },\n      \"1-2-1\": {\n        columnLayout: \"3: narrow, wide, and narrow\",\n        xs: [\"100%\", \"100%\", \"100%\"],\n        sm: [\"100%\", \"100%\", \"100%\"],\n        md: [\"25%\", \"50%\", \"25%\"],\n        lg: [\"25%\", \"50%\", \"25%\"],\n        xl: [\"25%\", \"50%\", \"25%\"]\n      },\n      \"1-1-2\": {\n        columnLayout: \"3: narrow, narrow, and wide\",\n        xs: [\"100%\", \"100%\", \"100%\"],\n        sm: [\"50%\", \"50%\", \"100%\"],\n        md: [\"25%\", \"25%\", \"50%\"],\n        lg: [\"25%\", \"25%\", \"50%\"],\n        xl: [\"25%\", \"25%\", \"50%\"]\n      },\n      \"1-1-1-1\": {\n        columnLayout: \"4: equal width\",\n        xs: [\"100%\", \"100%\", \"100%\", \"100%\"],\n        sm: [\"50%\", \"50%\", \"50%\", \"50%\"],\n        md: [\"25%\", \"25%\", \"25%\", \"25%\"],\n        lg: [\"25%\", \"25%\", \"25%\", \"25%\"],\n        xl: [\"25%\", \"25%\", \"25%\", \"25%\"]\n      },\n      \"1-1-1-1-1\": {\n        columnLayout: \"5: equal width\",\n        xs: [\"100%\", \"100%\", \"100%\", \"100%\", \"100%\"],\n        sm: [\"50%\", \"50%\", \"50%\", \"50%\", \"50%\"],\n        md: [\"20%\", \"20%\", \"20%\", \"20%\", \"20%\"],\n        lg: [\"20%\", \"20%\", \"20%\", \"20%\", \"20%\"],\n        xl: [\"20%\", \"20%\", \"20%\", \"20%\", \"20%\"]\n      },\n      \"1-1-1-1-1-1\": {\n        columnLayout: \"6: equal width\",\n        xs: [\"100%\", \"100%\", \"100%\", \"100%\", \"100%\", \"100%\"],\n        sm: [\"50%\", \"50%\", \"50%\", \"50%\", \"50%\", \"50%\"],\n        md: [\n          \"33.3333333%\",\n          \"33.3333333%\",\n          \"33.3333333%\",\n          \"33.3333333%\",\n          \"33.3333333%\",\n          \"33.3333333%\"\n        ],\n        lg: [\n          \"16.6666667%\",\n          \"16.6666667%\",\n          \"16.6666667%\",\n          \"16.6666667%\",\n          \"16.6666667%\",\n          \"16.6666667%\"\n        ],\n        xl: [\n          \"16.6666667%\",\n          \"16.6666667%\",\n          \"16.6666667%\",\n          \"16.6666667%\",\n          \"16.6666667%\",\n          \"16.6666667%\"\n        ]\n      }\n    };\n    this.options = {};\n    let layoutFlip = Object.keys(this.layouts);\n    // loop through all the supplied layouts to get the HAX layout options & descriptions\n    for (let i = 0; i < layoutFlip.length; i++) {\n      this.options[layoutFlip[i]] = this.layouts[layoutFlip[i]].columnLayout;\n    }\n  }\n}\n/**\n * `grid-plate`\n * @customElement grid-plate\n * `A grid plate based on a layout that manipulates it.`\n * @demo demo/index.html\n */\nclass GridPlate extends LitElement {\n  /**\n   * LitElement render styles\n   */\n  static get styles() {\n    return [\n      css`\n        :host {\n          display: block;\n          --grid-plate-row-margin: 0px;\n          --grid-plate-row-padding: 0px;\n          --grid-plate-item-margin: 15px;\n          --grid-plate-editable-border-color: var(\n            --simple-colors-default-theme-grey-2\n          );\n          --grid-plate-active-border-color: #000000;\n          --grid-plate-target-background-color: var(\n            --simple-colors-default-theme-grey-2\n          );\n          --grid-plate-possible-target-background-color: transparent;\n          --grid-plate-selected-background-color: #ffffff;\n          --grid-plate-arrow-color: #000000;\n          --grid-plate-arrow-bg: var(--simple-colors-default-theme-grey-2);\n        }\n        :host .row {\n          width: 100%;\n          display: flex;\n          flex-wrap: wrap;\n          justify-content: space-between;\n          align-items: stretch;\n          margin: var(--grid-plate-row-margin);\n          padding: var(--grid-plate-row-padding);\n        }\n        :host .column {\n          width: 100%;\n          flex: 0 0 auto;\n        }\n        :host([edit-mode]) .column {\n          min-height: 150px;\n          transition: 0.2s color linear, 0.2s background-color linear,\n            0.2s outline linear;\n        }\n        :host([edit-mode]) .column {\n          outline: 2px dashed var(--grid-plate-editable-border-color);\n        }\n        :host .column[style=\"min-height: unset;\"] {\n          display: none;\n        }\n        :host([edit-mode]) .column[style=\"min-height: unset;\"]:not(:empty) {\n          display: block;\n          outline: 2px solid red;\n          width: 20%;\n          min-width: 100px;\n          padding: 15px 0;\n          min-height: 50px !important;\n          margin-top: var(--grid-plate-item-margin);\n        }\n        :host([edit-mode])\n          .column[style=\"min-height: unset;\"]:not(:empty):before {\n          content: attr(data-label) \" hidden\";\n          margin: var(--grid-plate-item-margin);\n          color: red;\n          font-size: 12px;\n          font-weight: bold;\n          padding: 4px;\n        }\n        :host .column ::slotted(*) {\n          margin: var(--grid-plate-item-margin);\n          padding: var(--grid-plate-item-margin);\n          max-width: calc(100% - 60px);\n          max-width: -webkit-fill-available;\n          transition: 0.2s color linear, 0.2s background-color linear,\n            0.2s outline linear;\n        }\n        :host([edit-mode]) .column ::slotted(img) {\n          display: block;\n        }\n        :host([edit-mode]) .column ::slotted(.grid-plate-active-item) {\n          outline: 2px dashed var(--grid-plate-active-border-color);\n          background-color: var(--grid-plate-selected-background-color);\n        }\n        :host([edit-mode]) .column ::slotted(*:focus),\n        :host([edit-mode]) .column ::slotted(*:hover),\n        :host([edit-mode]) .column ::slotted(*:active) {\n          outline: 2px dashed var(--grid-plate-editable-border-color);\n        }\n        :host([edit-mode]) .column ::slotted(*.mover):before {\n          outline: 2px dashed var(--grid-plate-editable-border-color);\n          background-color: var(--grid-plate-possible-target-background-color);\n          content: \" \";\n          width: 100%;\n          display: block;\n          position: relative;\n          margin: -30px 0 0 0;\n          z-index: 2;\n          height: 30px;\n        }\n        :host([edit-mode]) .column ::slotted(img.mover) {\n          outline: 2px dashed var(--grid-plate-editable-border-color);\n          background-color: var(--grid-plate-possible-target-background-color);\n        }\n        :host([edit-mode]) .column.mover {\n          outline: 2px dashed var(--grid-plate-editable-border-color);\n        }\n        :host([edit-mode]) #bodycontainer ::slotted(*.moving) {\n          outline: 2px dashed var(--hax-body-active-border-color);\n          background-color: #eeeeee;\n        }\n        :host([edit-mode]) .column.mover {\n          content: \"Double click to create a paragraph here\";\n          background-color: var(--grid-plate-possible-target-background-color);\n        }\n        :host([edit-mode]) .column ::slotted(img.hovered),\n        :host([edit-mode]) .column ::slotted(*.hovered):before {\n          background-color: var(\n            --grid-plate-target-background-color\n          ) !important;\n          outline: dashed 2px var(--grid-plate-active-border-color);\n        }\n        :host([edit-mode]) .column.hovered {\n          background-color: var(\n            --grid-plate-target-background-color\n          ) !important;\n          outline: dashed 2px var(--grid-plate-active-border-color);\n          z-index: 2;\n        }\n        paper-icon-button {\n          display: none;\n          position: absolute;\n          margin: 0;\n          padding: 0;\n          outline: none;\n          width: 20px;\n          height: 20px;\n          color: var(--grid-plate-arrow-color);\n          opacity: 1;\n          background-color: var(--grid-plate-arrow-bg);\n          border-radius: 50%;\n          box-sizing: content-box !important;\n          z-index: 2;\n          min-width: unset;\n          transition: 0.2s color linear, 0.2s background-color linear;\n        }\n        paper-icon-button:hover {\n          opacity: 1;\n          visibility: visible;\n          background-color: var(--grid-plate-arrow-color);\n          color: var(--grid-plate-arrow-bg);\n        }\n        #drag {\n          cursor: move;\n        }\n        paper-icon-button[disabled] {\n          opacity: 0.5;\n        }\n        paper-icon-button[disabled]:focus,\n        paper-icon-button[disabled]:hover {\n          cursor: not-allowed;\n        }\n        paper-icon-button.active {\n          display: block;\n        }\n\n        .button-holding-pen {\n          position: relative;\n        }\n      `\n    ];\n  }\n  constructor() {\n    super();\n    this.droppable = false;\n    this.ignoreHax = false;\n    this.breakpointSm = 900;\n    this.breakpointMd = 1200;\n    this.breakpointLg = 1500;\n    this.breakpointXl = 1800;\n    this.columns = 6;\n    this.disableResponsive = false;\n    this.editMode = false;\n    this.layout = \"1-1\";\n    this.layouts = new GridPlateLayoutOptions().layouts;\n    this.responsiveSize = \"xs\";\n    import(\"@polymer/paper-icon-button/paper-icon-button.js\");\n    import(\"@polymer/iron-icons/hardware-icons.js\");\n    import(\"@polymer/iron-icons/editor-icons.js\");\n    setTimeout(() => {\n      this.addEventListener(\"focusin\", this._focusIn.bind(this));\n      this.addEventListener(\"dragenter\", this.dragEnterGrid.bind(this));\n    }, 0);\n    window.ResponsiveUtility.requestAvailability();\n  }\n  /**\n   * LitElement render\n   */\n  render() {\n    return html`\n      <div class=\"button-holding-pen\">\n        <paper-icon-button\n          class=\"direction\"\n          icon=\"editor:drag-handle\"\n          title=\"Drag\"\n          draggable=\"true\"\n          id=\"drag\"\n          @dragstart=\"${this.dragStart}\"\n          @dragend=\"${this.dragEnd}\"\n        >\n        </paper-icon-button>\n        <paper-icon-button\n          class=\"direction\"\n          icon=\"hardware:keyboard-arrow-up\"\n          title=\"Move up\"\n          id=\"up\"\n          @click=\"${this.moveActiveElement}\"\n        >\n        </paper-icon-button>\n        <paper-icon-button\n          class=\"direction\"\n          icon=\"hardware:keyboard-arrow-right\"\n          title=\"Move right\"\n          id=\"right\"\n          @click=\"${this.moveActiveElement}\"\n        >\n        </paper-icon-button>\n        <paper-icon-button\n          class=\"direction\"\n          icon=\"hardware:keyboard-arrow-down\"\n          title=\"Move down\"\n          id=\"down\"\n          @click=\"${this.moveActiveElement}\"\n        >\n        </paper-icon-button>\n        <paper-icon-button\n          class=\"direction\"\n          icon=\"hardware:keyboard-arrow-left\"\n          title=\"Move left\"\n          id=\"left\"\n          @click=\"${this.moveActiveElement}\"\n        >\n        </paper-icon-button>\n      </div>\n      <div class=\"row\">\n        <div\n          class=\"column\"\n          id=\"col1\"\n          data-label=\"Column 1\"\n          .style=\"${this._getColumnWidth(0, this.columnWidths)}\"\n        >\n          <slot name=\"col-1\"></slot>\n        </div>\n        <div\n          class=\"column\"\n          id=\"col2\"\n          data-label=\"Column 2\"\n          .style=\"${this._getColumnWidth(1, this.columnWidths)}\"\n        >\n          <slot name=\"col-2\"></slot>\n        </div>\n        <div\n          class=\"column\"\n          id=\"col3\"\n          data-label=\"Column 3\"\n          .style=\"${this._getColumnWidth(2, this.columnWidths)}\"\n        >\n          <slot name=\"col-3\"></slot>\n        </div>\n        <div\n          class=\"column\"\n          id=\"col4\"\n          data-label=\"Column 4\"\n          .style=\"${this._getColumnWidth(3, this.columnWidths)}\"\n        >\n          <slot name=\"col-4\"></slot>\n        </div>\n        <div\n          class=\"column\"\n          id=\"col5\"\n          data-label=\"Column 5\"\n          .style=\"${this._getColumnWidth(4, this.columnWidths)}\"\n        >\n          <slot name=\"col-5\"></slot>\n        </div>\n        <div\n          class=\"column\"\n          id=\"col6\"\n          data-label=\"Column 6\"\n          .style=\"${this._getColumnWidth(5, this.columnWidths)}\"\n        >\n          <slot name=\"col-6\"></slot>\n        </div>\n      </div>\n    `;\n  }\n  static get tag() {\n    return \"grid-plate\";\n  }\n  /**\n   * Validate the slot name\n   */\n  validateElementSlot(node) {\n    return [\"col-1\", \"col-2\", \"col-3\", \"col-4\", \"col-5\", \"col-6\"].includes(\n      node.getAttribute(\"slot\")\n    );\n  }\n  /**\n   * HTMLElement\n   */\n  connectedCallback() {\n    super.connectedCallback();\n    this.observer = new MutationObserver(mutations => {\n      mutations.forEach(mutation => {\n        // only need to apply this when we're in editMode\n        // this implies something was added dynamically or drag and drop\n        // from outside this element or dragging between grid plates\n        // so we need to disconnect the handlers from here and pick them\n        // up in the new plate\n        if (this.editMode) {\n          mutation.addedNodes.forEach(node => {\n            if (node.tagName) {\n              // verify this has a slot set otherwise we need to set one on the fly\n              // otherwise this won't show up. This could be incorrectly formed HTML\n              // DOM that was pushed in via an outside system or edge cases of things\n              // dropping in without a slot set in anyway\n              // validate slot name, otherwise force it to col-1\n              if (\n                node.getAttribute(\"slot\") == null ||\n                !this.validateElementSlot(node)\n              ) {\n                node.setAttribute(\"slot\", \"col-1\");\n              }\n              // event timeout is to help w/ between grid plate drops\n              setTimeout(() => {\n                node.addEventListener(\"drop\", this.dropEvent.bind(this));\n                node.addEventListener(\"dragenter\", this.dragEnter.bind(this));\n                node.addEventListener(\"dragleave\", this.dragLeave.bind(this));\n                node.addEventListener(\"dragend\", this.dragEnd.bind(this));\n                node.addEventListener(\"dragover\", function(e) {\n                  e.preventDefault();\n                });\n                // UX normalization\n                if (node.tagName === \"IMG\") {\n                  node.setAttribute(\"draggable\", false);\n                }\n                // ensure they can be focused\n                node.setAttribute(\"tabindex\", 0);\n              }, 50);\n            }\n          });\n          mutation.removedNodes.forEach(node => {\n            if (node.tagName) {\n              node.removeEventListener(\"drop\", this.dropEvent.bind(this));\n              node.removeEventListener(\"dragenter\", this.dragEnter.bind(this));\n              node.removeEventListener(\"dragleave\", this.dragLeave.bind(this));\n              node.removeEventListener(\"dragover\", function(e) {\n                e.preventDefault();\n              });\n              if (node.tagName === \"IMG\") {\n                node.removeAttribute(\"draggable\");\n              }\n              // ensure they can be focused\n              node.removeAttribute(\"tabindex\");\n            }\n          });\n        }\n      });\n    });\n    this.observer.observe(this, {\n      childList: true\n    });\n    // capture keydown events\n    window.addEventListener(\"keydown\", this._onKeyDown.bind(this));\n    // listen for HAX if it's around\n    window.addEventListener(\n      \"hax-store-property-updated\",\n      this._haxStorePropertyUpdated.bind(this)\n    );\n    // listen for HAX insert events if it exists\n    window.addEventListener(\n      \"hax-insert-content\",\n      this.haxInsertContent.bind(this)\n    );\n    // dom loaded, resize to be safe\n    window.addEventListener(\"load\", this.resize.bind(this));\n    // if we resize, listen and react\n    window.addEventListener(\"resize\", this.resizeListener.bind(this));\n  }\n  resizeListener(e) {\n    if (this.activeItem) {\n      clearTimeout(this.resizeTimer);\n      this.resizeTimer = setTimeout(() => {\n        this.positionArrows(this.activeItem);\n      }, 50);\n    }\n  }\n  _onKeyDown(e) {\n    if (this.editMode && this.getAttribute(\"contenteditable\")) {\n      switch (e.key) {\n        case \"Enter\":\n          // support HAX text operations should take priority\n          if (\n            window.HaxStore &&\n            window.HaxStore.instance &&\n            window.HaxStore.instance.isTextElement(this.activeItem)\n          ) {\n            return true;\n          }\n          this.shadowRoot.querySelector(\"#right\").focus();\n          break;\n        // clear active\n        case \"Escape\":\n          this.activeItem = null;\n          break;\n      }\n    }\n  }\n  /**\n   * life cycle\n   */\n  firstUpdated(changedProperties) {\n    window.dispatchEvent(\n      new CustomEvent(\"responsive-element\", {\n        detail: {\n          element: this,\n          attribute: \"responsive-size\",\n          relativeToParent: false,\n          sm: this.breakpointSm,\n          md: this.breakpointMd,\n          lg: this.breakpointLg,\n          xl: this.breakpointXl\n        }\n      })\n    );\n    // apply handlers to the columns themselves\n    for (var j = 1; j <= this.columns; j++) {\n      if (this.shadowRoot.querySelector(\"#col\" + j) !== undefined) {\n        let col = this.shadowRoot.querySelector(\"#col\" + j);\n        col.addEventListener(\"drop\", this.dropEvent.bind(this));\n        col.addEventListener(\"dblclick\", this.dblclick.bind(this));\n        col.addEventListener(\"dragenter\", this.dragEnter.bind(this));\n        col.addEventListener(\"dragleave\", this.dragLeave.bind(this));\n        col.addEventListener(\"dragover\", function(e) {\n          e.preventDefault();\n        });\n      }\n    }\n    this.columnWidths = this._getColumnWidths(\n      this.responsiveSize,\n      this.layout,\n      this.layouts,\n      this.disableResponsive\n    );\n  }\n  /**\n   * life cycle\n   */\n  disconnectedCallback() {\n    window.removeEventListener(\"keydown\", this._onKeyDown.bind(this));\n    // listen for HAX if it's around\n    window.removeEventListener(\n      \"hax-store-property-updated\",\n      this._haxStorePropertyUpdated.bind(this)\n    );\n    // listen for HAX insert events if it exists\n    window.removeEventListener(\n      \"hax-insert-content\",\n      this.haxInsertContent.bind(this)\n    );\n    window.removeEventListener(\"load\", this.resize.bind(this));\n    window.removeEventListener(\"resize\", this.resizeListener.bind(this));\n    // clean up mutation observer\n    this.observer.disconnect();\n    super.disconnectedCallback();\n  }\n  static get haxProperties() {\n    return {\n      canScale: true,\n      canPosition: true,\n      canEditSource: false,\n      settings: {\n        quick: [],\n        configure: [\n          {\n            property: \"layout\",\n            title: \"Column Layout\",\n            description:\n              \"Style to present these items (may change for small screens)\",\n            inputMethod: \"select\",\n            options: new GridPlateLayoutOptions().options\n          }\n        ],\n        advanced: [\n          {\n            property: \"breakpointSm\",\n            title: \"Small Breakpoint\",\n            description:\n              \"Anything less than this number (in pixels) will render with the smallest version of this layout\",\n            inputMethod: \"textfield\",\n            validationType: \"number\"\n          },\n          {\n            property: \"breakpointMd\",\n            title: \"Medium Breakpoint\",\n            description:\n              \"Anything less than this number (in pixels) will render with the small version of this layout\",\n            inputMethod: \"textfield\",\n            validationType: \"number\"\n          },\n          {\n            property: \"breakpointLg\",\n            title: \"Large Breakpoint\",\n            description:\n              \"Anything less than this number (in pixels) will render with the medium version of this layout.\",\n            inputMethod: \"textfield\",\n            validationType: \"number\"\n          },\n          {\n            property: \"breakpointXl\",\n            title: \"Extra-Large Breakpoint\",\n            description:\n              \"Anything less than this number (in pixels) will render with the large version of this layout. Anything greater than or equal to this number will display with the maximum number of columns for this layout.\",\n            inputMethod: \"textfield\",\n            validationType: \"number\"\n          }\n        ]\n      },\n      saveOptions: {\n        unsetAttributes: [\n          \"grid-plate-active-item\",\n          \"edit-mode\",\n          \"active-item\",\n          \"layouts\",\n          \"columns\",\n          \"options\",\n          \"droppable\",\n          \"ignorehax\",\n          \"disableresponsive\",\n          \"activeitem\"\n        ]\n      }\n    };\n  }\n  static get properties() {\n    return {\n      droppable: {\n        type: Boolean,\n        reflect: true\n      },\n      ignoreHax: {\n        type: Boolean,\n        attribute: \"ignore-hax\"\n      },\n      /**\n       * Custom small breakpoint for the layouts; only updated on attached\n       */\n      breakpointSm: {\n        type: Number,\n        attribute: \"breakpoint-sm\"\n      },\n      /**\n       * Custom medium breakpoint for the layouts; only updated on attached\n       */\n      breakpointMd: {\n        type: Number,\n        attribute: \"breakpoint-md\"\n      },\n      /**\n       * Custom large breakpoint for the layouts; only updated on attached\n       */\n      breakpointLg: {\n        type: Number,\n        attribute: \"breakpoint-lg\"\n      },\n      /**\n       * Custom extra-large breakpoint for the layouts; only updated on attached\n       */\n      breakpointXl: {\n        type: Number,\n        attribute: \"breakpoint-xl\"\n      },\n      /**\n       * number of columns at this layout / responsive size\n       */\n      columns: {\n        type: Number,\n        reflect: true\n      },\n      /**\n       * disables responsive layouts for HAX preview\n       */\n      disableResponsive: {\n        type: Boolean,\n        attribute: \"disable-responsive\"\n      },\n      /**\n       * If the grid plate is in a state where its items\n       * can be modified as far as order or column placement.\n       */\n      editMode: {\n        reflect: true,\n        type: Boolean,\n        attribute: \"edit-mode\"\n      },\n      /**\n       * an object with a layout's column sizes\n       * at the current responsive width\n       */\n      layout: {\n        type: String,\n        reflect: true\n      },\n      /**\n       * Predefined layouts of column sizes and various responsive widths. \n       * For example:```\n  {\n    \"1-1-1-1\": {                         //the name of the layout\n      \"xs\": [\"100%\",\"100%\",\"100%\",\"100%] //the responsive width of each column when the grid is extra small\n      \"sm\": [\"50%\",\"50%\",\"50%\",\"50%\"]    //the responsive width of each column when the grid is small\n      \"md\": [\"50%\",\"50%\",\"50%\",\"50%\"]    //the responsive width of each column when the grid is medium\n      \"lg\": [\"25%\",\"25%\",\"25%\",\"25%\"]    //the responsive width of each column when the grid is large\n      \"xl\": [\"25%\",\"25%\",\"25%\",\"25%\"]    //the responsive width of each column when the grid is extra large\n    },\n    {...}\n  }```\n      */\n      layouts: {\n        type: Object\n      },\n      /**\n       * Responsive size as `xs`, `sm`, `md`, `lg`, or `xl`\n       */\n      responsiveSize: {\n        type: String,\n        reflect: true,\n        attribute: \"responsive-size\"\n      },\n      /**\n       * Track active item\n       */\n      activeItem: {\n        type: Object,\n        attribute: \"active-item\"\n      },\n      /**\n       * name of selected layout\n       */\n      columnWidths: {\n        type: String,\n        attribute: \"column-widths\"\n      }\n    };\n  }\n  updated(changedProperties) {\n    changedProperties.forEach((oldValue, propName) => {\n      // if any of these changed, update col widths\n      if (\n        [\"responsiveSize\", \"layout\", \"layouts\", \"disableResponsive\"].includes(\n          propName\n        )\n      ) {\n        this.columnWidths = this._getColumnWidths(\n          this.responsiveSize,\n          this.layout,\n          this.layouts,\n          this.disableResponsive\n        );\n      }\n      switch (propName) {\n        // observer\n        case \"droppable\":\n          this._droppableChanged(this[propName], oldValue);\n          break;\n        // observer\n        case \"editMode\":\n          this._editModeChanged(this[propName], oldValue);\n          this.resize();\n          break;\n        // observer\n        case \"activeItem\":\n          this._activeItemChanged(this[propName], oldValue);\n          break;\n        // observer, ensure we are sized correctly after widths change\n        case \"columnWidths\":\n          // widths changed because of layout somehow, wait for the resize transition\n          // to have processed, then fire a resize event which we are listening for\n          // which will then ensure the arrows are positioned correctly\n          this.resize();\n          break;\n        case \"disableResponsive\":\n          // fire an event that this is a core piece of the system\n          this.dispatchEvent(\n            new CustomEvent(\"disable-responsive-changed\", {\n              detail: this[propName]\n            })\n          );\n          break;\n      }\n    });\n  }\n  resize() {\n    window.dispatchEvent(new Event(\"resize\"));\n  }\n  /**\n   * Implements preProcessHaxInsertContent to clean up output on save\n   */\n  preProcessHaxInsertContent(detail) {\n    // ensure this is wiped to avoid issues in building\n    delete detail.properties.activeItem;\n    return detail;\n  }\n\n  _droppableChanged(newValue) {\n    if (newValue) {\n      this.editMode = true;\n    }\n  }\n  /**\n   * Determines if the item can move a set number of slots.\n   *\n   * @param {object} the item\n   * @param {number} -1 for left or +1 for right\n   * @returns {boolean} if the item can move a set number of slots\n   */\n  canMoveSlot(item, before) {\n    let dir = before ? -1 : 1,\n      max = this.shadowRoot.querySelectorAll(\".column\").length,\n      col = item.getAttribute(\"slot\").split(\"-\"),\n      dest = parseInt(col[1]) + dir;\n    return dest >= 1 && dest <= max;\n  }\n  /**\n   * Moves an item a set number of slots.\n   *\n   * @param {object} the item\n   * @param {number} -1 for left or +1 for right\n   */\n  moveSlot(item, before) {\n    let dir = before ? -1 : 1,\n      col = item.getAttribute(\"slot\").split(\"-\"),\n      dest = parseInt(col[1]) + dir;\n    item.setAttribute(\"slot\", \"col-\" + dest);\n  }\n\n  /**\n   * Determines if the item can move a set number of slots.\n   *\n   * @param {object} the item\n   * @param {boolean} move item before previous? (false for move item after next)\n   * @returns {boolean} if the item can move a set number of slots\n   */\n  canMoveOrder(item, before) {\n    let slot = item.getAttribute(\"slot\");\n    let nodes = this.shadowRoot\n      .querySelector(`slot[name='${slot}']`)\n      .assignedNodes({ flatten: true });\n    let target = null,\n      position = 0;\n    for (var i in nodes) {\n      if (item === nodes[i]) {\n        position = i;\n      }\n    }\n    if (before && parseInt(position) - 1 >= 0) {\n      target = nodes[parseInt(position) - 1];\n    } else if (!before && parseInt(position) + 1 <= nodes.length - 1) {\n      target = nodes[parseInt(position) + 1];\n    }\n    return target !== null && typeof target !== typeof undefined;\n  }\n  /**\n   * Moves an item's order within a slot.\n   *\n   * @param {object} the item\n   * @param {boolean} move item before previous? (false for move item after next)\n   */\n  moveOrder(item, before = true) {\n    let slot = item.getAttribute(\"slot\");\n    let nodes = this.shadowRoot\n      .querySelector(`slot[name='${slot}']`)\n      .assignedNodes({ flatten: true });\n    let target = null,\n      position = 0;\n    for (var i in nodes) {\n      if (item === nodes[i]) {\n        position = i;\n      }\n    }\n    if (before) {\n      target = nodes[parseInt(position) - 1];\n      this.insertBefore(this.activeItem, target);\n    } else {\n      target = nodes[parseInt(position) + 1];\n      this.insertBefore(target, this.activeItem);\n    }\n  }\n\n  /**\n   * Move the active element based on which button got pressed.\n   */\n  moveActiveElement(e) {\n    var local = e.target;\n    // see if this was an up down left or right movement\n    switch (local.id) {\n      case \"up\":\n        this.moveOrder(this.activeItem, true);\n        break;\n      case \"down\":\n        this.moveOrder(this.activeItem, false);\n        break;\n      case \"left\":\n        this.moveSlot(this.activeItem, true);\n        break;\n      case \"right\":\n        this.moveSlot(this.activeItem, false);\n        break;\n    }\n    // ensure arrows are correctly positioned after the move\n    if (this.activeItem && typeof this.activeItem.focus === \"function\") {\n      this.positionArrows(this.activeItem);\n      this.activeItem.focus();\n    }\n    this.__sortChildren();\n  }\n\n  /**\n   * Notice changes to what's active and ensure UX associated w/ it is visble\n   */\n  _activeItemChanged(newValue, oldValue) {\n    // remove anything currently with the active class\n    this.querySelectorAll(\".grid-plate-active-item\").forEach(el => {\n      el.classList.remove(\"grid-plate-active-item\");\n    });\n    if (typeof newValue !== typeof undefined && newValue != null) {\n      // position arrows\n      newValue.classList.add(\"grid-plate-active-item\");\n      this.positionArrows(newValue);\n    } else if (newValue == null) {\n      this.positionArrows(newValue);\n    }\n    // if we had a previous value then remove the active item class\n    if (typeof oldValue !== typeof undefined && oldValue != null) {\n      oldValue.blur();\n    }\n  }\n  /**\n   * gets the column widths based on selected layout and current responsive width\n   *\n   * @param {string} a string that describes the current responsive width\n   * @param {string} the name of selected layout\n   * @param {object} predefined layouts of column sizes and various responsive widths\n   * @param {boolean} disable responsive sizing?\n   * @returns {object} an object with a layout's column sizes at the current responsive width\n   */\n  _getColumnWidths(\n    responsiveSize = \"sm\",\n    layout = \"1-1\",\n    layouts,\n    disableResponsive\n  ) {\n    if (layouts) {\n      let newl = layouts[layout],\n        //how old layout names map to the new ones\n        oldLayouts = {\n          \"12\": \"1\",\n          \"8/4\": \"2-1\",\n          \"6/6\": \"1-1\",\n          \"4/8\": \"1-2\",\n          \"4/4/4\": \"1-1-1\",\n          \"3/3/3/3\": \"1-1-1-1\"\n        },\n        size = disableResponsive !== false ? \"xl\" : responsiveSize;\n      let oldl = oldLayouts[layout];\n      if (newl !== undefined && newl[size] !== undefined) {\n        //return the layout\n        return layouts[layout][size];\n      } else if (\n        layouts[oldl] !== undefined &&\n        layouts[oldl][size] !== undefined\n      ) {\n        //return new layout that maps to old one\n        return layouts[oldl][size];\n      } else if (typeof layouts[\"1-1\"] !== typeof undefined) {\n        //return 2-column layout\n        return layouts[\"1-1\"][size];\n      }\n    }\n  }\n\n  /**\n   * gets a given column's current width based on layout and current responsive width\n   *\n   * @param {number} the index of the column\n   * @param {object} an object with a layout's column sizes at the current responsive width\n   * @returns {string} a given column's current width based on layout and current responsive width\n   */\n  _getColumnWidth(column, columnWidths) {\n    return columnWidths !== undefined && columnWidths[column] !== undefined\n      ? \"width:\" + columnWidths[column]\n      : \"min-height: unset\";\n  }\n  /**\n   * gets a given column's current width based on layout and current responsive width\n   *\n   * @param {string} the name of selected layout\n   * @returns {number} the number of columns in this layout\n   */\n  _getColumns(columnWidths) {\n    return columnWidths.length;\n  }\n  /**\n   * Focus / tab / click event normalization\n   */\n  _focusIn(e) {\n    if (this.editMode) {\n      var local = e.target;\n      // only activate if we touch something that's in the slot of the grid plate\n      if (local.parentNode === this) {\n        this.activeItem = local;\n      }\n    }\n  }\n  /**\n   * Position the arrows to change directions around something\n   */\n  positionArrows(item, onlyArrows = false) {\n    if (item == null) {\n      this.shadowRoot.querySelectorAll(\".direction\").forEach(el => {\n        if (!onlyArrows) {\n          el.classList.remove(\"active\");\n        } else {\n          if (el.id != \"drag\") {\n            el.classList.remove(\"active\");\n          }\n        }\n      });\n    } else {\n      this.shadowRoot.querySelectorAll(\".direction\").forEach(el => {\n        el.classList.add(\"active\");\n      });\n\n      // ensure we disable invalid options contextually\n      // test for an element above us\n      this.shadowRoot.querySelector(\"#up\").disabled = !this.canMoveOrder(\n        item,\n        true\n      );\n      // test for an element below us\n      this.shadowRoot.querySelector(\"#down\").disabled = !this.canMoveOrder(\n        item,\n        false\n      );\n      // test for a column to the left of us\n      this.shadowRoot.querySelector(\"#left\").disabled = !this.canMoveSlot(\n        item,\n        true\n      );\n      // test for a column to the right of us\n      this.shadowRoot.querySelector(\"#right\").disabled = !this.canMoveSlot(\n        item,\n        false\n      );\n      // get coordinates of the page and active element\n      // delay since a transition might move it\n      let bodyRect = this.getBoundingClientRect();\n      let elemRect = item.getBoundingClientRect();\n      let topOffset = elemRect.top - bodyRect.top;\n      let leftOffset = elemRect.left - bodyRect.left;\n\n      // set the arrows to position correctly at all 4 sides\n      this.shadowRoot.querySelector(\"#up\").style.top = topOffset - 10 + \"px\";\n      this.shadowRoot.querySelector(\"#down\").style.top =\n        topOffset + elemRect.height - 10 + \"px\";\n      this.shadowRoot.querySelector(\"#left\").style.top =\n        topOffset + elemRect.height / 2 - 10 + \"px\";\n      this.shadowRoot.querySelector(\"#right\").style.top =\n        topOffset + elemRect.height / 2 - 10 + \"px\";\n\n      this.shadowRoot.querySelector(\"#drag\").style.top = topOffset - 10 + \"px\";\n      this.shadowRoot.querySelector(\"#drag\").style.left =\n        leftOffset - 10 + \"px\";\n\n      this.shadowRoot.querySelector(\"#up\").style.left =\n        leftOffset + elemRect.width / 2 - 10 + \"px\";\n      this.shadowRoot.querySelector(\"#down\").style.left =\n        leftOffset + elemRect.width / 2 - 10 + \"px\";\n      this.shadowRoot.querySelector(\"#left\").style.left =\n        leftOffset - 10 + \"px\";\n      this.shadowRoot.querySelector(\"#right\").style.left =\n        leftOffset + elemRect.width - 10 + \"px\";\n    }\n  }\n  /**\n   * Notice edit state has changed\n   */\n  _editModeChanged(newValue, oldValue) {\n    // flipping from false to true\n    if (newValue && !oldValue) {\n      let children = this.children;\n      // walk the children and apply the draggable state needed\n      for (var i in children) {\n        if (children[i].tagName) {\n          children[i].addEventListener(\"drop\", this.dropEvent.bind(this));\n          children[i].addEventListener(\"dragenter\", this.dragEnter.bind(this));\n          children[i].addEventListener(\"dragleave\", this.dragLeave.bind(this));\n          children[i].addEventListener(\"dragover\", function(e) {\n            e.preventDefault();\n          });\n          if (children[i].tagName === \"IMG\") {\n            children[i].setAttribute(\"draggable\", false);\n          }\n          // ensure they can be focused\n          children[i].setAttribute(\"tabindex\", 0);\n        }\n      }\n    }\n    // flipping from true to false\n    else if (!newValue && oldValue) {\n      // unset active to clean up state\n      this.activeItem = null;\n      let children = this.children;\n      // walk the children and remove the draggable state needed\n      for (var i in children) {\n        if (typeof children[i].tagName !== typeof undefined) {\n          children[i].removeEventListener(\"drop\", this.dropEvent.bind(this));\n          children[i].removeEventListener(\n            \"dragenter\",\n            this.dragEnter.bind(this)\n          );\n          children[i].removeEventListener(\n            \"dragleave\",\n            this.dragLeave.bind(this)\n          );\n          children[i].removeEventListener(\"dragover\", function(e) {\n            e.preventDefault();\n          });\n          if (children[i].tagName === \"IMG\") {\n            children[i].removeAttribute(\"draggable\");\n          }\n          children[i].removeAttribute(\"tabindex\");\n        }\n      }\n    }\n  }\n  /**\n   * Activation allowed from outside this grid as far as drop areas\n   */\n  dragEnterGrid(e) {\n    const children = this.children;\n    // walk the children and apply the draggable state needed\n    for (var i in children) {\n      if (children[i].classList && children[i] !== this.activeItem) {\n        children[i].classList.add(\"mover\");\n      }\n    }\n    for (var j = 1; j <= this.columns; j++) {\n      if (this.shadowRoot.querySelector(\"#col\" + j) !== undefined) {\n        this.shadowRoot.querySelector(\"#col\" + j).classList.add(\"mover\");\n      }\n    }\n  }\n  /**\n   * Enter an element, meaning we've over it while dragging\n   */\n  dragEnter(e) {\n    if (this.editMode) {\n      e.preventDefault();\n      e.target.classList.add(\"hovered\");\n    }\n  }\n  /**\n   * Leaving an element while dragging.\n   */\n  dragLeave(e) {\n    if (this.editMode) {\n      e.target.classList.remove(\"hovered\");\n    }\n  }\n  /**\n   * On double check, fire an event for HAX to insert a paragraph.\n   * If they aren't using HAX then it won't do anything\n   */\n  dblclick(e) {\n    if (this.editMode && e.target.id) {\n      let detail = {};\n      detail.properties = {\n        slot: e.target.id.replace(\"col\", \"col-\")\n      };\n      this.dispatchEvent(\n        new CustomEvent(\"grid-plate-add-item\", {\n          bubbles: true,\n          cancelable: true,\n          composed: true,\n          detail: detail\n        })\n      );\n    }\n  }\n  /**\n   * Sort children based on slot name\n   */\n  __sortChildren() {\n    // select all children w/ a slot attribute and convert to an Array\n    let children = Array.prototype.slice.call(\n      this.querySelectorAll(\"[slot]\"),\n      0\n    );\n    // sort the children by slot id being low to high\n    children = children.sort(function(a, b) {\n      if (\n        parseInt(a.getAttribute(\"slot\").split(\"-\")[1]) <\n        parseInt(b.getAttribute(\"slot\").split(\"-\")[1])\n      ) {\n        return -1;\n      }\n      return 1;\n    });\n    // loop through and append these back into the grid plate.\n    // which will put them in the right order\n    children.forEach(el => {\n      this.appendChild(el);\n    });\n  }\n  /**\n   * Drop an item onto another\n   */\n  dropEvent(e) {\n    if (this.editMode) {\n      let target = this.activeItem;\n      if (this.__dragTarget) {\n        target = this.__dragTarget;\n      }\n      // support global hax store target\n      if (\n        window.HaxStore &&\n        window.HaxStore.ready &&\n        window.HaxStore.instance.__dragTarget\n      ) {\n        target = window.HaxStore.instance.__dragTarget;\n      }\n      setTimeout(() => {\n        let children = this.children;\n        // walk the children and apply the draggable state needed\n        for (var i in children) {\n          if (typeof children[i].classList !== typeof undefined) {\n            children[i].classList.remove(\"mover\", \"hovered\", \"moving\");\n          }\n        }\n        for (var j = 1; j <= this.columns; j++) {\n          if (this.shadowRoot.querySelector(\"#col\" + j) !== undefined) {\n            this.shadowRoot\n              .querySelector(\"#col\" + j)\n              .classList.remove(\"mover\", \"hovered\", \"moving\");\n          }\n        }\n        // support hax and dropping back inside grid plate\n        if (window.HaxStore && window.HaxStore.ready) {\n          let childrenHAX = window.HaxStore.instance.activeHaxBody.children;\n          // walk the children and apply the draggable state needed\n          for (var i in childrenHAX) {\n            if (childrenHAX[i].classList) {\n              childrenHAX[i].classList.remove(\"mover\", \"hovered\", \"moving\");\n            }\n          }\n        }\n        // sort the children by slot to ensure they are in the correct semantic order\n        this.__sortChildren();\n      }, 0);\n      // edge case, something caused this to drag and it tried to do\n      // itself into itself\n      if (target === this) {\n        e.preventDefault();\n        e.stopPropagation();\n        e.stopImmediatePropagation();\n        return false;\n      }\n      var local = e.target;\n      // if we have a slot on what we dropped into then we need to mirror that item\n      // and place ourselves below it in the DOM\n      if (\n        typeof target !== typeof undefined &&\n        target !== null &&\n        typeof local !== typeof undefined &&\n        local.getAttribute(\"slot\") != null &&\n        target !== local\n      ) {\n        target.setAttribute(\"slot\", local.getAttribute(\"slot\"));\n        this.insertBefore(target, local);\n        // ensure that if we caught this event we process it\n        e.preventDefault();\n        e.stopPropagation();\n        e.stopImmediatePropagation();\n      }\n      // special case for dropping on an empty column or between items\n      // which could involve a miss on the column\n      else if (local.tagName === \"DIV\" && local.classList.contains(\"column\")) {\n        var col = local.id.replace(\"col\", \"\");\n        target.setAttribute(\"slot\", \"col-\" + col);\n        this.appendChild(target);\n        // ensure that if we caught this event we process it\n        e.preventDefault();\n        e.stopPropagation();\n        e.stopImmediatePropagation();\n      }\n      setTimeout(() => {\n        // support for hax\n        if (\n          window.HaxStore &&\n          window.HaxStore.ready &&\n          window.HaxStore.instance\n        ) {\n          if (target.parentNode.tagName === \"GRID-PLATE\") {\n            window.HaxStore.write(\"activeNode\", target, this);\n            window.HaxStore.write(\n              \"activeContainerNode\",\n              target.parentNode,\n              this\n            );\n            setTimeout(() => {\n              window.HaxStore.instance.activeHaxBody.positionContextMenus(\n                target,\n                target.parentNode\n              );\n            }, 10);\n          }\n        }\n        this.positionArrows(null);\n        this.activeItem = null;\n      }, 0);\n    }\n  }\n\n  /**\n   * Start a drag event, this is an element being dragged\n   */\n  dragStart(e) {\n    if (this.editMode) {\n      if (window.HaxStore && window.HaxStore.ready) {\n        let childrenHAX = window.HaxStore.instance.activeHaxBody.children;\n        // walk the children and apply the draggable state needed\n        for (var i in childrenHAX) {\n          if (childrenHAX[i].classList) {\n            childrenHAX[i].classList.add(\"mover\");\n          }\n        }\n        window.HaxStore.instance.__dragTarget = this.activeItem;\n      } else {\n        this.__dragTarget = this.activeItem;\n      }\n      this.activeItem.classList.add(\"moving\");\n      e.dataTransfer.dropEffect = \"move\";\n      e.dataTransfer.setDragImage(this.activeItem, 0, 0);\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n      const children = this.children;\n      // walk the children and apply the draggable state needed\n      for (var i in children) {\n        if (children[i].classList && children[i] !== this.activeItem) {\n          children[i].classList.add(\"mover\");\n        }\n      }\n      for (var j = 1; j <= this.columns; j++) {\n        if (this.shadowRoot.querySelector(\"#col\" + j) !== undefined) {\n          this.shadowRoot.querySelector(\"#col\" + j).classList.add(\"mover\");\n        }\n      }\n    }\n  }\n\n  /**\n   * When we end dragging ensure we remove the mover class.\n   */\n  dragEnd(e) {\n    if (this.editMode) {\n      let children = this.children;\n      // walk the children and apply the draggable state needed\n      for (var i in children) {\n        if (typeof children[i].classList !== typeof undefined) {\n          children[i].classList.remove(\"mover\", \"hovered\", \"moving\");\n        }\n      }\n      for (var j = 1; j <= this.columns; j++) {\n        if (this.shadowRoot.querySelector(\"#col\" + j) !== undefined) {\n          this.shadowRoot\n            .querySelector(\"#col\" + j)\n            .classList.remove(\"mover\", \"hovered\", \"moving\");\n        }\n      }\n    }\n  }\n\n  /**\n   * Insert event noticed by HAX\n   */\n  haxInsertContent(e) {\n    // see if WE are the thing that's active when insert was fired\n    if (\n      this === window.HaxStore.instance.activeContainerNode &&\n      this.activeItem &&\n      typeof this.activeItem.focus === \"function\"\n    ) {\n      this.positionArrows(this.activeItem);\n      this.activeItem.focus();\n    }\n  }\n\n  /**\n   * Store updated, sync.\n   */\n  _haxStorePropertyUpdated(e) {\n    if (\n      e.detail &&\n      typeof e.detail.value !== typeof undefined &&\n      e.detail.property\n    ) {\n      if (typeof e.detail.value === \"object\") {\n        this[e.detail.property] = null;\n      }\n      if (e.detail.property === \"editMode\" && this.ignoreHax) {\n        // do nothing, we were told to ignore hax\n      } else {\n        this[e.detail.property] = e.detail.value;\n      }\n    }\n  }\n}\nwindow.customElements.define(GridPlate.tag, GridPlate);\nexport { GridPlate };\n"],"names":["GridPlateLayoutOptions","resizeTimer","activeItem","layouts","columnLayout","xs","sm","md","lg","xl","options","layoutFlip","Object","keys","this","i","length","GridPlate","droppable","ignoreHax","breakpointSm","breakpointMd","breakpointLg","breakpointXl","columns","disableResponsive","editMode","layout","responsiveSize","setTimeout","addEventListener","_this","_focusIn","bind","dragEnterGrid","window","ResponsiveUtility","requestAvailability","LitElement","css","html","dragStart","dragEnd","moveActiveElement","_getColumnWidth","columnWidths","node","includes","getAttribute","observer","MutationObserver","mutations","forEach","mutation","_this2","addedNodes","tagName","validateElementSlot","setAttribute","dropEvent","dragEnter","dragLeave","e","preventDefault","removedNodes","removeEventListener","removeAttribute","observe","childList","_onKeyDown","_haxStorePropertyUpdated","haxInsertContent","resize","resizeListener","clearTimeout","_this3","positionArrows","key","HaxStore","instance","isTextElement","shadowRoot","querySelector","focus","changedProperties","dispatchEvent","CustomEvent","detail","element","attribute","relativeToParent","j","undefined","col","dblclick","_getColumnWidths","disconnect","oldValue","propName","_this4","_droppableChanged","_editModeChanged","_activeItemChanged","Event","properties","newValue","item","before","dir","max","querySelectorAll","split","dest","parseInt","slot","nodes","assignedNodes","flatten","target","position","_typeof","insertBefore","id","moveOrder","moveSlot","__sortChildren","el","classList","remove","add","blur","newl","size","oldl","column","local","parentNode","onlyArrows","disabled","canMoveOrder","canMoveSlot","bodyRect","getBoundingClientRect","elemRect","topOffset","top","leftOffset","left","style","height","width","children","replace","bubbles","cancelable","composed","Array","prototype","slice","call","sort","a","b","_this5","appendChild","__dragTarget","ready","_this6","childrenHAX","activeHaxBody","stopPropagation","stopImmediatePropagation","contains","write","positionContextMenus","dataTransfer","dropEffect","setDragImage","activeContainerNode","value","property","canScale","canPosition","canEditSource","settings","quick","configure","title","description","inputMethod","advanced","validationType","saveOptions","unsetAttributes","type","Boolean","reflect","Number","String","customElements","define","tag"],"mappings":"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"}