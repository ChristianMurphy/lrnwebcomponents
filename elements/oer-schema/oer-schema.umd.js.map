{"version":3,"file":"oer-schema.umd.js","sources":["oer-schema.umd.js"],"sourcesContent":["import { html, PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { afterNextRender } from \"@polymer/polymer/lib/utils/render-status.js\";\nimport { SchemaBehaviors } from \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\nimport { HAXWiring } from \"@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js\";\nimport { OERSchema } from \"@lrnwebcomponents/oer-schema/lib/oerschema.js\";\nimport \"@lrnwebcomponents/hax-iconset/hax-iconset.js\";\n/**\n * `oer-schema`\n * `A LRN element to wrap an oer schema prefix onto materials.`\n * @demo demo/index.html\n */\nclass OerSchemaElement extends SchemaBehaviors(PolymerElement) {\n  constructor() {\n    super();\n    afterNextRender(this, function() {\n      this.HAXWiring = new HAXWiring();\n      this.HAXWiring.setup(\n        OerSchemaElement.haxProperties,\n        OerSchemaElement.tag,\n        this\n      );\n    });\n  }\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: inline-block;\n        }\n      </style>\n      <span property\\$=\"oer:[[oerProperty]]\"> <slot></slot> [[text]] </span>\n    `;\n  }\n  static get tag() {\n    return \"oer-schema\";\n  }\n  static get properties() {\n    let props = {\n      /**\n       * Text to wire into the middle of the element.\n       * This is easier to manage then slotted data though\n       * this supports both methods.\n       */\n      text: {\n        type: String,\n        value: \"\"\n      },\n      /**\n       * Property value for this oer resource\n       */\n      oerProperty: {\n        type: String,\n        value: \"name\"\n      },\n      /**\n       * Property value for this oer resource\n       */\n      typeof: {\n        type: String,\n        value: \"Resource\"\n      },\n      /**\n       * Related Resource ID\n       */\n      relatedResource: {\n        type: String\n      },\n      /**\n       * License link object for semantic meaning\n       */\n      _OERLink: {\n        type: Object,\n        computed: \"_generateforComponentLink(relatedResource)\"\n      }\n    };\n    if (super.properties) {\n      props = Object.assign(props, super.properties);\n    }\n    return props;\n  }\n  static get haxProperties() {\n    let oerSchema = new OERSchema();\n    return {\n      canScale: false,\n      canPosition: false,\n      canEditSource: false,\n      gizmo: {\n        title: \"Schema\",\n        description: \"Schematized element area\",\n        icon: \"hax:oerschema\",\n        color: \"blue\",\n        groups: [\"Instructional\"],\n        handles: [\n          {\n            type: \"inline\",\n            text: \"text\"\n          }\n        ],\n        meta: {\n          author: \"LRNWebComponents\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            slot: \"\",\n            title: \"Text\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          }\n        ],\n        configure: [\n          {\n            slot: \"\",\n            title: \"Text\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          },\n          {\n            property: \"typeof\",\n            title: \"Schema typeof\",\n            inputMethod: \"select\",\n            allowNull: true,\n            options: oerSchema.types\n          },\n          {\n            property: \"oerProperty\",\n            title: \"Schema property\",\n            description: \"The OER Schema property this represents\",\n            inputMethod: \"select\",\n            allowNull: true,\n            options: {\n              name: \"name\",\n              additionalType: \"additionalType\",\n              description: \"description\",\n              image: \"image\",\n              mainEntityOfPage: \"mainEntityOfPage\",\n              sameAs: \"sameAs\",\n              uri: \"uri\"\n            }\n          },\n          {\n            property: \"relatedResource\",\n            title: \"Related resource\",\n            description: \"A reference to the related Schema resource\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          }\n        ],\n        advanced: []\n      },\n      saveOptions: {\n        unsetAttributes: [\"_oerlink\"]\n      }\n    };\n  }\n  _generateforComponentLink(source) {\n    // remove existing if this is moving around\n    if (this._OERLink) {\n      document.head.removeChild(this._OERLink);\n    }\n    let link = document.createElement(\"link\");\n    link.setAttribute(\"property\", \"oer:forComponent\");\n    link.setAttribute(\"content\", this.relatedResource);\n    document.head.appendChild(link);\n    return link;\n  }\n}\nwindow.customElements.define(OerSchemaElement.tag, OerSchemaElement);\nexport { OerSchemaElement };\n"],"names":["OerSchemaElement","afterNextRender","HAXWiring","setup","haxProperties","tag","this","SchemaBehaviors","PolymerElement","html","props","text","type","String","value","oerProperty","relatedResource","_OERLink","Object","computed","assign","canScale","canPosition","canEditSource","gizmo","title","description","icon","color","groups","handles","meta","author","settings","quick","slot","inputMethod","configure","property","allowNull","options","OERSchema","types","name","additionalType","image","mainEntityOfPage","sameAs","uri","advanced","saveOptions","unsetAttributes","source","document","head","removeChild","link","createElement","setAttribute","appendChild","window","customElements","define"],"mappings":"otEAWMA,gOAGFC,uBAAsB,gBACfC,UAAY,IAAIA,iBAChBA,UAAUC,MACbH,EAAiBI,cACjBJ,EAAiBK,IACjBC,gQARuBC,kBAAgBC,gEAapCC,8CAUA,oDAGHC,EAAQ,CAMVC,KAAM,CACJC,KAAMC,OACNC,MAAO,IAKTC,YAAa,CACXH,KAAMC,OACNC,MAAO,eAKD,CACNF,KAAMC,OACNC,MAAO,YAKTE,gBAAiB,CACfJ,KAAMC,QAKRI,SAAU,CACRL,KAAMM,OACNC,SAAU,kFAIZT,EAAQQ,OAAOE,OAAOV,8BAEjBA,8CAIA,CACLW,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,MAAO,CACLC,MAAO,SACPC,YAAa,2BACbC,KAAM,gBACNC,MAAO,OACPC,OAAQ,CAAC,iBACTC,QAAS,CACP,CACElB,KAAM,SACND,KAAM,SAGVoB,KAAM,CACJC,OAAQ,qBAGZC,SAAU,CACRC,MAAO,CACL,CACEC,KAAM,GACNV,MAAO,OACPW,YAAa,YACbT,KAAM,iBAGVU,UAAW,CACT,CACEF,KAAM,GACNV,MAAO,OACPW,YAAa,YACbT,KAAM,gBAER,CACEW,SAAU,SACVb,MAAO,gBACPW,YAAa,SACbG,WAAW,EACXC,SA1CQ,IAAIC,aA0COC,OAErB,CACEJ,SAAU,cACVb,MAAO,kBACPC,YAAa,0CACbU,YAAa,SACbG,WAAW,EACXC,QAAS,CACPG,KAAM,OACNC,eAAgB,iBAChBlB,YAAa,cACbmB,MAAO,QACPC,iBAAkB,mBAClBC,OAAQ,SACRC,IAAK,QAGT,CACEV,SAAU,kBACVb,MAAO,mBACPC,YAAa,6CACbU,YAAa,YACbT,KAAM,iBAGVsB,SAAU,IAEZC,YAAa,CACXC,gBAAiB,CAAC,qEAIEC,GAEpB9C,KAAKW,UACPoC,SAASC,KAAKC,YAAYjD,KAAKW,cAE7BuC,EAAOH,SAASI,cAAc,eAClCD,EAAKE,aAAa,WAAY,oBAC9BF,EAAKE,aAAa,UAAWpD,KAAKU,iBAClCqC,SAASC,KAAKK,YAAYH,GACnBA,uCAGXI,OAAOC,eAAeC,OAAO9D,EAAiBK,IAAKL"}