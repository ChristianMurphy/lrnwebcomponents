!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@polymer/polymer/polymer-element.js"),require("@lrnwebcomponents/simple-tooltip/simple-tooltip.js"),require("@polymer/paper-input/paper-input.js"),require("@polymer/iron-ajax/iron-ajax.js"),require("@polymer/paper-menu-button/paper-menu-button.js"),require("@polymer/paper-button/paper-button.js"),require("@polymer/paper-listbox/paper-listbox.js"),require("@polymer/paper-item/paper-item.js"),require("@polymer/iron-icons/iron-icons.js"),require("@polymer/iron-icons/image-icons.js"),require("@polymer/iron-icons/device-icons.js"),require("@polymer/iron-icon/iron-icon.js"),require("@polymer/iron-iconset-svg/iron-iconset-svg.js"),require("@polymer/polymer/lib/utils/html-tag.js"),require("@polymer/iron-autogrow-textarea/iron-autogrow-textarea.js"),require("@polymer/iron-a11y-keys/iron-a11y-keys.js"),require("lit-element/lit-element.js"),require("@polymer/polymer/lib/utils/render-status.js"),require("@polymer/polymer/lib/elements/dom-repeat.js"),require("@polymer/polymer/lib/elements/dom-if.js"),require("@lrnwebcomponents/simple-picker/simple-picker.js"),require("@lrnwebcomponents/responsive-utility/lib/responsive-utility-behaviors.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/polymer-element.js","@lrnwebcomponents/simple-tooltip/simple-tooltip.js","@polymer/paper-input/paper-input.js","@polymer/iron-ajax/iron-ajax.js","@polymer/paper-menu-button/paper-menu-button.js","@polymer/paper-button/paper-button.js","@polymer/paper-listbox/paper-listbox.js","@polymer/paper-item/paper-item.js","@polymer/iron-icons/iron-icons.js","@polymer/iron-icons/image-icons.js","@polymer/iron-icons/device-icons.js","@polymer/iron-icon/iron-icon.js","@polymer/iron-iconset-svg/iron-iconset-svg.js","@polymer/polymer/lib/utils/html-tag.js","@polymer/iron-autogrow-textarea/iron-autogrow-textarea.js","@polymer/iron-a11y-keys/iron-a11y-keys.js","lit-element/lit-element.js","@polymer/polymer/lib/utils/render-status.js","@polymer/polymer/lib/elements/dom-repeat.js","@polymer/polymer/lib/elements/dom-if.js","@lrnwebcomponents/simple-picker/simple-picker.js","@lrnwebcomponents/responsive-utility/lib/responsive-utility-behaviors.js"],t):t((e=e||self).EditableTable={},e.polymerElement_js,null,null,null,null,null,null,null,null,null,null,null,null,e.htmlTag_js,null,null,e.litElement_js,e.renderStatus_js,null,null,null,e.responsiveUtilityBehaviors_js)}(this,function(e,t,n,o,l,i,a,r,d,s,c,u,p,b,h,f,g,m,v,y,w,x,k){"use strict";function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach(function(t){M(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=$(e);if(t){var l=$(this).constructor;n=Reflect.construct(o,arguments,l)}else n=o.apply(this,arguments);return R(this,n)}}function B(e,t,n){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}(e,t);if(o){var l=Object.getOwnPropertyDescriptor(o,t);return l.get?l.get.call(n):l.value}})(e,t,n||e)}function q(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O=function(e){return function(t){T(o,e);var n=A(o);function o(){return C(this,o),n.apply(this,arguments)}return j(o,[{key:"CSVtoArray",value:function(e){var t,n="",o=[""],l=[o],i=0,a=0,r=!0;for(t in e)'"'===(t=e[t])?(r&&t===n&&(o[i]+=t),r=!r):","===t&&r?t=o[++i]="":"\n"===t&&r?("\r"===n&&(o[i]=o[i].slice(0,-1)),o=l[++a]=[t=""],i=0):o[i]+=t,n=t;return l}},{key:"getTableCSV",value:function(){var e=this;return this.data.map(function(t){return t.map(function(t){return t=e._replaceBlankCell(t),e._isNumeric(t)?t.replace(/,/g,""):'"'.concat(t.replace(/"/g,'""'),'"')}).join(",")}).join("\n")}},{key:"getTableHTML",value:function(){var e=this,t=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"td",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"td",l=e.rowHeader?t.slice(0,1):[],i=e.rowHeader?t.slice(1):t;return"\n\t\t<tr>".concat(l.map(function(t){return'\n\t\t\t<th scope="row">'.concat(e._replaceBlankCell(t),"</th>")}).join("")).concat(i.map(function(t){return"\n\t\t\t<".concat(n,">").concat(e._replaceBlankCell(t),"</").concat(o,">")}).join(""),"\n\t\t</tr>")},n=this.thead.map(function(e){return t(e,'th scope="col"',"th")}),o=this.tbody.map(function(e){return t(e)}),l=this.tfoot.map(function(e){return t(e)});return["<table>",""!==this.caption?"\n\t<caption>\n\t\t".concat(this.caption,"\n\t</caption>"):"",n.length>0?"\n\t<thead>".concat(n.join(""),"\n\t</thead>"):"",o.length>0?"\n\t<tbody>".concat(o.join(""),"\n\t</tbody>"):"",l.length>0?"\n\t<tfoot>".concat(l.join(""),"\n\t</tfoot>"):"","\n</table>"].join("")}},{key:"getTableProperties",value:function(){return{bordered:this.hideBordered?null:this.bordered,caption:this.caption,columnHeader:this.columnHeader,condensed:this.hideCondensed?null:this.condensed,data:this.data,filter:this.hideFilter?null:this.filter,footer:this.footer,rowHeader:this.rowHeader,responsive:this.hideResponsive?null:this.responsive,sort:this.hideSort?null:this.sort,striped:this.hideStriped?null:this.striped,summary:this.summary}}},{key:"importHTML",value:function(e){var t=[].slice.call(e.querySelectorAll("tr")).map(function(e){return[].slice.call(e.querySelectorAll("th,td")).map(function(e){return"string"==typeof e.innerHTML?e.innerHTML.trim():e.innerHTML})});t.length>0&&t[0].length>0&&this.set("data",t),this.columnHeader=this.columnHeader||e.querySelectorAll("thead").length>0,this.rowHeader=this.rowHeader||e.querySelectorAll("tbody th").length>0,this.footer=this.footer||e.querySelectorAll("tfoot").length>0,this.caption=null!==this.caption?this.caption:e.querySelectorAll("caption").length>0?e.querySelector("caption").innerHTML.trim():null}},{key:"_loadExternalData",value:function(e){var t=this.CSVtoArray(this.csvData);t.length>0&&t[0].length>0&&this.set("data",t)}},{key:"_getTbody",value:function(e,t,n){if(null!=e&&e.length>0&&e[0].length>0){var o=t?1:0,l=n?e.length-1:e.length;return e.slice(o,l)}}},{key:"_getTfoot",value:function(e,t){return e.length>0&&e[0].length>0&&t?e.slice(e.length-1):[]}},{key:"_getThead",value:function(e,t){return e.length>0&&e[0].length>0&&t?e.slice(0,1):[]}},{key:"_replaceBlankCell",value:function(e){return""===String(e).trim()?"-":e}},{key:"_isNumeric",value:function(e){return null!==e&&!isNaN(e.trim().replace(/\$/g,""))}}],[{key:"properties",get:function(){return z(z({},B($(o),"properties",this)),{},{bordered:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0},caption:{type:String,value:null,notify:!0},columnHeader:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0},csvData:{type:String,value:""},condensed:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0},data:{type:Array,value:[],notify:!0,observer:"_dataChanged"},dataCsv:{type:String},filter:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0},footer:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0},rowHeader:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0},responsive:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0},sort:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0},striped:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0},thead:{type:Array,computed:"_getThead(data,columnHeader)"},tbody:{type:Array,computed:"_getTbody(data,columnHeader,footer)"},tfoot:{type:Array,computed:"_getTfoot(data,footer)"}})}}]),o}()},V=function(e){return function(t){T(o,e);var n=A(o);function o(){return C(this,o),n.apply(this,arguments)}return j(o,[{key:"_getLabel",value:function(e,t){if(t)return e+1;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),o=this._getLetter(e).split("-").reverse(),l="",i=0;i<o.length;i++)""!==o[i]&&(l+=n[o[i]]);return l}},{key:"_getLetter",value:function(e){var t=Math.floor(e/26),n="";return n+=e-26*t+"-",t>0&&t<26?n+=t-1+"-":t>=26&&(n+=this._getLetter(t-1)),n}}]),o}()};function P(){var e=q(['\n      <style>\n        :host {\n          display: block;\n          --paper-item-min-height: 24px;\n        }\n        :host .sr-only {\n          position: absolute;\n          left: -9999px;\n          font-size: 0;\n          height: 0;\n          width: 0;\n          overflow: hidden;\n        }\n        :host #label {\n          margin: 0;\n          padding: 0;\n        }\n        :host paper-menu-button {\n          margin: 0;\n          padding: 0;\n          width: 100%;\n        }\n        :host paper-listbox {\n          padding: 0;\n          background-color: var(--editable-table-bg-color);\n        }\n        :host paper-button,\n        :host paper-item {\n          margin: 0;\n          text-transform: none;\n          background-color: transparent;\n          text-align: left;\n          font-family: var(--editable-table-secondary-font-family);\n          color: var(--editable-table-color);\n        }\n        :host paper-item {\n          font-size: var(--editable-table-secondary-font-size);\n        }\n        :host paper-button {\n          display: block;\n          padding-top: var(--editable-table-row-vertical-padding);\n          padding-bottom: var(--editable-table-row-vertical-padding);\n        }\n        :host([condensed]) paper-button {\n          padding-top: var(--editable-table-row-vertical-padding-condensed);\n          padding-bottom: var(--editable-table-row-vertical-padding-condensed);\n        }\n      </style>\n      <paper-menu-button id="menu">\n        <paper-button slot="dropdown-trigger">\n          <span class="sr-only">[[_getType(row)]]</span>\n          <span id="label">[[label]]</span>\n          <span class="sr-only">Menu</span>\n          <iron-icon icon="arrow-drop-down"></iron-icon>\n        </paper-button>\n        <paper-listbox\n          slot="dropdown-content"\n          label="[_getType(row)]] [[label]] Menu"\n        >\n          <paper-item role="button" on-click="_onInsertBefore">\n            Insert [[_getType(row)]] Before\n            <span class="sr-only">[[label]]]</span>\n          </paper-item>\n          <paper-item role="button" on-click="_onInsertAfter">\n            Insert [[_getType(row)]] After\n            <span class="sr-only">[[label]]]</span>\n          </paper-item>\n          <paper-item role="button" on-click="_onDelete">\n            Delete [[_getType(row)]]\n            <span class="sr-only">[[label]]]</span>\n          </paper-item>\n        </paper-listbox>\n      </paper-menu-button>\n      <simple-tooltip for="menu"\n        >[[_getType(row)]] [[label]] Menu</simple-tooltip\n      >\n    ']);return P=function(){return e},e}var D=function(e){T(o,V(t.PolymerElement));var n=A(o);function o(){return C(this,o),n.apply(this,arguments)}return j(o,[{key:"_getType",value:function(e){return e?"Row":"Column"}},{key:"rowColAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.index,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.dispatchEvent(new CustomEvent("rowcol-action",{bubbles:!0,cancelable:!0,composed:!0,detail:{insert:t,row:this.row,index:e}}))}},{key:"_getMenuControls",value:function(e,t){return t?"cell-0-".concat(e):"cell-".concat(e,"-0")}},{key:"_onDelete",value:function(e){this.rowColAction(this.index,!1)}},{key:"_onInsertBefore",value:function(e){this.rowColAction(this.row?this.index-1:this.index)}},{key:"_onInsertAfter",value:function(e){this.rowColAction(this.row?this.index:this.index+1)}}],[{key:"template",get:function(){return t.html(P())}},{key:"tag",get:function(){return"editable-table-editor-rowcol"}},{key:"properties",get:function(){return{controls:{type:String,computed:"_getMenuControls(index,row)",reflectToAttribute:!0},index:{type:Number,value:null},label:{type:String,computed:"_getLabel(index,row)"},row:{type:Boolean,value:!1}}}}]),o}();function N(){var e=q(['\n  <iron-iconset-svg size="24" name="editable-table">\n    \x3c!-- column headers --\x3e\n    <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">\n      <defs>\n        <g id="column-headers">\n          <rect style="opacity: 0.7" x="3" y="3" width="18" height="6" />\n          <path\n            d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"\n          />\n        </g>\n      </defs>\n    </svg>\n    \x3c!-- row-headers --\x3e\n    <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">\n      <defs>\n        <g id="row-headers">\n          <rect style="opacity: 0.7" x="3" y="3" width="6" height="18" />\n          <path\n            d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"\n          />\n        </g>\n      </defs>\n    </svg>\n    \x3c!-- row-striped --\x3e\n    <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">\n      <defs>\n        <g id="row-striped">\n          <rect style="opacity: 0.4" x="3" y="3" width="18" height="6" />\n          <rect style="opacity: 0.4" x="3" y="15" width="18" height="6" />\n          <path\n            d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"\n          />\n        </g>\n      </defs>\n    </svg>\n    \x3c!-- footer --\x3e\n    <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">\n      <defs>\n        <g id="footer">\n          <rect style="opacity: 0.7" x="3" y="15" width="18" height="6" />\n          <path\n            d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"\n          />\n        </g>\n      </defs>\n    </svg>\n    \x3c!-- filter --\x3e\n    <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">\n      <defs>\n        <g id="filter">\n          <path d="M5,7l7,7,7-7Z"></path>\n          <rect x="11" y="13" width="2" height="4"></rect>\n        </g>\n      </defs>\n    </svg>\n    \x3c!-- row-condensed --\x3e\n    <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">\n      <defs>\n        <g id="row-condensed">\n          <path\n            d="M20,2H4A2,2,0,0,0,2,4V20a2,2,0,0,0,2,2H20a2,2,0,0,0,2-2V4A2,2,0,0,0,20,2ZM8,20H4V17.5H8Zm0-4.5H4V13H8ZM8,11H4V8.74H8ZM8,6.5H4V4H8ZM14,20H10V17.5h4Zm0-4.5H10V13h4ZM14,11H10V8.74h4Zm0-4.5H10V4h4ZM20,20H16V17.5h4Zm0-4.5H16V13h4ZM20,11H16V8.5h4Zm0-4.5H16V4h4Z"\n          />\n        </g>\n      </defs>\n    </svg>\n    \x3c!-- filter off --\x3e\n    <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">\n      <defs>\n        <g id="filter-off">\n          <polygon\n            points="19.26 6.95 10.7 6.95 14.98 11.23 19.26 6.95"\n          ></polygon>\n          <polygon\n            points="5 4.92 7.03 6.95 5.26 6.95 11.26 12.95 11.26 16.95 13.26 16.95 13.26 13.18 17.57 17.49 18.49 16.57 5.92 4 5 4.92"\n          ></polygon>\n        </g>\n      </defs>\n    </svg>\n    \x3c!-- sortable --\x3e\n    <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">\n      <defs>\n        <g id="sortable">\n          <path d="M7,13l5,5l5-5H7z M17,11l-5-5l-5,5H17z"></path>\n        </g>\n      </defs>\n    </svg>\n  </iron-iconset-svg>\n']);return N=function(){return e},e}window.customElements.define(D.tag,D);var L=h.html(N());function I(){var e=q(['\n      <style>\n        :host([hidden]) {\n          display: none;\n        }\n        :host paper-button {\n          padding: 2px;\n          margin: 0;\n          width: 100%;\n          min-width: unset;\n          display: inline-flex;\n          justify-content: space-between;\n          align-items: center;\n          align-content: stretch;\n          text-transform: unset;\n          font-family: var(--editable-table-secondary-font-family);\n          background-color: var(--editable-table-button-bg-color);\n          color: var(--editable-table-button-color);\n        }\n        :host([toggled]) paper-button {\n          background-color: var(--editable-table-button-toggled-bg-color);\n          color: var(--editable-table-button-toggled-color);\n        }\n        :host(:not([disabled])) paper-button:focus,\n        :host(:not([disabled])) paper-button:hover {\n          background-color: var(--editable-table-button-hover-bg-color);\n          color: var(--editable-table-button-hover-color);\n          cursor: pointer;\n        }\n        :host([toggled]:not([disabled])) paper-button:focus,\n        :host([toggled]:not([disabled])) paper-button:hover {\n          background-color: var(--editable-table-button-toggled-hover-bg-color);\n          color: var(--editable-table-button-toggled-hover-color);\n          cursor: pointer;\n        }\n        :host([disabled]) paper-button {\n          background-color: var(--editable-table-button-disabled-bg-color);\n          color: var(--editable-table-button-disabled-color);\n          cursor: not-allowed;\n        }\n        :host paper-button > div {\n          flex-grow: 1;\n        }\n        :host .sr-only {\n          position: absolute;\n          left: -9999px;\n          font-size: 0;\n          height: 0;\n          width: 0;\n          overflow: hidden;\n        }\n        :host #filter-off {\n          opacity: 0.25;\n        }\n      </style>\n      <paper-button\n        id="button"\n        active$="[[toggled]]"\n        disabled$="[[disabled]]"\n        label="[[label]]"\n        toggles\n        on-click="_onClick"\n      >\n        <span class="sr-only">[[label]]</span>\n        <iron-icon icon$="[[icon]]" aria-hidden="true"></iron-icon>\n      </paper-button>\n      <simple-tooltip id="tooltip" for="button" aria-hidden\n        >[[label]]</simple-tooltip\n      >\n    ']);return I=function(){return e},e}document.head.appendChild(L.content);var F=function(e){T(o,t.PolymerElement);var n=A(o);function o(){return C(this,o),n.apply(this,arguments)}return j(o,[{key:"_onClick",value:function(){this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}}],[{key:"template",get:function(){return t.html(I())}},{key:"tag",get:function(){return"editable-table-editor-toggle"}},{key:"properties",get:function(){return{disabled:{type:Boolean,value:!1,reflectToAttribute:!0},controls:{type:String,value:"table",readOnly:!0,reflectToAttribute:!0},id:{type:String,value:null},icon:{type:String,value:null},label:{type:String,value:null},toggled:{type:Boolean,value:!1,reflectToAttribute:!0}}}}]),o}();function Z(){var e=q(['\n      <style is="custom-style">\n        :host {\n          padding: 0;\n          margin: 0;\n          width: calc(\n            100% - var(--editable-table-row-horizontal-padding) -\n              var(--editable-table-row-horizontal-padding)\n          );\n          min-width: unset;\n          display: inline-flex;\n          justify-content: space-between;\n          align-items: center;\n          align-content: stretch;\n        }\n        :host iron-autogrow-textarea {\n          width: 100%;\n          padding: 0;\n          border: none;\n          font-weight: unset;\n          resize: none;\n          -webkit-appearance: none;\n          -mozilla-appearance: none;\n          flex-grow: 1;\n          --iron-autogrow-textarea: {\n            padding: 0;\n            font-weight: unset;\n            border: none;\n            resize: none;\n            flex-direction: column;\n            -webkit-flex-direction: column;\n            -webkit-appearance: none;\n            -mozilla-appearance: none;\n          }\n        }\n        :host iron-autogrow-textarea > * {\n          padding: 0;\n          font-weight: unset;\n          border: none;\n          resize: none;\n          flex-direction: column;\n          -webkit-flex-direction: column;\n          -webkit-appearance: none;\n          -mozilla-appearance: none;\n        }\n      </style>\n      <iron-autogrow-textarea\n        autofocus\n        id="cell"\n        label$="[[label]]"\n        on-value-changed="_onValueChanged"\n        value$="{{value}}"\n      >\n      </iron-autogrow-textarea>\n      <div id="icons"><slot></slot></div>\n    ']);return Z=function(){return e},e}window.customElements.define(F.tag,F);var Y=function(e){T(o,V(t.PolymerElement));var n=A(o);function o(){return C(this,o),n.apply(this,arguments)}return j(o,[{key:"ready",value:function(){B($(o.prototype),"ready",this).call(this),this.cell=this.shadowRoot.querySelector("#cell")}},{key:"focus",value:function(){this.cell.textarea.focus()}},{key:"_getCellLabel",value:function(e,t){return this._getLabel(e,!1)+this._getLabel(t,!0)+"(editable table cell)"}},{key:"_onValueChanged",value:function(e){this.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0,composed:!0,detail:{row:this.row,column:this.column,value:e.detail.value}}))}},{key:"getCaretPosition",value:function(){var e=0;if(document.selection){this.shadowRoot.querySelector("#cell").focus();var t=document.selection.createRange();t.moveStart("character",-this.shadowRoot.querySelector("#cell").value.length),e=t.text.length}else(this.shadowRoot.querySelector("#cell").shadowRoot.querySelector("textarea").selectionStart||"0"==this.shadowRoot.querySelector("#cell").shadowRoot.querySelector("textarea").selectionStart)&&(e=this.shadowRoot.querySelector("#cell").shadowRoot.querySelector("textarea").selectionStart);return e}},{key:"setCaretPosition",value:function(e,t){var n=this.shadowRoot.querySelector("#cell").shadowRoot.querySelector("textarea");if(n.focus(),n.createTextRange){var o=n.createTextRange();o.collapse(!0),o.moveEnd("character",t),o.moveStart("character",e),o.select()}else n.setSelectionRange&&(n.setSelectionRange(e,t),n.selectionStart=e,n.selectionEnd=t)}},{key:"setFocus",value:function(e,t){this.shadowRoot.querySelector("#cell").shadowRoot.querySelector("textarea").focus(),void 0!==e&&void 0!==t?this.setCaretPosition(e,this.getCaretPosition()-t):void 0!==e&&e>-1?this.setCaretPosition(e,e):-1==e&&void 0!==t?this.setCaretPosition(e,this.getCaretPosition()-t):this.setCaretPosition(0,0)}},{key:"_onCellLeft",value:function(){this.dispatchEvent(new CustomEvent("cell-move",{bubbles:!0,cancelable:!0,composed:!0,detail:{cell:this.parentNode,direction:"left"}}))}},{key:"_onCellRight",value:function(){this.dispatchEvent(new CustomEvent("cell-move",{bubbles:!0,cancelable:!0,composed:!0,detail:{cell:this.parentNode,direction:"right"}}))}},{key:"_onCellAbove",value:function(){this.dispatchEvent(new CustomEvent("cell-move",{bubbles:!0,cancelable:!0,composed:!0,detail:{cell:this.parentNode,direction:"up"}}))}},{key:"_onCellBelow",value:function(){this.dispatchEvent(new CustomEvent("cell-move",{bubbles:!0,cancelable:!0,composed:!0,detail:{cell:this.parentNode,direction:"down"}}))}}],[{key:"template",get:function(){return t.html(Z())}},{key:"tag",get:function(){return"editable-table-editor-cell"}},{key:"properties",get:function(){return{row:{type:Number,value:null},column:{type:Number,value:null},label:{type:String,computed:"_getCellLabel(column,row)"},value:{type:String,value:!1}}}}]),o}();function U(){var e=q(['\n  <style is="custom-style">\n    :host {\n      display: block;\n      width: 100%;\n      max-width: 100%;\n      margin: 15px 0;\n      --editable-table-font-size: unset;\n      --editable-table-secondary-font-size: 12px;\n      --editable-table-caption-font-size: var(--editable-table-font-size);\n      --editable-table-font-family: inherit;\n      --editable-table-secondary-font-family: "Roboto", "Noto", sans-serif;\n      font-family: var(--editable-table-font-family);\n\n      --editable-table-light-weight: 200;\n      --editable-table-medium-weight: 300;\n      --editable-table-heavy-weight: 600;\n      --editable-table-color: #222;\n      --editable-table-bg-color: #fff;\n      --editable-table-caption-bg-color: #fff;\n      --editable-table-heading-color: #000;\n      --editable-table-heading-bg-color: #ddd;\n      --editable-table-stripe-bg-color: #eee;\n\n      --editable-table-row-horizontal-padding: 6px;\n      --editable-table-row-vertical-padding: 10px;\n      --editable-table-row-horizontal-padding-condensed: 4px;\n      --editable-table-row-vertical-padding-condensed: 2px;\n      --editable-table-row-padding: var(--editable-table-row-vertical-padding)\n        var(--editable-table-row-horizontal-padding);\n      --editable-table-row-padding-condensed: var(\n          --editable-table-row-vertical-padding-condensed\n        )\n        var(--editable-table-row-horizontal-padding-condensed);\n      --editable-table-cell-padding: var(--editable-table-row-padding);\n\n      --editable-table-border-width: 1px;\n      --editable-table-border-style: solid;\n      --editable-table-border-color: #999;\n      --editable-table-border: var(--editable-table-border-width)\n        var(--editable-table-border-style) var(--editable-table-border-color);\n\n      --editable-table-caption-color: var(--editable-table-color);\n      --editable-table-button-color: var(--editable-table-border-color);\n      --editable-table-button-bg-color: var(--editable-table-bg-color);\n      --editable-table-button-toggled-color: var(--editable-table-color);\n      --editable-table-button-toggled-bg-color: var(--editable-table-bg-color);\n      --editable-table-button-hover-color: var(--editable-table-button-color);\n      --editable-table-button-toggled-hover-color: var(\n        --editable-table-heading-color\n      );\n      --editable-table-button-hover-bg-color: var(\n        --editable-table-heading-bg-color\n      );\n      --editable-table-button-toggled-hover-bg-color: var(\n        --editable-table-heading-bg-color\n      );\n      --editable-table-button-disabled-color: var(\n        --editable-table-heading-bg-color\n      );\n      --editable-table-button-disabled-bg-color: var(--editable-table-bg-color);\n      --secondary-text-color: var(--editable-table-border-color);\n      --editable-table-rowcol-color: var(--editable-table-heading-color);\n      --editable-table-rowcol-bg-color: var(--editable-table-stripe-bg-color);\n      --editable-table-rowcol-hover-bg-color: var(\n        --editable-table-heading-bg-color\n      );\n\n      --simple-picker-font-family: var(--editable-table-secondary-font-family);\n      --simple-picker-font-size: var(--editable-table-secondary-font-size);\n      --simple-picker-color: var(--editable-table-color);\n      --simple-picker-background-color: var(--editable-table-bg-color);\n\n      --editable-table-style-stripe: {\n        background-color: var(--editable-table-stripe-bg-color);\n      }\n      --editable-table-style-column-header: {\n        font-weight: var(--editable-table-heavy-weight);\n        color: var(--editable-table-heading-color);\n        background-color: var(--editable-table-heading-bg-color);\n      }\n      --editable-table-style-row-header: {\n        font-weight: var(--editable-table-heavy-weight);\n        color: var(--editable-table-heading-color);\n      }\n      --editable-table-style-footer: {\n        font-weight: var(--editable-table-heavy-weight);\n        color: var(--editable-table-heading-color);\n        border-top: 3px solid var(--editable-table-color);\n      }\n      --paper-font-caption: {\n        font-family: var(--editable-table-secondary-font-family);\n      }\n    }\n    :host([hidden]) {\n      display: none;\n    }\n    :host([condensed]) {\n      --editable-table-cell-padding: var(\n        --editable-table-row-padding-condensed\n      );\n    }\n    :host .sr-only {\n      position: absolute;\n      left: -9999px;\n      font-size: 0;\n      height: 0;\n      width: 0;\n      overflow: hidden;\n    }\n    :host table {\n      width: calc(\n        100% - var(--editable-table-border-width) -\n          var(--editable-table-border-width)\n      );\n      display: table;\n      border-collapse: collapse;\n      border: var(--editable-table-border);\n    }\n    :host table,\n    :host .th-or-td {\n      font-weight: var(--editable-table-light-weight);\n      color: var(--editable-table-color);\n      background-color: var(--editable-table-bg-color);\n    }\n    :host caption {\n      padding: 0 0 5px;\n      font-size: var(--editable-table-caption-font-size);\n      font-weight: var(--editable-table-heavy-weight);\n      color: var(--editable-table-caption-color);\n      background-color: var(--editable-table-caption-bg-color);\n      width: 100%;\n    }\n    :host tr {\n      display: table-row;\n    }\n    :host .th-or-td {\n      display: table-cell;\n    }\n    :host([bordered]) .td {\n      border: var(--editable-table-border);\n    }\n    :host caption,\n    :host table .th-or-td {\n      text-align: left;\n    }\n    :host table .th-or-td[numeric] {\n      text-align: var(--editable-table-numeric-text-align, unset);\n    }\n    :host table .td[negative] .cell {\n      color: var(--editable-table-negative-color, --editable-table-color);\n    }\n    :host editable-table-sort {\n      width: 100%;\n    }\n    ::slotted(table) {\n      display: none;\n    }\n    @media screen {\n      :host {\n        overflow-x: auto;\n        width: 100%;\n        max-width: 100%;\n      }\n      :host([responsive]) {\n        overflow-x: visible;\n      }\n    }\n  </style>\n']);return U=function(){return e},e}window.customElements.define(Y.tag,Y);var G=document.createElement("dom-module"),J=t.html(U());function K(){var e=q(["\n        paper-button {\n          padding: var(--editable-table-cell-padding, 0);\n          margin: 0;\n          width: auto;\n          min-width: unset;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          align-content: stretch;\n          text-transform: unset;\n          font-family: var(--editable-table-font-family);\n        }\n        paper-button > div {\n          flex-grow: 1;\n        }\n        iron-icon {\n          min-width: 24px;\n        }\n        .sr-only {\n          position: absolute;\n          left: -9999px;\n          font-size: 0;\n          height: 0;\n          width: 0;\n          overflow: hidden;\n        }\n        #filter-off {\n          opacity: 0.25;\n        }\n        :host(:not([filtered])) .filtered,\n        :host(:not([filtered]):not(:focus):not(:hover)) #filter,\n        :host(:not([filtered]):focus) #filter-off,\n        :host(:not([filtered]):hover) #filter-off,\n        :host([filtered]:not(:focus):not(:hover)) #filter-off,\n        :host([filtered]:focus) #filter,\n        :host([filtered]:hover) #filter {\n          display: none;\n        }\n      "]);return K=function(){return e},e}function Q(){var e=q(['\n      <paper-button\n        id="button"\n        class="container"\n        @click="','"\n      >\n        <span>','</span>\n        <span class="sr-only" .hidden="','"> (filtered)</span>\n        <span class="sr-only"> Toggle filter.</span>\n        <iron-icon id="filter" icon="editable-table:filter"></iron-icon>\n        <iron-icon id="filter-off" icon="editable-table:filter-off"></iron-icon>\n      </paper-button>\n      <simple-tooltip for="button"\n        >Toggle Column ',' filter for\n        "','"</simple-tooltip\n      >\n    ']);return Q=function(){return e},e}G.appendChild(J),G.register("editable-table-styles"),window.EditableTableStyleManager={},window.EditableTableStyleManager.instance=null,window.EditableTableStyleManager.requestAvailability=function(){return null==window.EditableTableStyleManager.instance&&(window.EditableTableStyleManager.instance=document.createElement("style"),window.EditableTableStyleManager.instance.setAttribute("is","custom-style"),window.EditableTableStyleManager.instance.setAttribute("include","editable-table-styles"),document.head.append(window.EditableTableStyleManager.instance)),window.EditableTableStyleManager.instance};var W=function(e){T(n,m.LitElement);var t=A(n);function n(){var e;return C(this,n),(e=t.call(this)).columnIndex=null,e.filtered=!1,e.text="",e}return j(n,[{key:"render",value:function(){return m.html(Q(),this._onFilterClicked,this.text,!this.filtered,this.columnIndex,this.text)}}],[{key:"styles",get:function(){return[m.css(K())]}},{key:"tag",get:function(){return"editable-table-filter"}}]),j(n,[{key:"_getPressed",value:function(e){return e?"true":"false"}},{key:"_onFilterClicked",value:function(){this.dispatchEvent(new CustomEvent("toggle-filter",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}}],[{key:"properties",get:function(){return{columnIndex:{type:Number,attribute:"column-index"},filtered:{type:Boolean,reflect:!0},text:{type:String}}}}]),n}();function X(){var e=q(['\n      <style is="custom-style">\n        :host paper-button {\n          padding: var(--editable-table-cell-padding, 0);\n          margin: 0;\n          width: auto;\n          min-width: unset;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          align-content: stretch;\n          text-transform: unset;\n          font-family: var(--editable-table-font-family);\n        }\n        :host paper-button > div {\n          flex-grow: 1;\n        }\n        :host .sr-only {\n          position: absolute;\n          left: -9999px;\n          font-size: 0;\n          height: 0;\n          width: 0;\n          overflow: hidden;\n        }\n        :host(:not([sort-mode="asc"])) .asc,\n        :host(:not([sort-mode="desc"])) .desc,\n        :host(:not([sort-mode="none"])) .none,\n        :host #asc,\n        :host #desc,\n        :host([sorting]:not([sort-mode="none"])) #none {\n          display: none;\n        }\n        :host([sorting][sort-mode="asc"]) #asc,\n        :host([sorting][sort-mode="desc"]) #desc {\n          display: flex;\n        }\n      </style>\n      <paper-button id="button" class="container" on-click="_onSortClicked">\n        [[text]] <span class="sr-only asc">(ascending)</span>\n        <span class="sr-only desc">(descending)</span>\n        <span class="sr-only"> Toggle sort mode.</span>\n        <iron-icon id="asc" icon="arrow-drop-up"></iron-icon>\n        <iron-icon id="desc" icon="arrow-drop-down"></iron-icon>\n        <iron-icon id="none" icon="editable-table:sortable"></iron-icon>\n      </paper-button>\n    ']);return X=function(){return e},e}window.customElements.define(W.tag,W);var ee=function(e){T(o,t.PolymerElement);var n=A(o);function o(){return C(this,o),n.apply(this,arguments)}return j(o,[{key:"_onSortClicked",value:function(){this.dispatchEvent(new CustomEvent("change-sort-mode",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}},{key:"setSortMode",value:function(e){this.sortMode=e,this.__checked="asc"===e||"desc"===e&&e}},{key:"_isSorting",value:function(e,t){return e===t}}],[{key:"template",get:function(){return t.html(X())}},{key:"tag",get:function(){return"editable-table-sort"}},{key:"properties",get:function(){return{columnIndex:{type:Number,value:null,reflectToAttribute:!0},sortMode:{type:String,value:"none",reflectToAttribute:!0},sortColumn:{type:Number,value:-1,reflectToAttribute:!0},sorting:{type:Boolean,computed:"_isSorting(columnIndex,sortColumn)",reflectToAttribute:!0},text:{type:String,value:""}}}}]),o}();function te(){var e=q(['\n      <style include="editable-table-styles">\n        :host .th-or-td {\n          padding: var(--editable-table-cell-padding);\n        }\n        :host([bordered]) .th {\n          border: 1px solid var(--editable-table-border-color);\n        }\n        :host([striped]) .tbody-tr:nth-child(2n) .th,\n        :host([striped]) .tbody-tr:nth-child(2n) .td {\n          @apply --editable-table-style-stripe;\n        }\n        :host([sort]) thead th,\n        :host([filter]) tbody td {\n          padding: 0;\n        }\n        :host([column-header]) .thead-tr .th {\n          @apply --editable-table-style-column-header;\n        }\n        :host([row-header]) .tbody-tr .th {\n          @apply --editable-table-style-row-header;\n        }\n        :host([footer]) .tfoot-tr .th,\n        :host([footer]) .tfoot-tr .td {\n          @apply --editable-table-style-footer;\n        }\n        #column {\n          width: calc(var(--simple-picker-option-size) + 6px);\n          overflow: visible;\n          display: none;\n          margin-left: 10px;\n          --simple-picker-border-width: 1px;\n          --simple-picker-focus-border-width: 1px;\n          --simple-picker-border-color: var(--editable-table-border-color);\n        }\n        @media screen {\n          :host([responsive][responsive-size="xs"]) caption {\n            padding: 0;\n          }\n          :host([responsive][responsive-size="xs"])\n            caption\n            > div\n            > *:not(#column) {\n            padding: 0 0 5px;\n          }\n          :host([responsive][responsive-size="xs"]) caption > div {\n            display: flex;\n            align-items: flex-end;\n            justify-content: space-between;\n          }\n          :host([responsive][responsive-size="xs"]) #column {\n            display: inline-flex;\n          }\n          :host([responsive][responsive-size="xs"]) .th[xs-hidden],\n          :host([responsive][responsive-size="xs"]) .td[xs-hidden] {\n            display: none;\n          }\n        }\n      </style>\n      <iron-ajax\n        auto\n        url="[[dataCsv]]"\n        hidden$="[[!dataCsv]]"\n        handle-as="text"\n        debounce-duration="500"\n        last-response="{{csvData}}"\n        on-response="_loadExternalData"\n      ></iron-ajax>\n      <table id="table" class="table" hidden$="[[hidden]]">\n        <caption>\n          <div>\n            [[caption]]\n            <simple-picker\n              id="column"\n              align-right\n              aria-labelledby$="[[tables.0.label]]"\n              hide-sample\n              value$="{{selected}}"\n              on-change="_selectedChanged"\n              options="[[options]]"\n            >\n            </simple-picker>\n          </div>\n        </caption>\n        <thead hidden="[[!columnHeader]]">\n          <tr class="tr thead-tr">\n            <template\n              is="dom-repeat"\n              items="[[thead.0]]"\n              as="th"\n              index-as="index"\n              mutable-data\n              restamp\n            >\n              <th\n                class="th th-or-td"\n                cell-index$="[[index]]"\n                numeric$="[[_isNumericColumn(index)]]"\n                scope="col"\n                xs-hidden$="[[_isColHidden(index,1)]]"\n              >\n                <template is="dom-if" if="[[sort]]" restamp>\n                  <editable-table-sort\n                    sort-column$="[[sortColumn]]"\n                    column-index="[[index]]"\n                    text$="[[_replaceBlankCell(th)]]"\n                  ></editable-table-sort>\n                </template>\n                <template is="dom-if" if="[[!sort]]" restamp\n                  >[[_replaceBlankCell(th)]]\n                </template>\n              </th>\n            </template>\n          </tr>\n        </thead>\n        <tbody id="tbody" class="tbody">\n          <template\n            is="dom-repeat"\n            items="[[tbody]]"\n            as="tr"\n            filter="{{filterRows(filterColumn,filterText)}}"\n            mutable-data\n            restamp\n          >\n            <tr class="tr tbody-tr">\n              <template\n                is="dom-repeat"\n                items="[[tr]]"\n                as="cell"\n                index-as="index"\n                mutable-data\n                restamp\n              >\n                <template\n                  is="dom-if"\n                  if="[[_isRowHeader(rowHeader,index)]]"\n                  restamp\n                >\n                  <th\n                    class="th th-or-td"\n                    cell-index$="[[index]]"\n                    numeric$="[[_isNumericColumn(index)]]"\n                    xs-hidden$="[[_isColHidden(index,1)]]"\n                    scope="row"\n                  >\n                    [[_replaceBlankCell(cell)]]\n                  </th>\n                </template>\n                <template\n                  is="dom-if"\n                  if="[[!_isRowHeader(rowHeader,index)]]"\n                  restamp\n                >\n                  <td\n                    class="td cell th-or-td"\n                    cell-index$="[[index]]"\n                    numeric$="[[_isNumericColumn(index)]]"\n                    negative$="[[_isNegative(cell)]]"\n                    xs-hidden$="[[_isColHidden(index,1)]]"\n                  >\n                    <template is="dom-if" if="[[filter]]" restamp>\n                      <editable-table-filter\n                        column-index="[[index]]"\n                        text$="[[_replaceBlankCell(cell)]]"\n                        filtered$="[[_isFiltered(index,filterColumn,filtered)]]"\n                      ></editable-table-filter>\n                    </template>\n                    <template is="dom-if" if="[[!filter]]" restamp>\n                      <span class="cell">[[_replaceBlankCell(cell)]]</span>\n                    </template>\n                  </td>\n                </template>\n              </template>\n            </tr>\n          </template>\n        </tbody>\n        <template is="dom-if" if="[[footer]]">\n          <tfoot class="tfoot">\n            <tr class="tr tfoot-tr">\n              <template\n                is="dom-repeat"\n                items="[[tfoot.0]]"\n                as="cell"\n                index-as="index"\n                mutable-data\n                restamp\n              >\n                <template is="dom-if" if="[[_isRowHeader(rowHeader,index)]]">\n                  <th\n                    class="th th-or-td"\n                    cell-index$="[[index]]"\n                    numeric$="[[_isNumericColumn(index)]]"\n                    xs-hidden$="[[_isColHidden(index,1)]]"\n                    scope="row"\n                  >\n                    [[_replaceBlankCell(cell)]]\n                  </th>\n                </template>\n                <template is="dom-if" if="[[!_isRowHeader(rowHeader,index)]]">\n                  <td\n                    class="td cell th-or-td"\n                    cell-index$="[[index]]"\n                    numeric$="[[_isNumericColumn(index)]]"\n                    negative$="[[_isNegative(cell)]]"\n                    xs-hidden$="[[_isColHidden(index,1)]]"\n                  >\n                    [[_replaceBlankCell(cell)]]\n                  </td>\n                </template>\n              </template>\n            </tr>\n          </tfoot>\n        </template>\n      </table>\n      <div id="htmlImport" hidden><slot></slot></div>\n    ']);return te=function(){return e},e}window.customElements.define(ee.tag,ee);var ne=function(e){T(o,O(k.ResponsiveUtilityBehaviors(t.PolymerElement)));var n=A(o);function o(){return C(this,o),n.call(this)}return j(o,[{key:"_dataChanged",value:function(e,t){if(!e||e.length<1||e[0].length<1){var n=this.children.item(0);"undefined"!==_(n)&&null!==n&&"TABLE"===n.tagName&&this.importHTML(n)}this.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0,composed:!0,detail:e}))}},{key:"_hasNoData",value:function(e){return!e||e.length<1||e[0].length<1}},{key:"_getTheadOptions",value:function(e){var t=[];if(null!=e&&e.length>0)for(var n=1;n<e[0].length;n++)t.push([{alt:e[0][n],value:n}]);return t}},{key:"_isColHidden",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t=t||1,0!==parseInt(e)&&parseInt(e)!==parseInt(t)}},{key:"_isFiltered",value:function(e,t,n){return null!==t&&t===e&&n}},{key:"_isNegative",value:function(e){return this._isNumeric(e)&&0===e.trim().indexOf("-")}},{key:"_isNumericColumn",value:function(e){for(var t=!0,n=0;n<this.tbody.length;n++)this._isNumeric(this.tbody[n][e])||(t=!1);return t}},{key:"_isRowHeader",value:function(e,t){return 0===t&&e}},{key:"_tableChanged",value:function(){this._updateCols()}},{key:"_selectedChanged",value:function(){this._updateCols()}},{key:"_changeSortMode",value:function(e){this.sortColumn===e.detail.columnIndex&&"asc"===this.sortMode?this.sortMode="desc":this.sortColumn===e.detail.columnIndex&&"desc"===this.sortMode?this.sortMode="none":(this.sortMode="asc",this.sortColumn=e.detail.columnIndex),e.detail.setSortMode(this.sortMode),console.log("_changeSortMode",e.detail,this.sortMode),this.sortData(this.sortMode,e.detail.columnIndex)}},{key:"_updateCols",value:function(){var e=this.shadowRoot.querySelector("#column").value,t=this.shadowRoot.querySelector("#table").querySelectorAll("th,td");if(t.length>0)for(var n=0;n<t.length;n++){var o=t[n];this._isColHidden(o.cellIndex,e)?o.setAttribute("xs-hidden",!0):o.removeAttribute("xs-hidden")}}},{key:"filterRows",value:function(e,t){return null!=t?function(n){return n[e].toLowerCase().trim()===t.toLowerCase().trim()}:null}},{key:"sortData",value:function(e,t){if("none"!==e&&!1!==e){for(var n=this.tbody.slice(),o=0;o<n.length;o++)n[o].unshift(n[o][t]);"asc"===e?n.sort():n.reverse();for(var l=0;l<n.length;l++)this.set("tbody."+l,[]),this.set("tbody."+l,n[l].slice(1));console.log("sortData",e,t,n,this.data)}else console.log("sortData",e,t,this.data)}},{key:"toggleFilter",value:function(e){void 0===e||this.filterColumn==e.detail.columnIndex&&this.filtered?(this.filtered=!1,this.filterText=null,this.filterColumn=null):(this.filterText=e.detail.text,this.filterColumn=e.detail.columnIndex,this.filtered=!0)}}],[{key:"template",get:function(){return t.html(te())}},{key:"tag",get:function(){return"editable-table-display"}},{key:"properties",get:function(){return{filterColumn:{type:Number,value:null},filtered:{type:Boolean,value:!1},filterText:{type:String,value:null},options:{type:Array,computed:"_getTheadOptions(thead)"},selected:{type:Number,value:1},sortMode:{type:String,value:"none"},sortColumn:{type:Number,value:-1},hidden:{type:Boolean,computed:"_hasNoData(data)"}}}}]),j(o,[{key:"connectedCallback",value:function(){B($(o.prototype),"connectedCallback",this).call(this),v.afterNextRender(this,function(){this.addEventListener("change-sort-mode",this._changeSortMode.bind(this)),this.addEventListener("toggle-filter",this.toggleFilter.bind(this))})}},{key:"disconnectedCallback",value:function(){this.removeEventListener("change-sort-mode",this._changeSortMode.bind(this)),this.removeEventListener("toggle-filter",this.toggleFilter.bind(this)),B($(o.prototype),"disconnectedCallback",this).call(this)}}]),o}();function oe(){var e=q(['\n      <style include="editable-table-styles">\n        :host {\n          --paper-listbox-background-color: var(\n            --editable-table-rowcol-bg-color\n          );\n        }\n        :host .filter-icon,\n        :host .sortable-icon {\n          display: none;\n          opacity: 0.4;\n          width: 24px;\n          height: 24px;\n        }\n        :host([sort]) tbody .tr:first-child .sortable-icon,\n        :host([filter]) tbody .tr:not(:first-of-type) .filter-icon {\n          display: inline-block;\n          opacity: 0.25;\n        }\n        :host table {\n          min-width: calc(100% - 2.3px);\n          width: unset;\n        }\n        :host caption {\n          width: 100%;\n          padding: 0;\n          margin: 0;\n          color: var(--editable-table-caption-color);\n        }\n        :host caption,\n        :host .th-or-td {\n          border: 1px solid #ddd;\n        }\n        :host label,\n        :host .label {\n          font-size: var(--editable-table-secondary-font-size);\n          font-family: var(--editable-table-secondary-font-family);\n        }\n        :host .field-group {\n          width: 100%;\n          padding: 0;\n          margin: 0;\n          transition: all 2s;\n          color: var(--editable-table-caption-color);\n        }\n        :host .field-group:not([hidden]) {\n          display: flex;\n          flex-wrap: wrap;\n          justify-content: space-between;\n          align-items: center;\n        }\n        :host caption > *,\n        :host .field-group > * {\n          margin: 0 2.5px;\n        }\n        :host .field-group .field-group {\n          width: unset;\n        }\n        :host .th,\n        :host th {\n          padding: 0;\n          vertical-align: center;\n          color: var(--editable-table-rowcol-color);\n          background-color: var(--editable-table-rowcol-bg-color);\n          outline: var(--editable-table-border);\n        }\n        :host td {\n          margin: 0;\n          padding: var(--editable-table-cell-padding);\n        }\n        :host th:hover,\n        :host th:focus-within {\n          background-color: var(--editable-table-rowcol-hover-bg-color);\n        }\n        :host .th:first-child {\n          width: 96px;\n        }\n        :host([responsive]) thead .th:nth-of-type(3),\n        :host([responsive]) .td:nth-of-type(2) {\n          border-right-width: calc(var(--editable-table-border-width) + 5px);\n          border-right-style: double;\n        }\n        :host([bordered]) thead .th:not(:first-child) {\n          border-bottom: var(--editable-table-border);\n        }\n        :host([striped][column-header])\n          tbody\n          .tr:nth-child(2n + 1):not(:first-of-type)\n          .td,\n        :host([striped]:not([column-header])) tbody .tr:nth-child(2n) .td {\n          @apply --editable-table-style-stripe;\n        }\n        :host([column-header]) tbody .tr:first-child .td {\n          @apply --editable-table-style-column-header;\n        }\n        :host([row-header]) tbody .tr .td:first-of-type {\n          @apply --editable-table-style-row-header;\n        }\n        :host([footer]) tbody .tr:last-of-type .td {\n          @apply --editable-table-style-footer;\n        }\n      </style>\n      <iron-ajax\n        auto\n        hidden$="[[!dataCsv]]"\n        url="[[dataCsv]]"\n        handle-as="text"\n        debounce-duration="500"\n        last-response="{{csvData}}"\n        on-response="_loadExternalData"\n      ></iron-ajax>\n      <editable-table-display\n        aria-hidden$="[[editMode]]"\n        bordered$="[[bordered]]"\n        caption$="[[caption]]"\n        column-header$="[[columnHeader]]"\n        data="{{data}}"\n        condensed$="[[condensed]]"\n        filter$="[[filter]]"\n        footer$="[[footer]]"\n        hidden$="[[editMode]]"\n        responsive$="[[responsive]]"\n        row-header$="[[rowHeader]]"\n        sort$="[[sort]]"\n        striped$="[[striped]]"\n      >\n      </editable-table-display>\n      <div id="outer" hidden$="[[!editMode]]" aria-hidden$="[[!editMode]]">\n        <div id="inner">\n          <p class="sr-only">Table Editor</p>\n          <table\n            id="table-editmode"\n            bordered$="[[bordered]]"\n            condensed$="[[condensed]]"\n            striped$="[[striped]]"\n          >\n            <caption>\n              <p class="sr-only">Edit Mode for</p>\n              <paper-input\n                id="caption"\n                label="Caption"\n                placeholder="A title for the table."\n                on-change="_captionChanged"\n                value$="{{caption}}"\n              >\n              </paper-input>\n            </caption>\n            <thead>\n              <tr class="tr">\n                <th class="th th-or-td" scope="col">\n                  <span class="sr-only">Row Operations</span>\n                </th>\n                <template\n                  id="headers"\n                  is="dom-repeat"\n                  items="[[data]]"\n                  as="row"\n                  index-as="tr"\n                  mutable-data\n                  restamp\n                >\n                  <template is="dom-if" if="[[_isFirstRow(tr)]]" restamp>\n                    <template\n                      id="headercols"\n                      is="dom-repeat"\n                      items="[[row]]"\n                      as="cell"\n                      index-as="th"\n                      mutable-data\n                      restamp\n                    >\n                      <th class="th th-or-td col-[[th]]" scope="col">\n                        <editable-table-editor-rowcol\n                          index$="[[th]]"\n                          condensed$="[[condensed]]"\n                          on-rowcol-action="_handleRowColumnMenu"\n                        >\n                        </editable-table-editor-rowcol>\n                      </th>\n                    </template>\n                  </template>\n                </template>\n              </tr>\n            </thead>\n            <tbody id="tbody">\n              <template\n                id="rows"\n                is="dom-repeat"\n                items="[[data]]"\n                as="row"\n                index-as="tr"\n                mutable-data\n                restamp\n              >\n                <tr class="tr tbody-tr">\n                  <th class="th th-or-td" scope="row">\n                    <editable-table-editor-rowcol\n                      index$="[[tr]]"\n                      condensed$="[[condensed]]"\n                      on-rowcol-action="_handleRowColumnMenu"\n                      row\n                    >\n                    </editable-table-editor-rowcol>\n                  </th>\n                  <template\n                    id="columns"\n                    index-as="td"\n                    is="dom-repeat"\n                    items="[[row]]"\n                    as="cell"\n                    mutable-data\n                    restamp\n                  >\n                    <td class="td th-or-td" on-click="_onCellClick">\n                      <editable-table-editor-cell\n                        id="cell-[[td]]-[[tr]]"\n                        class="cell"\n                        column="[[td]]"\n                        row="[[tr]]"\n                        on-change="_onCellValueChange"\n                        value="{{cell}}"\n                      >\n                        <iron-icon\n                          class="sortable-icon"\n                          icon="editable-table:sortable"\n                          aria-hidden="true"\n                        ></iron-icon>\n                        <iron-icon\n                          class="filter-icon"\n                          icon="editable-table:filter-off"\n                        ></iron-icon>\n                      </editable-table-editor-cell>\n                    </td>\n                  </template>\n                </tr>\n              </template>\n            </tbody>\n          </table>\n        </div>\n        <div class="field-group">\n          <div class="field-group">\n            <div class="label">Headers and footers</div>\n            <editable-table-editor-toggle\n              id="columnHeader"\n              icon="editable-table:column-headers"\n              label="First row has column headers."\n              on-change="_onTableSettingChange"\n              toggled$="[[columnHeader]]"\n            >\n            </editable-table-editor-toggle>\n            <editable-table-editor-toggle\n              id="rowHeader"\n              icon="editable-table:row-headers"\n              on-change="_onTableSettingChange"\n              label="First column has row headers."\n              toggled$="[[rowHeader]]"\n            >\n            </editable-table-editor-toggle>\n            <editable-table-editor-toggle\n              id="footer"\n              icon="editable-table:footer"\n              label="Last row is a footer."\n              on-change="_onTableSettingChange"\n              toggled$="[[footer]]"\n            >\n            </editable-table-editor-toggle>\n          </div>\n          <div class="field-group" hidden$="[[hideDisplay]]">\n            <div class="label">Display</div>\n            <editable-table-editor-toggle\n              id="bordered"\n              disabled$="[[hideBordered]]"\n              hidden$="[[hideBordered]]"\n              icon="image:grid-on"\n              label="Borders."\n              on-change="_onTableSettingChange"\n              toggled$="[[bordered]]"\n            >\n            </editable-table-editor-toggle>\n            <editable-table-editor-toggle\n              id="striped"\n              disabled$="[[hideStriped]]"\n              hidden$="[[hideStriped]]"\n              icon="editable-table:row-striped"\n              label="Alternating rows."\n              on-change="_onTableSettingChange"\n              toggled$="[[striped]]"\n            >\n            </editable-table-editor-toggle>\n            <editable-table-editor-toggle\n              id="condensed"\n              disabled$="[[hideCondensed]]"\n              hidden$="[[hideCondensed]]"\n              icon="editable-table:row-condensed"\n              label="Condensed rows."\n              on-change="_onTableSettingChange"\n              toggled$="[[condensed]]"\n            >\n            </editable-table-editor-toggle>\n            <editable-table-editor-toggle\n              id="responsive"\n              disabled$="[[hideResponsive]]"\n              hidden$="[[hideResponsive]]"\n              icon="device:devices"\n              label="Adjust width to screen size."\n              on-change="_onTableSettingChange"\n              toggled$="[[responsive]]"\n            >\n            </editable-table-editor-toggle>\n          </div>\n          <div class="field-group" hidden$="[[hideSortFilter]]">\n            <div class="label">Data</div>\n            <editable-table-editor-toggle\n              id="sort"\n              disabled$="[[_isSortDisabled(hideSort,columnHeader)]]"\n              hidden$="[[_isSortDisabled(hideSort,columnHeader)]]"\n              label="Column sorting (for tables with column headers)."\n              icon="editable-table:sortable"\n              on-change="_onTableSettingChange"\n              toggled$="[[sort]]"\n            >\n            </editable-table-editor-toggle>\n            <editable-table-editor-toggle\n              id="filter"\n              disabled$="[[hideFilter]]"\n              hidden$="[[hideFilter]]"\n              icon="editable-table:filter"\n              label="Column filtering."\n              on-change="_onTableSettingChange"\n              toggled$="[[filter]]"\n            >\n            </editable-table-editor-toggle>\n          </div>\n        </div>\n      </div>\n      <div id="htmlImport" hidden><slot></slot></div>\n    ']);return oe=function(){return e},e}window.customElements.define(ne.tag,ne);var le=function(e){T(o,O(t.PolymerElement));var n=A(o);function o(){return C(this,o),n.apply(this,arguments)}return j(o,[{key:"deleteColumn",value:function(e){for(var t=0;t<this.data.length;t++)this.splice("data."+t,e,1);var n=this.data.slice();this.set("data",n)}},{key:"deleteRow",value:function(e){this.splice("data",e,1);var t=this.data.slice();this.set("data",t)}},{key:"insertColumn",value:function(e){for(var t=this.data.slice(),n=0;n<t.length;n++)t[n].splice(e,0,"");this.set("data",t)}},{key:"insertRow",value:function(e){for(var t=this.data.slice(),n=new Array,o=0;o<t[0].length;o++)n.push("");t.splice(e+1,0,n),this.set("data",t)}},{key:"toggleEditMode",value:function(e){e=void 0!==e?e:!this.editMode,this.dispatchEvent(new CustomEvent("toggle-edit-mode",{bubbles:!0,cancelable:!0,composed:!0,detail:this})),e&&(this.shadowRoot.querySelector("editable-table-display").toggleFilter(),this.shadowRoot.querySelector("editable-table-display").sortData("none",-1),this.shadowRoot.querySelector("#inner").focus()),this.editMode=e}},{key:"_captionChanged",value:function(){this.caption=this.shadowRoot.querySelector("#caption").value}},{key:"_dataChanged",value:function(e,t){if(!e||e.length<1||e[0].length<1){var n=this.children.item(0);"undefined"!==_(n)&&null!==n&&"TABLE"===n.tagName?this.importHTML(n):this.set("data",[["","",""],["","",""],["","",""]])}}},{key:"_getCurrentRow",value:function(e,t){var n=null;return null!=t&&void 0!==t[e]&&null!==t[e]&&(n=t[e]),n}},{key:"_handleRowColumnMenu",value:function(e){e.detail.insert&&e.detail.row?this.insertRow(e.detail.index):e.detail.insert&&!e.detail.row?this.insertColumn(e.detail.index):!e.detail.insert&&e.detail.row?this.deleteRow(e.detail.index):this.deleteColumn(e.detail.index)}},{key:"_isFirstRow",value:function(e){return 0===e}},{key:"_isSortDisabled",value:function(e,t){return e||!t}},{key:"_onCellClick",value:function(e){e.model&&e.model.root&&e.model.root.nodeList[0]&&e.model.root.nodeList[0].focus()}},{key:"_onCellValueChange",value:function(e){var t=this.data.slice();t[e.detail.row][e.detail.column]=e.detail.value,this.set("data",[]),this.set("data",t)}},{key:"_onTableSettingChange",value:function(e){this[e.detail.id]=e.detail.toggled}},{key:"_setMinimumData",value:function(e){(e.length<1||e[0].length<1)&&this.set("data",[["","",""],["","",""],["","",""]])}},{key:"_tableDisplayHidden",value:function(e,t,n,o){return e&&t&&n&&o}},{key:"_tableSortHidden",value:function(e,t){return e&&t}}],[{key:"template",get:function(){return t.html(oe())}},{key:"tag",get:function(){return"editable-table"}},{key:"properties",get:function(){return{editMode:{type:Boolean,value:!1},hideBordered:{type:Boolean,value:!1},hideCondensed:{type:Boolean,value:!1},hideDisplay:{type:Boolean,computed:"_tableDisplayHidden(hideBordered,hideCondensed,hideStriped,hideResponsive)"},hideFilter:{type:Boolean,value:!1},hideSortFilter:{type:Boolean,computed:"_tableSortHidden(hideSort,hideFilter)"},hideSort:{type:Boolean,value:!1},hideResponsive:{type:Boolean,value:!1},hideStriped:{type:Boolean,value:!1}}}}]),o}();window.customElements.define(le.tag,le),e.EditableTable=le,Object.defineProperty(e,"__esModule",{value:!0})});
