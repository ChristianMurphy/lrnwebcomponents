{"version":3,"file":"simple-blog.umd.js","sources":["lib/simple-blog-overview.js","lib/simple-blog-listing.js","lib/simple-blog-header.js","lib/simple-blog-footer.js","lib/simple-blog-post.js","simple-blog.umd.js"],"sourcesContent":["import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@polymer/paper-card/paper-card.js\";\nimport \"@lrnwebcomponents/simple-datetime/simple-datetime.js\";\nimport \"@lrnwebcomponents/simple-colors/simple-colors.js\";\n/**\n`simple-blog-overview`\nOverview / preview of the text of the post with title\n\n* @demo demo/index.html\n\n@microcopy - the mental model for this element\n - this is one post in a listing of many most likely\n - a posting has only text preview\n\n*/\nPolymer({\n  _template: html`\n    <style includes=\"simple-colors\">\n      :host {\n        display: block;\n        outline: none;\n        text-transform: none;\n      }\n      paper-card {\n        padding: 32px 16px;\n        margin: 0;\n        min-width: unset;\n        width: 100%;\n        background-color: transparent;\n      }\n      .post-title {\n        letter-spacing: -0.32px;\n        font-weight: 700;\n        font-style: normal;\n        display: block;\n        font-size: 28px;\n        line-height: 1.1;\n        margin: 0;\n      }\n      .post-title a {\n        text-decoration: none;\n        color: #333332;\n      }\n      .post-excerpt,\n      simple-datetime {\n        letter-spacing: -0.32px;\n        font-weight: 300;\n        font-style: normal;\n        font-size: 16px;\n        line-height: 1.3;\n        color: var(--simple-colors-default-theme-grey-10);\n      }\n      .post-excerpt p {\n        text-transform: none;\n      }\n      :host([elevation=\"2\"]) .post-excerpt,\n      :host([elevation=\"2\"]) simple-datetime {\n        color: var(--simple-colors-default-theme-grey-12);\n      }\n      .post-meta {\n        font-size: 14px;\n        color: #b3b3b1;\n        line-height: 30px;\n      }\n      a,\n      a:visited,\n      a:hover,\n      a:focus,\n      a:active {\n        color: inherit;\n      }\n    </style>\n\n    <a href$=\"[[link]]\" itemprop=\"url\" title$=\"[[title]]\">\n      <paper-card elevation=\"[[elevation]]\">\n        <article\n          class=\"post\"\n          itemtype=\"http://schema.org/BlogPosting\"\n          role=\"article\"\n        >\n          <div class=\"article-item\">\n            <header class=\"post-header\">\n              <h3 class=\"post-title\" itemprop=\"name\">[[title]]</h3>\n            </header>\n            <section class=\"post-excerpt\" itemprop=\"description\">\n              <p>[[description]]</p>\n            </section>\n            <div class=\"post-meta\">\n              <simple-datetime\n                format=\"M jS, Y\"\n                timestamp=\"[[changed]]\"\n                unix=\"\"\n              ></simple-datetime>\n            </div>\n          </div>\n        </article>\n      </paper-card>\n    </a>\n  `,\n\n  is: \"simple-blog-overview\",\n\n  listeners: {\n    mousedown: \"tapEventOn\",\n    mouseover: \"tapEventOn\",\n    mouseout: \"tapEventOff\",\n    focusin: \"tapEventOn\",\n    focusout: \"tapEventOff\"\n  },\n\n  properties: {\n    /**\n     * ID of this item\n     */\n    itemId: {\n      type: String,\n      reflectToAttribute: true\n    },\n    /**\n     * Title\n     */\n    title: {\n      type: String\n    },\n    /**\n     * Body of text\n     */\n    body: {\n      type: String\n    },\n    /**\n     * Link referencing the page content.\n     */\n    link: {\n      type: String\n    },\n    /**\n     * timestamp (unix) of last time changed\n     */\n    changed: {\n      type: Number\n    },\n    /**\n     * elevation\n     */\n    elevation: {\n      type: Number,\n      value: 0,\n      reflectToAttribute: true\n    }\n  },\n\n  /**\n   * special handling for taps on the thing\n   */\n  tapEventOn: function(e) {\n    this.elevation = 2;\n  },\n\n  /**\n   * Hover off stop showing the deeper shadow.\n   */\n  tapEventOff: function(e) {\n    this.elevation = 0;\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@polymer/iron-list/iron-list.js\";\nimport \"@polymer/paper-button/paper-button.js\";\nimport \"./simple-blog-overview.js\";\n/**\n`simple-blog-listing`\nA simple blog and associated elements\n\n* @demo demo/index.html\n\n@microcopy - the mental model for this element\n -\n -\n\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n      }\n      iron-list {\n        width: 100%;\n        max-width: 640px;\n        margin: 0 auto;\n        -webkit-box-sizing: border-box;\n        -moz-box-sizing: border-box;\n        box-sizing: border-box;\n      }\n      @media only screen and (max-width: 800px) {\n        iron-list {\n          padding: 0 32px;\n        }\n      }\n      simple-blog-overview {\n        width: 100%;\n        border: 1px solid #f2f2f0;\n      }\n    </style>\n    <iron-list items=\"[[_itemsSorted]]\">\n      <template>\n        <simple-blog-overview\n          item-id=\"[[item.id]]\"\n          title=\"[[item.title]]\"\n          description=\"[[item.description]]\"\n          link=\"[[item.location]]\"\n          changed=\"[[item.metadata.created]]\"\n        ></simple-blog-overview>\n      </template>\n    </iron-list>\n  `,\n\n  is: \"simple-blog-listing\",\n\n  properties: {\n    /**\n     * items from manifest\n     */\n    items: {\n      type: Array,\n      observer: \"_itemsChanged\"\n    },\n    /**\n     * sorted items\n     */\n    _itemsSorted: {\n      type: Array\n    }\n  },\n  /**\n   * manifest items updated\n   */\n  _itemsChanged: function(newValue) {\n    this.set(\"_itemsSorted\", []);\n    this.set(\"_itemsSorted\", newValue.sort(this.compare));\n  },\n  compare: function(a, b) {\n    if (a.metadata.created < b.metadata.created) {\n      return 1;\n    }\n    if (a.metadata.created > b.metadata.created) {\n      return -1;\n    }\n    return 0;\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@lrnwebcomponents/haxcms-elements/lib/theme/site-rss-button.js\";\nimport { store } from \"@lrnwebcomponents/haxcms-elements/lib/haxcms-site-store.js\";\nimport { autorun, toJS } from \"mobx\";\n/**\n`simple-blog`\nA simple blog and associated elements\n\n* @demo demo/index.html\n\n@microcopy - the mental model for this element\n -\n -\n\n*/\nPolymer({\n  _template: html`\n    <style is=\"custom-style\">\n      :host {\n        display: block;\n      }\n      .teaserimage {\n        height: 450px;\n        padding: 0;\n        margin: 0;\n        position: relative;\n        overflow: hidden;\n        background-color: var(--haxcms-color, black);\n      }\n      .teaserimage-image {\n        transition: all 0.6s linear;\n        background-size: cover;\n        background-position: center;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        z-index: 1;\n        text-indent: -9999px;\n        transform: translate3d(0px, 24px, 0px);\n        opacity: 0.8;\n        visibility: visible;\n      }\n      .teaserimage-image:hover {\n        opacity: 1;\n      }\n      .blog-logo {\n        width: 120px;\n        height: 120px;\n        position: absolute;\n        margin-top: -60px;\n        right: 50%;\n        margin-right: -60px;\n        background-size: cover;\n        border-radius: 50%;\n        z-index: 99;\n        text-indent: -9999px;\n        border: 3px solid #fff;\n        background-color: #fff;\n        -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);\n        -moz-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);\n        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);\n      }\n      .blog-title {\n        margin: 0;\n        padding: 84px 16px 8px;\n        font-size: 50px;\n        text-align: center;\n        font-weight: 700;\n        letter-spacing: -2px;\n        outline: 0;\n        line-height: 50px;\n        word-break: break-word;\n        color: #333;\n      }\n      .blog-description {\n        margin: 0 0 20px;\n        padding: 0 32px;\n        font-size: 18px;\n        line-height: 1.5;\n        color: #666;\n        text-align: center;\n        font-weight: 400;\n      }\n      .custom-links {\n        margin: 0 auto 36px;\n        text-align: center;\n        color: #ccc;\n        display: flex;\n        justify-content: center;\n      }\n      site-rss-button {\n        margin: 0 4px;\n      }\n    </style>\n    <div class=\"teaserimage\">\n      <div\n        class=\"teaserimage-image\"\n        style\\$=\"background-image: url([[manifest.metadata.image]]);\"\n      ></div>\n    </div>\n    <header class=\"blog-header\">\n      <iron-icon\n        class=\"blog-logo\"\n        icon=\"[[manifest.metadata.icon]]\"\n      ></iron-icon>\n      <h1 class=\"blog-title\">[[manifest.title]]</h1>\n      <h2 class=\"blog-description\">[[manifest.description]]</h2>\n      <div class=\"custom-links\">\n        <site-rss-button type=\"atom\"></site-rss-button>\n        <site-rss-button type=\"rss\"></site-rss-button>\n      </div>\n    </header>\n  `,\n\n  is: \"simple-blog-header\",\n\n  properties: {\n    /**\n     * Manifest, JSON Outline Schema object\n     */\n    manifest: {\n      type: Object\n    }\n  },\n  attached: function() {\n    this.__disposer = autorun(() => {\n      this.manifest = toJS(store.manifest);\n    });\n  },\n  detached: function() {\n    this.__disposer();\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@polymer/paper-button/paper-button.js\";\nimport \"@lrnwebcomponents/simple-datetime/simple-datetime.js\";\nimport \"@lrnwebcomponents/haxcms-elements/lib/theme/site-menu-button.js\";\nimport { store } from \"@lrnwebcomponents/haxcms-elements/lib/haxcms-site-store.js\";\nimport { autorun, toJS } from \"mobx\";\n/**\n`simple-blog-footer`\nA simple blog and associated elements\n\n* @demo demo/index.html\n\n@microcopy - the mental model for this element\n - footer of the page for blog posts relating back to the main overview page\n -\n\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        width: 100%;\n        position: relative;\n        overflow: hidden;\n      }\n      :host *[hidden] {\n        display: none;\n      }\n      .background-closer-image {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        text-indent: -9999px;\n        background-size: cover;\n        background-repeat: no-repeat;\n        background-position: center;\n        opacity: 0.4;\n        transition: all 0.6s linear;\n      }\n      .background-closer-image-wrap {\n        position: absolute;\n        background-color: rgba(0, 0, 0, 0.9);\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        text-indent: -9999px;\n        transition: all 0.6s linear;\n        opacity: 1;\n      }\n      :host([active]) .background-closer-image {\n        opacity: 0.8;\n      }\n      :host([active]) .background-closer-image-wrap {\n        background-color: rgba(0, 0, 0, 0.2);\n      }\n      .inner {\n        width: 100%;\n        position: relative;\n        z-index: 99;\n        max-width: 640px;\n        padding: 32px 0;\n        text-align: center;\n        margin: 0 auto;\n      }\n      .blog-title {\n        margin: 0;\n        padding: 0 0 10px;\n        font-size: 50px;\n        text-align: center;\n        font-weight: 700;\n        letter-spacing: -2px;\n        outline: 0;\n        line-height: 50px;\n        word-break: break-word;\n        color: white;\n        text-shadow: 0 1px 16px rgba(0, 0, 0, 0.5), 0 0 1px rgba(0, 0, 0, 0.5);\n      }\n      .blog-description {\n        margin: 0 0 50px;\n        padding: 0 32px;\n        font-size: 18px;\n        line-height: 1.5;\n        color: white;\n        text-align: center;\n        font-weight: 400;\n        text-shadow: 0 1px 16px rgba(0, 0, 0, 0.5), 0 0 1px rgba(0, 0, 0, 0.5);\n      }\n      paper-button,\n      site-menu-button:not([disabled]) {\n        display: block;\n        text-align: center;\n        letter-spacing: -0.32px;\n        font-size: 15px;\n        font-weight: 400;\n        font-style: normal;\n        text-decoration: none;\n        cursor: pointer;\n        height: 44px;\n        background-color: var(--haxcms-color, red);\n        color: black;\n        box-sizing: border-box;\n        border-radius: none;\n        line-height: 44px;\n        margin: 16px 0;\n        padding: 0;\n        --site-menu-button-button: {\n          height: 44px;\n          width: 100%;\n        }\n      }\n      paper-button:focus,\n      paper-button:active,\n      paper-button:hover,\n      site-menu-button:focus,\n      site-menu-button:active,\n      site-menu-button:hover {\n        outline: 2px solid var(--haxcms-color);\n        outline-offset: 8px;\n      }\n      simple-datetime {\n        letter-spacing: -0.32px;\n        font-weight: 300;\n        font-style: normal;\n        font-size: 16px;\n        line-height: 1.3;\n        color: black;\n        display: inline-flex;\n      }\n    </style>\n    <div class=\"background-closer-image-wrap\">\n      <div\n        class=\"background-closer-image\"\n        style\\$=\"background-image: url([[manifest.metadata.image]])\"\n      ></div>\n    </div>\n    <div class=\"inner\">\n      <site-menu-button type=\"prev\" position=\"right\" label=\"Previous post\">\n        <simple-datetime\n          format=\"M jS\"\n          timestamp=\"[[nextChanged]]\"\n          unix\n          slot=\"suffix\"\n        >\n        </simple-datetime>\n        <span slot=\"suffix\">[[nextTitle]]</span>\n      </site-menu-button>\n      <site-menu-button type=\"next\" position=\"right\" label=\"Next post\">\n        <simple-datetime\n          format=\"M jS\"\n          timestamp=\"[[prevChanged]]\"\n          unix\n          slot=\"prefix\"\n        ></simple-datetime>\n        <span slot=\"prefix\">[[prevTitle]]</span>\n      </site-menu-button>\n      <paper-button raised on-tap=\"_backButtonTap\">Back to list</paper-button>\n      <h2 class=\"blog-title\">[[manifest.title]]</h2>\n      <h3 class=\"blog-description\">[[manifest.description]]</h3>\n    </div>\n  `,\n\n  is: \"simple-blog-footer\",\n\n  properties: {\n    /**\n     * active manifest index, key to location in the manifest itemsarray\n     */\n    activeManifestIndex: {\n      type: Number,\n      observer: \"_activeManifestIndexChanged\"\n    },\n    /**\n     * Manifest, JSON Outline Schema object\n     */\n    manifest: {\n      type: Object\n    }\n  },\n  _activeManifestIndexChanged: function(newValue) {\n    if (this.manifest.items[newValue - 1]) {\n      this.prevTitle = \" - \" + this.manifest.items[newValue - 1].title;\n      this.prevChanged = this.manifest.items[newValue - 1].metadata.created;\n    } else {\n      this.prevTitle = \"\";\n      this.prevChanged = \"\";\n    }\n    if (this.manifest.items[newValue + 1]) {\n      this.nextTitle = \" - \" + this.manifest.items[newValue + 1].title;\n      this.nextChanged = this.manifest.items[newValue + 1].metadata.created;\n    } else {\n      this.nextTitle = \"\";\n      this.nextChanged = \"\";\n    }\n  },\n  /**\n   * attached life cycle\n   */\n  attached: function() {\n    // subscribe to manifest changes\n    this.__disposer = autorun(() => {\n      this.manifest = toJS(store.routerManifest);\n      if (typeof this.manifest.title !== typeof undefined) {\n        document.title = this.manifest.title;\n      }\n      if (\n        typeof this.manifest.metadata !== typeof undefined &&\n        typeof this.manifest.metadata.cssVariable !== typeof undefined\n      ) {\n        // json outline schema changed, allow other things to react\n        // fake way of forcing an update of these items\n        let ary = this.manifest.metadata.cssVariable\n          .replace(\"--simple-colors-default-theme-\", \"\")\n          .split(\"-\");\n        ary.pop();\n        this.accentColor = ary.join(\"-\");\n        // set this directly instead of messing w/ accentColor\n        document.body.style.setProperty(\n          \"--haxcms-color\",\n          this.manifest.metadata.hexCode\n        );\n      }\n    });\n    this.__disposer2 = autorun(() => {\n      this.activeManifestIndex = toJS(store.activeManifestIndex);\n    });\n  },\n  /**\n   * detatched life cycle\n   */\n  detached: function() {\n    this.__disposer();\n    this.__disposer2();\n  },\n\n  /**\n   * Fire event to unset the global activeItem.\n   */\n  _backButtonTap: function(e) {\n    window.history.pushState(null, null, store.location.baseUrl);\n    window.dispatchEvent(new PopStateEvent(\"popstate\"));\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport * as async from \"@polymer/polymer/lib/utils/async.js\";\n/**\n`simple-blog`\nA simple blog and associated elements\n\n* @demo demo/index.html\n\n@microcopy - the mental model for this element\n -\n -\n\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        min-height: 80vh;\n      }\n      main {\n        transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out;\n        width: 100%;\n        max-width: 900px;\n        margin: 0 auto;\n        -webkit-box-sizing: border-box;\n        -moz-box-sizing: border-box;\n        box-sizing: border-box;\n        opacity: 1;\n        visibility: visible;\n      }\n      @media only screen and (max-width: 900px) {\n        main {\n          padding: 0 32px;\n        }\n      }\n      section {\n        width: 100%;\n        font-family: Linux Libertine;\n        color: #333;\n      }\n      section ::slotted(*) {\n        font-weight: 400;\n        font-style: normal;\n        font-size: 22px;\n        line-height: 30px;\n        margin: 0;\n        padding-bottom: 30px;\n        color: #333;\n        -webkit-hyphens: auto;\n        -moz-hyphens: auto;\n        hyphens: auto;\n      }\n      :host([has-image]) .article-image {\n        position: absolute;\n        background-color: var(--haxcms-color, black);\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        overflow: hidden;\n      }\n      .post-image-image {\n        background-size: cover;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        text-indent: -9999px;\n        padding-top: 33%;\n        z-index: 1;\n      }\n      .post-meta {\n        font-family: Open Sans, MundoSans, \"Helvetica Neue\", Arial, Helvetica,\n          sans-serif;\n      }\n      :host([has-image]) .post-meta {\n        position: absolute;\n        bottom: 80px;\n        left: 30%;\n        right: 30%;\n        padding-top: 60px;\n        z-index: 9;\n        font-family: Open Sans, MundoSans, \"Helvetica Neue\", Arial, Helvetica,\n          sans-serif;\n        -webkit-box-sizing: border-box;\n        -moz-box-sizing: border-box;\n        box-sizing: border-box;\n      }\n      .post-title {\n        font-weight: 700;\n        font-style: normal;\n        letter-spacing: -0.04em;\n        font-size: 50px;\n        line-height: 1.1;\n        color: black;\n      }\n      :host([has-image]) .post-title {\n        color: white;\n        margin-bottom: 16px;\n        text-shadow: 0 1px 16px rgba(0, 0, 0, 0.5), 0 0 1px rgba(0, 0, 0, 0.5);\n      }\n      /**\n       * Hide the slotted content during edit mode\n       */\n      :host([edit-mode]) #slot {\n        display: none;\n      }\n    </style>\n    <main>\n      <article>\n        <div class=\"article-image\">\n          <template is=\"dom-if\" if=\"[[hasImage]]\">\n            <div\n              id=\"image\"\n              class=\"post-image-image\"\n              style\\$='background-image: url(\"[[activeItem.metadata.image]]\");'\n            ></div>\n          </template>\n          <div class=\"post-meta\">\n            <h1 class=\"post-title\">[[activeItem.title]]</h1>\n          </div>\n        </div>\n        <section id=\"contentcontainer\">\n          <div id=\"slot\"><slot></slot></div>\n        </section>\n      </article>\n    </main>\n  `,\n\n  is: \"simple-blog-post\",\n\n  properties: {\n    /**\n     * item in JSON Outline Schema Item format\n     */\n    activeItem: {\n      type: Object,\n      notify: true\n    },\n    /**\n     * calculate if we have a header image.\n     */\n    hasImage: {\n      type: Boolean,\n      computed: \"_computeHasImage(activeItem)\",\n      observer: \"_hasImageChanged\",\n      reflectToAttribute: true\n    },\n    /**\n     * editting state for the page\n     */\n    editMode: {\n      type: Boolean,\n      reflectToAttribute: true,\n      value: false\n    }\n  },\n\n  /**\n   * Ready life cycle\n   */\n  ready: function() {\n    window.addEventListener(\"scroll\", this._scrollListener.bind(this));\n  },\n\n  /**\n   * Detatched life cycle\n   */\n  detached: function() {\n    window.removeEventListener(\"scroll\", this._scrollListener.bind(this));\n  },\n\n  /**\n   * Scroll event listener to do image effects.\n   */\n  _scrollListener: function(e) {\n    if (this.hasImage) {\n      let top =\n        (window.pageYOffset || document.scrollTop) - (document.clientTop || 0);\n      if (top < 0 || top > 1500) {\n        return;\n      }\n      this.shadowRoot.querySelector(\"#image\").style.transform =\n        \"translate3d(0px, \" + top / 3 + \"px, 0px)\";\n      this.shadowRoot.querySelector(\"#image\").style.opacity =\n        1 - Math.max(top / 700, 0);\n    }\n  },\n\n  /**\n   * image has changed, ensure we set padding appropriately.\n   */\n  _hasImageChanged: function(newValue, oldValue) {\n    if (newValue) {\n      async.microTask.run(() => {\n        let rect = this.shadowRoot\n          .querySelector(\"#image\")\n          .getBoundingClientRect();\n        this.$.contentcontainer.style.paddingTop = rect.height + \"px\";\n      });\n    } else {\n      this.$.contentcontainer.style.paddingTop = null;\n    }\n  },\n\n  /**\n   * see if there's an image in the metadata blob.\n   */\n  _computeHasImage: function(activeItem) {\n    if (\n      activeItem &&\n      typeof activeItem.metadata !== typeof undefined &&\n      typeof activeItem.metadata.image !== typeof undefined\n    ) {\n      return true;\n    }\n    return false;\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\nimport \"@lrnwebcomponents/simple-colors/simple-colors.js\";\nimport \"@polymer/iron-pages/iron-pages.js\";\nimport \"@polymer/paper-icon-button/paper-icon-button.js\";\nimport { HAXCMSThemeWiring } from \"@lrnwebcomponents/haxcms-elements/lib/HAXCMSThemeWiring.js\";\nimport { store } from \"@lrnwebcomponents/haxcms-elements/lib/haxcms-site-store.js\";\nimport { autorun, toJS } from \"mobx\";\nimport \"./lib/simple-blog-listing.js\";\nimport \"./lib/simple-blog-header.js\";\nimport \"./lib/simple-blog-footer.js\";\nimport \"./lib/simple-blog-post.js\";\n/**\n`simple-blog`\nA simple blog and associated elements\n\n* @demo demo/index.html\n\n@microcopy - the mental model for this element\n -\n -\n\n*/\nlet SimpleBlog = Polymer({\n  _template: html`\n    <custom-style>\n      <style>\n        html,\n        body {\n          background-color: #fafafa;\n        }\n      </style>\n    </custom-style>\n    <style include=\"simple-colors\">\n      :host {\n        display: block;\n        font-family: \"Roboto\", \"Noto\", sans-serif;\n        -webkit-font-smoothing: antialiased;\n        font-size: 14px;\n        background-color: #fafafa;\n        font-family: \"Open Sans\", \"MundoSans\", helvetica neue, Arial, Helvetica,\n          sans-serif;\n        margin: 0;\n        padding: 0;\n        text-rendering: optimizeLegibility;\n        -webkit-font-smoothing: antialiased;\n        -moz-font-feature-settings: \"liga=1, dlig=1\";\n        -ms-font-feature-settings: \"liga\", \"dlig\";\n        -webkit-font-feature-settings: \"liga\", \"dlig\";\n        -o-font-feature-settings: \"liga\", \"dlig\";\n        font-feature-settings: \"liga\", \"dlig\";\n      }\n      #backbutton {\n        position: fixed;\n        top: 0px;\n        left: 0px;\n        padding: 2px;\n        width: 40px;\n        height: 40px;\n        margin: 8px;\n        z-index: 1000;\n        color: black;\n        background-color: rgba(250, 250, 250, 0.5);\n        opacity: 0.5;\n        border-radius: 50%;\n        transition: all 0.6s linear;\n      }\n      #backbutton:focus,\n      #backbutton:hover {\n        opacity: 1;\n        color: white;\n        background-color: var(--haxcms-color, black);\n      }\n      iron-pages,\n      iron-pages section {\n        width: 100vw;\n        height: 100vh;\n      }\n      #post {\n        transition: all 0.6s ease-in-out;\n        visibility: hidden;\n      }\n      :host([selected-page=\"0\"]) #post {\n        visibility: visible;\n        opacity: 0;\n        visibility: hidden;\n      }\n      :host([selected-page=\"1\"]) #post {\n        visibility: visible;\n        opacity: 1;\n      }\n      a, a:* {\n        color: inherit;\n      }\n    </style>\n    <iron-pages selected=\"[[selectedPage]]\">\n      <section>\n        <simple-blog-header></simple-blog-header>\n        <simple-blog-listing\n          id=\"listing\"\n          items=\"[[manifest.items]]\"\n        ></simple-blog-listing>\n      </section>\n      <section>\n        <paper-icon-button\n          id=\"backbutton\"\n          icon=\"icons:arrow-back\"\n          on-tap=\"_goBack\"\n        ></paper-icon-button>\n        <paper-tooltip\n          for=\"backbutton\"\n          position=\"right\"\n          offset=\"14\"\n          animation-delay=\"100\"\n          >Back to listing\n        </paper-tooltip>\n        <simple-blog-post\n          id=\"post\"\n          active-item=\"[[activeItem]]\"\n          edit-mode=\"[[editMode]]\"\n          ><slot></slot\n        ></simple-blog-post>\n        <simple-blog-footer\n          id=\"footer\"\n          manifest=\"[[manifest]]\"\n        ></simple-blog-footer>\n      </section>\n    </iron-pages>\n  `,\n\n  is: \"simple-blog\",\n\n  behaviors: [SchemaBehaviors.Schema],\n\n  properties: {\n    /**\n     * The \"page\" to show (overview or blog post itself).\n     */\n    selectedPage: {\n      type: Number,\n      reflectToAttribute: true,\n      value: 0\n    },\n    /**\n     * editting state for the page\n     */\n    editMode: {\n      type: Boolean,\n      reflectToAttribute: true\n    },\n    /**\n     * Active item which is in JSON Outline Schema\n     */\n    activeItem: {\n      type: Object\n    },\n    activeItemId: {\n      type: String\n    },\n    /**\n     * a manifest json file decoded, in JSON Outline Schema format\n     */\n    manifest: {\n      type: Object\n    }\n  },\n  /**\n   * created life cycle\n   */\n  created: function() {\n    this.HAXCMSThemeWiring = new HAXCMSThemeWiring(this);\n  },\n  /**\n   * ready life cycle\n   */\n  ready: function() {\n    this.HAXCMSThemeWiring.connect(this, this.$.post.$.contentcontainer);\n  },\n  /**\n   * attached life cycle\n   */\n  attached: function() {\n    // subscribe to manifest changes\n    this.__disposer = autorun(() => {\n      this.manifest = toJS(store.routerManifest);\n    });\n    this.__disposer2 = autorun(() => {\n      this.activeItem = toJS(store.activeItem);\n    });\n    this.__disposer3 = autorun(() => {\n      this.activeId = toJS(store.activeId);\n    });\n    this.__disposer4 = autorun(() => {\n      this._locationChanged(store.location);\n    });\n  },\n  /**\n   * detatched life cycle\n   */\n  detached: function() {\n    this.HAXCMSThemeWiring.disconnect(this);\n    this.__disposer();\n    this.__disposer2();\n    this.__disposer3();\n    this.__disposer4();\n  },\n  /**\n   * Listen for router location changes\n   * @param {event} e\n   */\n  _locationChanged: function(location) {\n    if (!location || typeof location.route === \"undefined\") return;\n    const name = location.route.name;\n    if (name === \"home\" || name === \"404\") {\n      this.selectedPage = 0;\n    } else {\n      this.selectedPage = 1;\n      window.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: \"smooth\"\n      });\n    }\n  },\n  /**\n   * Reset the active item to reset state\n   */\n  _goBack: function(e) {\n    const prevActiveItemId = this.activeItemId;\n    window.history.pushState(null, null, store.location.baseUrl);\n    window.dispatchEvent(new PopStateEvent(\"popstate\"));\n    // should help account for starting on a page where popstate isn't set\n    // and also generate data model mirroring\n    if (prevActiveItemId) {\n      setTimeout(() => {\n        let active = this.$.listing.shadowRoot.querySelector(\n          'simple-blog-overview[item-id=\"' + prevActiveItemId + '\"]'\n        );\n        active.scrollIntoView(true);\n        active.focus();\n      }, 100);\n    } else {\n      window.scrollTo({\n        top: 0,\n        left: 0\n      });\n    }\n    this.fire(\"json-outline-schema-active-item-changed\", {});\n    this.selectedPage = 0;\n  }\n});\nexport { SimpleBlog };\n"],"names":["_template","html","is","listeners","mousedown","mouseover","mouseout","focusin","focusout","properties","itemId","type","String","reflectToAttribute","title","body","link","changed","Number","elevation","value","tapEventOn","e","tapEventOff","items","Array","observer","_itemsSorted","_itemsChanged","newValue","set","sort","this","compare","a","b","metadata","created","manifest","Object","attached","__disposer","autorun","_this","toJS","store","detached","activeManifestIndex","_activeManifestIndexChanged","prevTitle","prevChanged","nextTitle","nextChanged","routerManifest","_typeof","document","cssVariable","ary","replace","split","pop","accentColor","join","style","setProperty","hexCode","__disposer2","_backButtonTap","window","history","pushState","location","baseUrl","dispatchEvent","PopStateEvent","activeItem","notify","hasImage","Boolean","computed","editMode","ready","addEventListener","_scrollListener","bind","removeEventListener","top","pageYOffset","scrollTop","clientTop","shadowRoot","querySelector","transform","opacity","Math","max","_hasImageChanged","oldValue","async","run","rect","getBoundingClientRect","$","contentcontainer","paddingTop","height","_computeHasImage","image","SimpleBlog","Polymer","behaviors","SchemaBehaviors","Schema","selectedPage","activeItemId","HAXCMSThemeWiring","connect","post","__disposer3","activeId","__disposer4","_locationChanged","disconnect","route","name","scrollTo","left","behavior","_goBack","prevActiveItemId","setTimeout","active","_this2","listing","scrollIntoView","focus","fire"],"mappings":"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"}