{"version":3,"file":"relative-heading.umd.js","sources":["relative-heading.umd.js"],"sourcesContent":["/**\n * Copyright 2019 The Pennsylvania State University\n * @license Apache-2.0, see License.md for full text.\n */\nimport { html, PolymerElement } from \"@polymer/polymer/polymer-element.js\";\n/**\n * `relative-heading`\n * @customElement relative-heading\n * `outputs the correct heading hierarchy based on parent heading`\n *\n\n * @demo demo/index.html\n */\nclass RelativeHeading extends PolymerElement {\n  \n  // render function\n  static get template() {\n    return html`\n<style>\n:host {\n  display: block;\n}\n:host([hidden]) {\n  display: none;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  @apply --relative-heading-style;\n}\nh1 {\n  @apply --relative-heading-h1;\n}\nh2 {\n  @apply --relative-heading-h2;\n}\nh3 {\n  @apply --relative-heading-h3;\n}\nh4 {\n  @apply --relative-heading-h4;\n}\nh5 {\n  @apply --relative-heading-h5;\n}\nh6 {\n  @apply --relative-heading-h6;\n}\n        </style>\n<h1 aria-live=\"polite\" hidden=\"[[!__isLevel1]]\">[[text]]</h1>\n<h2 aria-live=\"polite\" hidden=\"[[!__isLevel2]]\">[[text]]</h2>\n<h3 aria-live=\"polite\" hidden=\"[[!__isLevel3]]\">[[text]]</h3>\n<h4 aria-live=\"polite\" hidden=\"[[!__isLevel4]]\">[[text]]</h4>\n<h5 aria-live=\"polite\" hidden=\"[[!__isLevel5]]\">[[text]]</h5>\n<h6 aria-live=\"polite\" hidden=\"[[!__isLevel6]]\">[[text]]</h6>`;\n  }\n\n  // haxProperty definition\n  static get haxProperties() {\n    return {\n  \"canScale\": true,\n  \"canPosition\": true,\n  \"canEditSource\": false,\n  \"gizmo\": {\n    \"title\": \"Relative heading\",\n    \"description\": \"outputs the correct heading hierarchy based on parent's heading\",\n    \"icon\": \"icons:android\",\n    \"color\": \"green\",\n    \"groups\": [\"Heading\"],\n    \"handles\": [\n      {\n        \"type\": \"todo:read-the-docs-for-usage\"\n      }\n    ],\n    \"meta\": {\n      \"author\": \"nikkimk\",\n      \"owner\": \"The Pennsylvania State University\"\n    }\n  },\n  \"settings\": {\n    \"quick\": [],\n    \"configure\": [\n      {\n        \"property\": \"parentHeading\",\n        \"description\": \"\",\n        \"inputMethod\": \"array\",\n        \"required\": false,\n        \"icon\": \"icons:android\"\n      },\n      {\n        \"property\": \"tag\",\n        \"description\": \"\",\n        \"inputMethod\": \"textfield\",\n        \"required\": false,\n        \"icon\": \"icons:android\"\n      }\n    ],\n    \"advanced\": []\n  }\n}\n;\n  }\n  // properties available to the custom element for data binding\n    static get properties() {\n    return {\n  \n  ...super.properties,\n  \n  /**\n   * The default heading level (1-6), eg., 1 for <h1>, if there  is no parent.\n   */\n  \"defaultLevel\": {\n    \"name\": \"defaultLevel\",\n    \"type\": Number,\n    \"value\": 1\n  },\n  /**\n   * The relative-heading's UUID.\n   */\n  \"id\": {\n    \"name\": \"id\",\n    \"type\": String,\n    \"value\": null,\n    \"observer\": \"_updateChildren\"\n  },\n  /**\n   * The parent relative-heading's UUID.\n   */\n  \"parentId\": {\n    \"name\": \"parentId\",\n    \"type\": String,\n    \"value\": null\n  },\n  /**\n   * The heading text.\n   */\n  \"text\": {\n    \"name\": \"text\",\n    \"type\": String,\n    \"value\": null\n  },\n  /**\n   * The heading level (1-6), eg., 1 for <h1>\n   */\n  \"level\": {\n    \"name\": \"level\",\n    \"type\": Number,\n    \"reflectToAttribute\": true,\n    \"computed\": \"_getLevel(parentId,defaultLevel)\",\n    \"observer\": \"_updateChildren\"\n  },\n  /**\n   * Is the heading an h1?\n   */\n  \"__isLevel1\": {\n    \"name\": \"__isLevel1\",\n    \"type\": Boolean,\n    \"computed\": \"_isLevel(level,1)\"\n  },\n  /**\n   * Is the heading an h2?\n   */\n  \"__isLevel2\": {\n    \"name\": \"__isLevel2\",\n    \"type\": Boolean,\n    \"computed\": \"_isLevel(level,2)\"\n  },\n  /**\n   * Is the heading an h3?\n   */\n  \"__isLevel3\": {\n    \"name\": \"__isLevel3\",\n    \"type\": Boolean,\n    \"computed\": \"_isLevel(level,3)\"\n  },\n  /**\n   * Is the heading an h4?\n   */\n  \"__isLevel4\": {\n    \"name\": \"__isLevel4\",\n    \"type\": Boolean,\n    \"computed\": \"_isLevel(level,4)\"\n  },\n  /**\n   * Is the heading an h5?\n   */\n  \"__isLevel5\": {\n    \"name\": \"__isLevel5\",\n    \"type\": Boolean,\n    \"computed\": \"_isLevel(level,5)\"\n  },\n  /**\n   * Is the heading an h6?\n   */\n  \"__isLevel6\": {\n    \"name\": \"__isLevel6\",\n    \"type\": Boolean,\n    \"computed\": \"_isLevel(level,6)\"\n  }\n}\n;\n  }\n\n  /**\n   * Store the tag name to make it easier to obtain directly.\n   * @notice function name must be here for tooling to operate correctly\n   */\n  static get tag() {\n    return \"relative-heading\";\n  }\n  /**\n   * update this level when the parent id changes\n   */\n  _getLevel(parentId, defaultLevel) {\n    let root = this,\n      parent = document.querySelector(\"#\" + parentId),\n      parentLvl =\n        parent !== null && parent.level !== undefined\n          ? parent.level\n          : defaultLevel - 1,\n      level = parentLvl < 6 ? parentLvl + 1 : 6;\n    return level;\n  }\n  _updateChildren() {\n    document\n      .querySelectorAll('relative-heading[parent-id=\"' + this.id + '\"]')\n      .forEach(child => {\n        child.parentId = null;\n        child.parentId = this.id;\n      });\n  }\n  /**\n   * determines if the level matches a specific level\n   *\n   * @param {number} the heading level\n   * @param {number} the level it might match\n   * @returns {boolean} whether or not they match\n   */\n  _isLevel(level, testLevel) {\n    return level === testLevel;\n  }\n}\nwindow.customElements.define(RelativeHeading.tag, RelativeHeading);\nexport { RelativeHeading };\n"],"names":["RelativeHeading","PolymerElement","html","Number","String","Boolean","parentId","defaultLevel","parent","document","querySelector","parentLvl","undefined","level","querySelectorAll","this","id","forEach","child","_this","testLevel","window","customElements","define","tag"],"mappings":"wtEAaMA,gaAAwBC,+DAInBC,wDA6CA,WACG,eACG,iBACE,QACR,OACE,+BACM,uEACP,sBACC,eACC,CAAC,mBACA,CACT,MACU,sCAGJ,QACI,gBACD,+CAGD,OACD,aACI,CACX,UACc,4BACG,eACA,kBACH,OACJ,iBAEV,UACc,kBACG,eACA,sBACH,OACJ,2BAGA,6ZAcE,MACN,oBACAC,aACC,MAKL,MACI,UACAC,aACC,cACG,4BAKF,MACF,gBACAA,aACC,WAKH,MACE,YACAA,aACC,YAKF,MACC,aACAD,2BACc,WACV,4CACA,8BAKA,MACJ,kBACAE,iBACI,gCAKA,MACJ,kBACAA,iBACI,gCAKA,MACJ,kBACAA,iBACI,gCAKA,MACJ,kBACAA,iBACI,gCAKA,MACJ,kBACAA,iBACI,gCAKA,MACJ,kBACAA,iBACI,yDAWL,0DAKCC,EAAUC,OAEhBC,EAASC,SAASC,cAAc,IAAMJ,GACtCK,EACa,OAAXH,QAAoCI,IAAjBJ,EAAOK,MACtBL,EAAOK,MACPN,EAAe,SACbI,EAAY,EAAIA,EAAY,EAAI,uDAI1CF,SACGK,iBAAiB,+BAAiCC,KAAKC,GAAK,MAC5DC,QAAQ,SAAAC,GACPA,EAAMZ,SAAW,KACjBY,EAAMZ,SAAWa,EAAKH,sCAUnBH,EAAOO,UACPP,IAAUO,uCAGrBC,OAAOC,eAAeC,OAAOvB,EAAgBwB,IAAKxB"}