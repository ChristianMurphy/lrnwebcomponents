{"version":3,"file":"image-inspector.umd.js","sources":["image-inspector.umd.js"],"sourcesContent":["import { LitElement, html, css } from \"lit-element/lit-element.js\";\nimport \"@lrnwebcomponents/exif-data/exif-data.js\";\nimport \"@lrnwebcomponents/lrnsys-button/lrnsys-button.js\";\n/**\n * `image-inspector`\n * `Zoom, Rotate, Mirror, Download, and View image`\n * @demo demo/index.html\n * @customElement image-inspector\n */\nclass ImageInspector extends LitElement {\n  /**\n   * LitElement constructable styles enhancement\n   */\n  static get styles() {\n    return [\n      css`\n        :host {\n          display: block;\n          overflow: hidden;\n          --image-inspector-background: #dddddd;\n        }\n\n        app-toolbar {\n          width: 100%;\n          background: var(--image-inspector-background);\n          margin: 0 auto;\n          padding: 0;\n          z-index: 1;\n          display: flex;\n          text-align: center;\n          justify-content: space-evenly;\n        }\n\n        lrnsys-button {\n          display: inline-flex;\n        }\n\n        .top {\n          top: 0px;\n        }\n        .showData {\n          display: block;\n          z-index: 2;\n        }\n        exif-data {\n          margin: 0 auto;\n          justify-content: space-evenly;\n          position: absolute;\n          display: none;\n          margin: 0;\n          padding: 0;\n        }\n        exif-data img {\n          margin: 0;\n          opacity: 0;\n          padding: 0;\n          height: 500px;\n          pointer-events: none;\n        }\n      `\n    ];\n  }\n  constructor() {\n    super();\n    this.noLeft = false;\n    this.degrees = 0;\n    this.hoverClass = \"blue white-text\";\n    setTimeout(() => {\n      import(\"@polymer/app-layout/app-layout.js\");\n      import(\"@lrnwebcomponents/img-pan-zoom/img-pan-zoom.js\");\n      import(\"@polymer/iron-icons/iron-icons.js\");\n      import(\"@polymer/iron-icons/image-icons.js\");\n    }, 0);\n  }\n  render() {\n    return html`\n      <app-toolbar>\n        <lrnsys-button\n          alt=\"Zoom in\"\n          icon=\"zoom-in\"\n          @click=\"${this.zoomIn}\"\n          hover-class=\"${this.hoverClass}\"\n        ></lrnsys-button>\n        <lrnsys-button\n          alt=\"Zoom out\"\n          icon=\"zoom-out\"\n          @click=\"${this.zoomOut}\"\n          hover-class=\"${this.hoverClass}\"\n        ></lrnsys-button>\n        <lrnsys-button\n          alt=\"Rotate right\"\n          icon=\"image:rotate-right\"\n          @click=\"${this.rotateRight}\"\n          hover-class=\"${this.hoverClass}\"\n        ></lrnsys-button>\n        <lrnsys-button\n          alt=\"Rotate left\"\n          icon=\"image:rotate-left\"\n          @click=\"${this.rotateLeft}\"\n          hover-class=\"${this.hoverClass}\"\n        ></lrnsys-button>\n        <lrnsys-button\n          alt=\"Mirror image\"\n          icon=\"image:flip\"\n          @click=\"${this.mirrorImage}\"\n          hover-class=\"${this.hoverClass}\"\n        ></lrnsys-button>\n        <lrnsys-button\n          alt=\"Open in new window\"\n          icon=\"launch\"\n          href=\"${this.src}\"\n          target=\"_blank\"\n          hover-class=\"${this.hoverClass}\"\n        ></lrnsys-button>\n        <lrnsys-button\n          alt=\"EXIF Data\"\n          icon=\"image:camera-roll\"\n          @click=\"${this.exifDataEvent}\"\n          hover-class=\"${this.hoverClass}\"\n        ></lrnsys-button>\n        <slot name=\"toolbar\"></slot>\n      </app-toolbar>\n      <exif-data\n        id=\"exif\"\n        @click=${this.hideData}\n        no-events\n        ?no-left=\"${this.noLeft}\"\n        ><img src=\"${this.src}\"\n      /></exif-data>\n      <img-pan-zoom id=\"img\" src=\"${this.src}\"></img-pan-zoom>\n      <slot></slot>\n    `;\n  }\n  exifDataEvent(e) {\n    if (this.shadowRoot.querySelector(\"#exif\").classList.contains(\"showData\")) {\n      this.shadowRoot.querySelector(\"#exif\").classList.remove(\"showData\");\n    } else {\n      this.shadowRoot.querySelector(\"#exif\").updateExif(true);\n      this.shadowRoot.querySelector(\"#exif\").classList.add(\"showData\");\n    }\n  }\n  hideData(e) {\n    this.shadowRoot.querySelector(\"#exif\").classList.remove(\"showData\");\n  }\n\n  static get tag() {\n    return \"image-inspector\";\n  }\n\n  static get properties() {\n    return {\n      noLeft: {\n        type: Boolean,\n        attribute: \"no-left\"\n      },\n      /**\n       * Image rotation\n       */\n      degrees: {\n        type: Number,\n        reflect: true\n      },\n      /**\n       * Image source.\n       */\n      src: {\n        type: String\n      },\n      /**\n       * Hover class for button styling\n       */\n      hoverClass: {\n        type: String,\n        attribute: \"hover-class\"\n      }\n    };\n  }\n  firstUpdated() {\n    this.__img = this.shadowRoot.querySelector(\"#img\");\n    this.shadowRoot.querySelector(\"#exif\").alignTarget = this.__img;\n    this.shadowRoot.querySelector(\"#exif\").alignTargetTop = \"0px\";\n  }\n  /**\n   * Rotate the image to the right.\n   */\n  rotateRight() {\n    // spin 90\n    this.degrees += 90;\n    this.__img.style.transform = \"rotate(\" + this.degrees + \"deg)\";\n    if (this.__img.classList.contains(\"top\")) {\n      this.__img.classList.remove(\"top\");\n    } else {\n      this.__img.classList.add(\"top\");\n    }\n  }\n\n  /**\n   * Rotate the image to the left.\n   */\n  rotateLeft() {\n    // go back 90\n    this.degrees += -90;\n    this.__img.style.transform = \"rotate(\" + this.degrees + \"deg)\";\n    if (this.__img.classList.contains(\"top\")) {\n      this.__img.classList.remove(\"top\");\n    } else {\n      this.__img.classList.add(\"top\");\n    }\n  }\n\n  /**\n   * Flip the image.\n   */\n  mirrorImage() {\n    if (this.__img.style.transform === \"scaleX(1)\") {\n      this.__img.style.transform = \"scaleX(-1)\";\n    } else {\n      this.__img.style.transform = \"scaleX(1)\";\n    }\n  }\n\n  /**\n   * Zoom in by calling  downstream function.\n   */\n  zoomIn() {\n    this.__img.zoomIn();\n  }\n\n  /**\n   * Zoom out by calling downstream function.\n   */\n  zoomOut() {\n    this.__img.zoomOut();\n  }\n}\nwindow.customElements.define(ImageInspector.tag, ImageInspector);\nexport { ImageInspector };\n"],"names":["ImageInspector","noLeft","degrees","hoverClass","setTimeout","LitElement","css","html","this","zoomIn","zoomOut","rotateRight","rotateLeft","mirrorImage","src","exifDataEvent","hideData","e","shadowRoot","querySelector","classList","contains","remove","updateExif","add","__img","alignTarget","alignTargetTop","style","transform","type","Boolean","attribute","Number","reflect","String","window","customElements","define","tag"],"mappings":"4wHASMA,yKAuDGC,QAAS,IACTC,QAAU,IACVC,WAAa,kBAClBC,WAAW,kBACF,4CACA,yDACA,4CACA,uCACN,iPA/DsBC,2DAKlB,CACLC,2DA4DKC,WAKSC,KAAKC,OACAD,KAAKL,WAKVK,KAAKE,QACAF,KAAKL,WAKVK,KAAKG,YACAH,KAAKL,WAKVK,KAAKI,WACAJ,KAAKL,WAKVK,KAAKK,YACAL,KAAKL,WAKZK,KAAKM,IAEEN,KAAKL,WAKVK,KAAKO,cACAP,KAAKL,WAMbK,KAAKQ,SAEFR,KAAKP,OACJO,KAAKM,IAEUN,KAAKM,2CAIzBG,GACRT,KAAKU,WAAWC,cAAc,SAASC,UAAUC,SAAS,iBACvDH,WAAWC,cAAc,SAASC,UAAUE,OAAO,kBAEnDJ,WAAWC,cAAc,SAASI,YAAW,QAC7CL,WAAWC,cAAc,SAASC,UAAUI,IAAI,8CAGhDP,QACFC,WAAWC,cAAc,SAASC,UAAUE,OAAO,wDAoCnDG,MAAQjB,KAAKU,WAAWC,cAAc,aACtCD,WAAWC,cAAc,SAASO,YAAclB,KAAKiB,WACrDP,WAAWC,cAAc,SAASQ,eAAiB,iDAOnDzB,SAAW,QACXuB,MAAMG,MAAMC,UAAY,UAAYrB,KAAKN,QAAU,OACpDM,KAAKiB,MAAML,UAAUC,SAAS,YAC3BI,MAAML,UAAUE,OAAO,YAEvBG,MAAML,UAAUI,IAAI,iDAStBtB,UAAY,QACZuB,MAAMG,MAAMC,UAAY,UAAYrB,KAAKN,QAAU,OACpDM,KAAKiB,MAAML,UAAUC,SAAS,YAC3BI,MAAML,UAAUE,OAAO,YAEvBG,MAAML,UAAUI,IAAI,6CAQQ,cAA/BhB,KAAKiB,MAAMG,MAAMC,eACdJ,MAAMG,MAAMC,UAAY,kBAExBJ,MAAMG,MAAMC,UAAY,kDAQ1BJ,MAAMhB,gDAONgB,MAAMf,8CAtFJ,2DAIA,CACLT,OAAQ,CACN6B,KAAMC,QACNC,UAAW,WAKb9B,QAAS,CACP4B,KAAMG,OACNC,SAAS,GAKXpB,IAAK,CACHgB,KAAMK,QAKRhC,WAAY,CACV2B,KAAMK,OACNH,UAAW,yBA8DnBI,OAAOC,eAAeC,OAAOtC,EAAeuC,IAAKvC"}