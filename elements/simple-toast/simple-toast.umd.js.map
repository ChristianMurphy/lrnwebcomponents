{"version":3,"file":"simple-toast.umd.js","sources":["simple-toast.umd.js"],"sourcesContent":["/**\n * Copyright 2018 The Pennsylvania State University\n * @license Apache-2.0, see License.md for full text.\n */\nimport { LitElement, html, css } from \"lit-element/lit-element.js\";\n\n// register globally so we can make sure there is only one\nwindow.SimpleToast = window.SimpleToast || {};\n// request if this exists. This helps invoke the element existing in the dom\n// as well as that there is only one of them. That way we can ensure everything\n// is rendered through the same simple-toast element, making it a singleton.\nwindow.SimpleToast.requestAvailability = () => {\n  // if there is no single instance, generate one and append it to end of the document\n  if (!window.SimpleToast.instance) {\n    window.SimpleToast.instance = document.createElement(\"simple-toast\");\n    document.body.appendChild(window.SimpleToast.instance);\n  }\n  return window.SimpleToast.instance;\n};\n\n/**\n * `simple-toast`\n * @customElement simple-toast\n * `A singular toast / message for conistency`\n *\n * @microcopy - language worth noting:\n *  -\n *\n\n * @polymer\n * @demo demo/index.html\n */\nclass SimpleToast extends LitElement {\n  \n  //styles function\n  static get styles() {\n    return  [\n      css`\n:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\npaper-toast {\n  width: var(--simple-toast-width, inherit);\n  height: var(--simple-toast-height, inherit);\n  color: var(--simple-toast-color, white);\n  background-color: var(--simple-toast-bg, black);\n  top: var(--simple-toast-top, inherit);\n  margin: var(--simple-toast-margin, 16px);\n  padding: var(--simple-toast-padding, 16px);\n  left: var(--simple-toast-left, inherit);\n  bottom: var(--simple-toast-bottom, inherit);\n  right: var(--simple-toast-right, inherit);\n  border: var(--simple-toast-border, inherit);\n  z-index: var(--simple-toast-z-index, inherit);\n  font-size: var(--simple-toast-font-size, inherit);\n}\n      `\n    ];\n  }\n  // render function\n  render() {\n    return html`\n\n<paper-toast id=\"toast\" text=\"${this.text}\" duration=\"${this.duration}\" ?opened=\"${this.opened}\" @opened-changed=\"${this.openedChanged}\" .class=\"${this.classStyle}\">\n  <slot></slot>\n  <paper-button .hidden=\"${!this.closeButton}\" @click=\"${this.hide}\">${this.closeText}</paper-button>\n</paper-toast>`;\n  }\n\n  // properties available to the custom element for data binding\n    static get properties() {\n    return {\n  \n  ...super.properties,\n  \n  /**\n   * Opened state of the toast, use event to change\n   */\n  \"opened\": {\n    \"name\": \"opened\",\n    \"type\": Boolean,\n    \"reflect\": true\n  },\n  /**\n   * Plain text based message to display\n   */\n  \"text\": {\n    \"name\": \"text\",\n    \"type\": String\n  },\n  /**\n   * Class name, fit-bottom being a useful one\n   */\n  \"classStyle\": {\n    \"name\": \"classStyle\",\n    \"type\": String,\n    \"attribute\": \"class-style\"\n  },\n  /**\n   * Text for the close button\n   */\n  \"closeText\": {\n    \"name\": \"closeText\",\n    \"type\": String,\n    \"attribute\": \"close-text\"\n  },\n  /**\n   * How long the toast message should be displayed\n   */\n  \"duration\": {\n    \"name\": \"duration\",\n    \"type\": Number\n  },\n  /**\n   * Event callback when hide is called\n   */\n  \"eventCallback\": {\n    \"name\": \"eventCallback\",\n    \"type\": String,\n    \"attribute\": \"event-callback\"\n  },\n  /**\n   * If there should be a close button shown\n   */\n  \"closeButton\": {\n    \"name\": \"closeButton\",\n    \"type\": Boolean,\n    \"reflect\": true,\n    \"attribute\": \"close-button\"\n  }\n}\n;\n  }\n\n  /**\n   * Store the tag name to make it easier to obtain directly.\n   * @notice function name must be here for tooling to operate correctly\n   */\n  static get tag() {\n    return \"simple-toast\";\n  }\n  /**\n   * life cycle, element is afixed to the DOM\n   */\n  constructor() {\n    super();\n    this.setDefaultToast();\n    window.addEventListener(\n      \"simple-toast-hide\",\n      this.hideSimpleToast.bind(this)\n    );\n    window.addEventListener(\n      \"simple-toast-show\",\n      this.showSimpleToast.bind(this)\n    );\n    import(\"@polymer/paper-toast/paper-toast.js\");\n    import(\"@polymer/paper-button/paper-button.js\");\n  }\n  /**\n   * life cycle, element is removed from the DOM\n   */\n  disconnectedCallback() {\n    window.removeEventListener(\n      \"simple-toast-hide\",\n      this.hideSimpleToast.bind(this)\n    );\n    window.removeEventListener(\n      \"simple-toast-show\",\n      this.showSimpleToast.bind(this)\n    );\n    super.connectedCallback();\n  }\n  /**\n   * Hide callback\n   */\n  hideSimpleToast(e) {\n    this.hide();\n  }\n  openedChanged(e) {\n    this.opened = e.detail.value;\n  }\n  setDefaultToast() {\n    this.opened = false;\n    this.text = \"Saved\";\n    this.classStyle = \"\";\n    this.closeText = \"Close\";\n    this.duration = 4000;\n    this.eventCallback = null;\n    this.closeButton = true;\n    while (this.firstChild !== null) {\n      this.removeChild(this.firstChild);\n    }\n  }\n  /**\n   * Show / available callback\n   */\n  showSimpleToast(e) {\n    // establish defaults and then let event change settings\n    this.setDefaultToast();\n    // add your code to run when the singleton is called for\n    if (e.detail.duration) {\n      this.duration = e.detail.duration;\n    }\n    if (e.detail.text) {\n      this.text = e.detail.text;\n    }\n    if (e.detail.classStyle) {\n      this.classStyle = e.detail.classStyle;\n    }\n    if (e.detail.closeText) {\n      this.closeText = e.detail.closeText;\n    }\n    if (e.detail.closeButton) {\n      this.closeButton = e.detail.closeButton;\n    }\n    if (e.detail.eventCallback) {\n      this.eventCallback = e.detail.eventCallback;\n    }\n    if (e.detail.slot) {\n      this.appendChild(e.detail.slot);\n    }\n    setTimeout(() => {\n      this.show();\n    }, 5);\n  }\n\n  show(e) {\n    this.opened = true;\n  }\n  hide(e) {\n    if (this.eventCallback) {\n      const evt = new CustomEvent(this.eventCallback, {\n        bubbles: true,\n        cancelable: true,\n        detail: true,\n        composed: true\n      });\n      this.dispatchEvent(evt);\n    }\n    this.opened = false;\n  }\n}\nwindow.customElements.define(SimpleToast.tag, SimpleToast);\nexport { SimpleToast };\n"],"names":["window","SimpleToast","requestAvailability","instance","document","createElement","body","appendChild","setDefaultToast","addEventListener","_this","hideSimpleToast","bind","showSimpleToast","LitElement","html","this","text","duration","opened","openedChanged","classStyle","closeButton","hide","closeText","css","Boolean","String","Number","removeEventListener","e","detail","value","eventCallback","firstChild","removeChild","slot","setTimeout","_this2","show","evt","CustomEvent","bubbles","cancelable","composed","dispatchEvent","customElements","define","tag"],"mappings":"62EAOAA,OAAOC,YAAcD,OAAOC,aAAe,GAI3CD,OAAOC,YAAYC,oBAAsB,kBAElCF,OAAOC,YAAYE,WACtBH,OAAOC,YAAYE,SAAWC,SAASC,cAAc,gBACrDD,SAASE,KAAKC,YAAYP,OAAOC,YAAYE,WAExCH,OAAOC,YAAYE,cAetBF,kOAuHGO,kBACLR,OAAOS,iBACL,oBACAC,EAAKC,gBAAgBC,YAEvBZ,OAAOS,iBACL,oBACAC,EAAKG,gBAAgBD,mBAEhB,8CACA,uRAjIeE,yDAkCfC,WAEqBC,KAAKC,KAAmBD,KAAKE,SAAsBF,KAAKG,OAA4BH,KAAKI,cAA0BJ,KAAKK,YAE5HL,KAAKM,YAAwBN,KAAKO,KAASP,KAAKQ,kDAlChE,CACNC,8ZA8CM,MACA,cACAC,iBACG,QAKL,MACE,YACAC,mBAKI,MACJ,kBACAA,iBACK,yBAKF,MACH,iBACAA,iBACK,uBAKH,MACF,gBACAC,sBAKO,MACP,qBACAD,iBACK,8BAKA,MACL,mBACAD,iBACG,YACE,oDAWN,qEAuBP1B,OAAO6B,oBACL,oBACAb,KAAKL,gBAAgBC,KAAKI,OAE5BhB,OAAO6B,oBACL,oBACAb,KAAKH,gBAAgBD,KAAKI,qGAOdc,QACTP,6CAEOO,QACPX,OAASW,EAAEC,OAAOC,yDAGlBb,QAAS,OACTF,KAAO,aACPI,WAAa,QACbG,UAAY,aACZN,SAAW,SACXe,cAAgB,UAChBX,aAAc,EACQ,OAApBN,KAAKkB,iBACLC,YAAYnB,KAAKkB,oDAMVJ,mBAETtB,kBAEDsB,EAAEC,OAAOb,gBACNA,SAAWY,EAAEC,OAAOb,UAEvBY,EAAEC,OAAOd,YACNA,KAAOa,EAAEC,OAAOd,MAEnBa,EAAEC,OAAOV,kBACNA,WAAaS,EAAEC,OAAOV,YAEzBS,EAAEC,OAAOP,iBACNA,UAAYM,EAAEC,OAAOP,WAExBM,EAAEC,OAAOT,mBACNA,YAAcQ,EAAEC,OAAOT,aAE1BQ,EAAEC,OAAOE,qBACNA,cAAgBH,EAAEC,OAAOE,eAE5BH,EAAEC,OAAOK,WACN7B,YAAYuB,EAAEC,OAAOK,MAE5BC,WAAW,WACTC,EAAKC,QACJ,gCAGAT,QACEX,QAAS,+BAEXW,MACCd,KAAKiB,cAAe,KAChBO,EAAM,IAAIC,YAAYzB,KAAKiB,cAAe,CAC9CS,SAAS,EACTC,YAAY,EACZZ,QAAQ,EACRa,UAAU,SAEPC,cAAcL,QAEhBrB,QAAS,WAGlBnB,OAAO8C,eAAeC,OAAO9C,EAAY+C,IAAK/C"}