!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lit-element"),require("lit-element-router"),require("@polymer/iron-ajax/iron-ajax.js"),require("@lrnwebcomponents/simple-icon/simple-icon.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icons.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icon-button.js"),require("@lrnwebcomponents/hax-iconset/lib/simple-hax-iconset.js"),require("@lrnwebcomponents/nav-card/nav-card.js"),require("@lrnwebcomponents/lrndesign-avatar/lrndesign-avatar.js"),require("@lrnwebcomponents/accent-card/accent-card.js"),require("lit-element/lit-element.js"),require("@lrnwebcomponents/img-view-modal/img-view-modal.js"),require("@lrnwebcomponents/hax-iconset/hax-iconset.js"),require("@lrnwebcomponents/threaded-discussion/threaded-discussion.js")):"function"==typeof define&&define.amd?define(["exports","lit-element","lit-element-router","@polymer/iron-ajax/iron-ajax.js","@lrnwebcomponents/simple-icon/simple-icon.js","@lrnwebcomponents/simple-icon/lib/simple-icons.js","@lrnwebcomponents/simple-icon/lib/simple-icon-button.js","@lrnwebcomponents/hax-iconset/lib/simple-hax-iconset.js","@lrnwebcomponents/nav-card/nav-card.js","@lrnwebcomponents/lrndesign-avatar/lrndesign-avatar.js","@lrnwebcomponents/accent-card/accent-card.js","lit-element/lit-element.js","@lrnwebcomponents/img-view-modal/img-view-modal.js","@lrnwebcomponents/hax-iconset/hax-iconset.js","@lrnwebcomponents/threaded-discussion/threaded-discussion.js"],t):t((n=n||self).ElmslnStudio={},n.litElement,n.litElementRouter,null,null,null,null,null,null,null,n.accentCard_js,n.litElement_js)}(this,function(n,t,e,i,o,s,r,a,l,c,d,u){"use strict";function m(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function p(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function f(n,t,e){return t&&p(n.prototype,t),e&&p(n,e),n}function h(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function g(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),e.push.apply(e,i)}return e}function v(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?g(Object(e),!0).forEach(function(t){h(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):g(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}function b(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&k(n,t)}function y(n){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function k(n,t){return(k=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function x(n,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function w(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}();return function(){var e,i=y(n);if(t){var o=y(this).constructor;e=Reflect.construct(i,arguments,o)}else e=i.apply(this,arguments);return x(this,e)}}function j(n,t,e){return(j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,e){var i=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=y(n)););return n}(n,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(e):o.value}})(n,t,e||n)}function S(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function F(n){return function(n){if(Array.isArray(n))return O(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,t){if(!n)return;if("string"==typeof n)return O(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return O(n,t)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function D(){var n=S(["\n        ","\n        ","\n      "]);return D=function(){return n},n}function z(){var n=S(['\n              <img-view-modal\n                class="thumbnail"\n                page="','"\n                title="'," by "," ",'"\n                .toolbars="','"\n                .figures="','"\n              >\n                <button .style="','">\n                  <span class="sr-only">','</span>\n                  <div class="zoombg"></div>\n                  <simple-icon icon="zoom-in" class="zoomicon"></simple-icon>\n                  <div class="imgbg"></div>\n                </button>\n              </img-view-modal>\n            ']);return z=function(){return n},n}function T(){var n=S(['\n        <div class="thumbnail-grid">\n          ',"\n        </div>\n      "]);return T=function(){return n},n}function N(){var n=S([" "," "]);return N=function(){return n},n}function A(){var n=S([" "," "]);return A=function(){return n},n}function L(){var n=S(["\n                  <p>",":</p>\n                  <div>","</div>\n                "]);return L=function(){return n},n}var I=function(n){return function(e){b(o,n);var i=w(o);function o(){var n;return m(this,o),(n=i.call(this)).demoMode=!1,n}return f(o,null,[{key:"properties",get:function(){return v(v({},j(y(o),"properties",this)),{},{demoMode:{type:Boolean,attribute:"demo-mode",reflect:!0}})}}]),f(o,[{key:"sortDates",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.sort(function(n,e){var i="string"==typeof n.date?Date.parse(n.date):n.date,o="string"==typeof e.date?Date.parse(e.date):e.date;return t?i-o:o-i})}},{key:"addDays",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Date(Date.parse(n)+864e5*t)}},{key:"addWeeks",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Date(Date.parse(n)+6048e5*t)}},{key:"toArray",value:function(n,t){return Object.keys(n||{}).map(function(e){var i=n[e];return i.id=e,Object.keys(t||{}).forEach(function(n){return i[n]=t[n]}),i})}},{key:"_late",value:function(n){return new Date(n)<new Date}},{key:"_recentArray",value:function(n){return this.sortDates(this.toArray(n))}},{key:"getAncestor",value:function(n,t){if(n&&t&&t.length>0){t[0][1];var e=t[0][0],i=n["".concat(t[0][1])];return this.getAncestor(e[i],t.slice(1))}return n}},{key:"getFigures",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"src",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"alt",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"full",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"longdesc";return(n||[]).map(function(n){return{src:n[o]||n[e],info:n[i]&&n[s]?t.html(L(),n[i],n[s]):n[i]?t.html(A(),n[i]):t.html(N(),n[s])}}).filter(function(n){return!!n.src})}},{key:"getThumnailGrid",value:function(n){var e=this;return t.html(T(),(n.sources||[]).map(function(i,o){return t.html(z(),o,n.assignment,n.firstName,n.lastName,e.defaultModalToolbars,e.getFigures(n.sources),e.getThumbailStyle(i.src),i.alt)}))}},{key:"getThumbailStyle",value:function(n){return"--elmsln-studio-image-button-backgroundImage: url(".concat(n,");")}},{key:"fullName",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n&&!t?"".concat(n.firstName," ").concat(n.lastName):n?"".concat(n.lastName,", ").concat(n.firstName):""}},{key:"dateFormat",value:function(n,t){return"string"==typeof n&&(n=new Date(n)),n?"long"===t?n.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"short"===t?n.toLocaleDateString(void 0,{month:"long",day:"numeric"}):n.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""}},{key:"accentColor",value:function(n){var t=new d.AccentCard,e=t&&t.colors?Object.keys(t.colors):[""],i=n&&n.charCodeAt(0)?n.charCodeAt(0):Math.floor(16*Math.random());return e[i%16+1]?e[i%16+1]:e[Math.floor(Math.random()*e.length)]}},{key:"getActivityLink",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"submission"===n.activity?"/portfolios/".concat(n.portfolioId||n.id).concat(n.portfolioId?"?submission=".concat(n.id):"").concat(t?"":n.portfolioId?"&comment=true":"?comment=true"):"discussion"===n.activity?"/portfolios/".concat(n.portfolioId||n.submissionId).concat(n.portfolioId?"?submission=".concat(n.submissionId,"&"):"?","comment=").concat(n.id):"/portfolios/".concat(n.portfolioId||n.submissionId).concat(n.portfolioId?"?submission=".concat(n.submissionId,"&"):"?","comment=").concat(n.feedbackId)}},{key:"getActivityTitle",value:function(n){return t.html(D(),[n.firstName,n.lastName].join(" "),"submission"===n.activity?" submitted ".concat(n.assignment):"discussion"===n.activity?" left feedback for ".concat([n.creatorFirstName,n.creatorLastName].join(" ")):" replied to ".concat([n.reviewerFirstName,n.reviewerLastName].join(" ")))}},{key:"activityLink",value:function(n,t){return"submission"===t?this.submissionLink(n):"feedback"===n.activity?this.feedbackLink(n):this.replyLink(n)}},{key:"activityTitle",value:function(n,t){return"submission"===t?this.submissionTitle(n):"feedback"===n.activity?this.feedbackTitle(n):this.replyTitle(n)}},{key:"submissionLink",value:function(n){return"/portfolios/".concat(n.userId,"-").concat(n.projectId,"?submission=").concat(n.id)}},{key:"submissionTitle",value:function(n){return"".concat(n.firstName," submitted ").concat(n.assignment)}},{key:"feedbackLink",value:function(n){return"/portfolios/".concat(n.creator,"-").concat(n.projectId,"?submission=").concat(n.submissionId,"&comment=").concat(n.id)}},{key:"feedbackTitle",value:function(n){return"".concat(n.firstName," left feedback on ").concat(n.creatorFirstName,"'s\n        ").concat(n.assignment)}},{key:"replyLink",value:function(n){return"/portfolios/".concat(n.creator,"-").concat(n.projectId,"?submission=").concat(n.submissionId,"&comment=").concat(n.id)}},{key:"replyTitle",value:function(n){return"".concat(n.firstName," replied to ").concat(n.feedbackFirstName,"'s feedback")}},{key:"_getValign",value:function(n){return n&&n.indexOf("top")>-1?"top":n&&n.indexOf("bottom")>-1?"bottom":"center"}},{key:"_getAlign",value:function(n){return n&&n.indexOf("left")>-1?"left":n&&n.indexOf("right")>-1?"right":"center"}},{key:"_handleLinkButton",value:function(n,t){location.href=t,this.dispatchEvent(new CustomEvent("link-button-click",{bubbles:!0,cancelable:!0,composed:!0,detail:t}))}},{key:"defaultModalToolbars",get:function(){return{bottom:{id:"bottom",type:"toolbar-group",contents:["prevbutton","homebutton","rotategroup","zoomgroup","pageXofY","pangroup","fullscreenbutton","nextbutton"]}}}}]),o}()};function C(){var n=S(['\n          :host {\n            font-family: var(\n              --elmsln-studio-secondary-FontFamily,\n              "Helvetica Neue",\n              sans-serif\n            );\n            font-family: var(--elmsln-studio-FontFamily, "Roboto", sans-serif);\n            font-size: var(--elmsln-studio-FontSize, 16px);\n          }\n          *[hidden] {\n            display: none !important;\n          }\n          .sr-only {\n            position: absolute;\n            left: -9999999px;\n            width: 0;\n            overflow: hidden;\n          }\n          #studio-nav {\n            display: flex;\n            align-items: stretch;\n            justify-content: center;\n            margin-bottom: var(--elmsln-studio-margin, 20px);\n            flex-wrap: wrap;\n          }\n          #studio-nav elmsln-studio-link {\n            font-family: var(--elmsln-studio-FontFamily, "Roboto", sans-serif);\n            font-size: calc(1.25 * var(--elmsln-studio-FontSize, 16px));\n            flex: 0 1 auto;\n            color: #9d9d9d;\n            padding: calc(0.25 * var(--elmsln-studio-margin, 20px))\n              calc(0.25 * var(--elmsln-studio-margin, 20px));\n          }\n          #studio-nav elmsln-studio-link[active] {\n            font-weight: bold;\n            color: #000;\n            --elmsln-studio-link-TextDecoration: underline !important;\n            --elmsln-studio-link-TextDecorationThickness: 3px;\n          }\n          #studio-nav elmsln-studio-link:focus-within,\n          #studio-nav elmsln-studio-link:hover {\n            --elmsln-studio-link-TextDecoration: underline !important;\n          }\n          .filters {\n            padding-bottom: calc(0.5 * var(--elmsln-studio-margin, 20px));\n            margin-bottom: calc(0.5 * var(--elmsln-studio-margin, 20px));\n            border-bottom: 1px solid #ddd;\n            line-height: calc(1.5 * var(--elmsln-studio-FontSize, 16px));\n          }\n          simple-fields-field {\n            color: #95989a;\n            --simple-fields-border-color: transparent;\n            --simple-fields-font-size: var(--elmsln-studio-FontSize, 16px);\n            --simple-fields-detail-font-size: var(\n              --elmsln-studio-FontSize,\n              16px\n            );\n            --simple-fields-line-height: calc(\n              1.5 * var(--elmsln-studio-FontSize, 16px)\n            );\n            --simple-fields-detail-line-height: calc(\n              1.5 * var(--elmsln-studio-FontSize, 16px)\n            );\n            --simple-fields-font-family: var(\n              --elmsln-studio-FontFamily,\n              "Roboto",\n              sans-serif\n            );\n            --simple-fields-detail-font-family: var(\n              --elmsln-studio-FontFamily,\n              "Roboto",\n              sans-serif\n            );\n          }\n          accent-card img-view-modal[slot="image-corner"] {\n            float: right;\n          }\n          accent-card img-view-modal[slot="image-corner"],\n          accent-card img-view-modal[slot="image-corner"]:focus-within,\n          accent-card img-view-modal[slot="image-corner"]:hover {\n            background-color: transparent;\n          }\n          .card elmsln-studio-link {\n            --elmsln-studio-link-Color: var(--accent-card-color);\n            --elmsln-studio-link-TextDecoration: none !important;\n          }\n          .card elmsln-studio-link:focus,\n          .card elmsln-studio-link:focus-within,\n          .card elmsln-studio-link:hover {\n            --elmsln-studio-link-TextDecoration: underline !important;\n          }\n          .card elmsln-studio-link[slot="subheading"] {\n            --elmsln-studio-link-FontWeight: bold;\n            --elmsln-studio-link-TextDecoration: underline !important;\n          }\n          .card elmsln-studio-link[slot="subheading"]:focus,\n          .card elmsln-studio-link[slot="subheading"]:focus-within,\n          .card elmsln-studio-link[slot="subheading"]:hover {\n            --elmsln-studio-link-TextDecoration: none !important;\n          }\n          button {\n            background-color: transparent;\n            border: none;\n            text-align: center;\n            display: block;\n            color: #4b4b4b;\n          }\n          button:focus,\n          button:hover {\n            color: var(--simple-colors-default-theme-grey11, #222);\n          }\n          button.load-more {\n            text-align: center;\n            display: block;\n            padding: 10px;\n            margin: 0;\n            border-radius: 3px;\n            border: none;\n            width: 100%;\n            color: var(--simple-colors-default-theme-grey11, #222);\n            background-color: var(--simple-colors-default-theme-grey-2, #eee);\n          }\n          button.load-more:focus,\n          button.load-more:hover {\n            color: var(--simple-colors-default-theme-grey12, #000);\n            background-color: var(--simple-colors-default-theme-grey-3, #ddd);\n          }\n          img-view-modal button {\n            padding: 0;\n            margin: 0;\n          }\n          img-view-modal simple-icon {\n            border-radius: 2px;\n            --simple-icon-width: 24px;\n            --simple-icon-height: 24px;\n            color: white;\n            background-color: rgba(0, 0, 0, 0.5);\n          }\n          img-view-modal button:hover simple-icon,\n          img-view-modal button:focus simple-icon {\n            color: white;\n            background-color: rgba(0, 0, 0, 0.25);\n          }\n\n          img-view-modal.thumbnail,\n          img-view-modal.thumbnail button,\n          img-view-modal.thumbnail button .imgbg {\n            border-radius: 3px;\n          }\n          img-view-modal.thumbnail button {\n            position: relative;\n            width: 150px;\n            padding: 0;\n            margin: 0;\n          }\n          img-view-modal.thumbnail button .imgbg {\n            width: 100%;\n            padding-top: 100%;\n            background-image: var(\n              --elmsln-studio-image-button-backgroundImage,\n              none\n            );\n            background-position: center;\n            background-size: cover;\n            margin: 0;\n          }\n          img-view-modal.thumbnail button simple-icon {\n            position: absolute;\n            bottom: 5px;\n            right: 5px;\n            z-index: 2;\n          }\n          .thumbnail-grid {\n            display: flex;\n            flex-wrap: wrap;\n          }\n          .thumbnail-grid > * {\n            flex: 0 0 50%;\n            margin: calc(0.5 * var(--elmsln-studio-margin, 20px));\n          }\n          @media screen and (min-width: 600px) {\n            #studio-nav elmsln-studio-link {\n              padding: calc(0.25 * var(--elmsln-studio-margin, 20px))\n                calc(0.5 * var(--elmsln-studio-margin, 20px));\n              font-size: calc(1.5 * var(--elmsln-studio-FontSize, 16px));\n            }\n            .thumbnail-grid > * {\n              flex: 0 0 150px;\n            }\n          }\n          @media screen and (min-width: 900px) {\n            #studio-nav elmsln-studio-link {\n              padding: calc(0.25 * var(--elmsln-studio-margin, 20px))\n                calc(1 * var(--elmsln-studio-margin, 20px));\n            }\n            #primary {\n              flex: 0 0 calc(66.66666667% - var(--elmsln-studio-margin, 20px));\n            }\n            #secondary {\n              flex: 0 0 calc(33.33333333% - var(--elmsln-studio-margin, 20px));\n            }\n            .filters {\n              display: flex;\n              justify-content: space-between;\n              flex-wrap: nowrap;\n              height: calc(2 * var(--elmsln-studio-FontSize, 16px));\n            }\n          }\n        ']);return C=function(){return n},n}var _=function(n){return function(e){b(o,n);var i=w(o);function o(){return m(this,o),i.apply(this,arguments)}return f(o,null,[{key:"styles",get:function(){return[t.css(C())]}}]),o}()};function E(){var n=S(["\n        :host {\n          display: block;\n          font-family: var(--elmsln-studio-FontFamily, sans-serif);\n        }\n\n        :host([hidden]) {\n          display: none;\n        }\n      "]);return E=function(){return n},n}function P(){var n=S([" <slot></slot> "]);return P=function(){return n},n}var q=function(n){b(o,I(e.outlet(t.LitElement)));var i=w(o);function o(){return m(this,o),i.apply(this,arguments)}return f(o,[{key:"render",value:function(){return t.html(P())}}],[{key:"tag",get:function(){return"elmsln-studio-main"}},{key:"styles",get:function(){return[t.css(E())]}},{key:"properties",get:function(){return v({},j(y(o),"properties",this))}}]),o}();function R(){var n=S(['\n      <a href="','" @click="','">\n        <slot></slot>\n      </a>\n    ']);return R=function(){return n},n}function M(){var n=S(["\n      :host {\n        display: block;\n      }\n      :host([hidden]) {\n        display: none;\n      }\n      a,\n      a:link {\n        transition: var(--elmsln-studio-link-Transition);\n        background: transparent;\n        color: var(--elmsln-studio-link-Color);\n        text-decoration: var(--elmsln-studio-link-TextDecoration);\n        text-decoration-style: var(--elmsln-studio-link-TextDecorationStyle);\n        text-decoration-skip: var(--elmsln-studio-link-TextDecorationSkip);\n        text-decoration-skip-ink: var(\n          --elmsln-studio-link-TextDecorationSkipInk\n        );\n        text-decoration-line: var(--elmsln-studio-link-TextDecorationLine);\n        text-decoration-color: var(--elmsln-studio-link-TextDecorationColor);\n        text-decoration: var(--elmsln-studio-link-TextDecoration);\n        text-decoration-thickness: var(\n          --elmsln-studio-link-TextDecorationThickness\n        );\n      }\n      a:hover,\n      a:focus {\n        background: transparent;\n        color: var(\n          --elmsln-studio-link-focus-Color,\n          var(--elmsln-studio-link-Color)\n        );\n        text-decoration: var(\n          --elmsln-studio-link-focus-TextDecoration,\n          var(--elmsln-studio-link-TextDecoration)\n        );\n        text-decoration-style: var(\n          --elmsln-studio-link-focus-TextDecorationStyle,\n          var(--elmsln-studio-link-TextDecorationStyle)\n        );\n        text-decoration-skip: var(\n          --elmsln-studio-link-focus-TextDecorationSkip,\n          var(--elmsln-studio-link-TextDecorationSkip)\n        );\n        text-decoration-skip-ink: var(\n          --elmsln-studio-link-focus-TextDecorationSkipInk,\n          var(--elmsln-studio-link-TextDecorationSkipInk)\n        );\n        text-decoration-line: var(\n          --elmsln-studio-link-focus-TextDecorationLine,\n          var(--elmsln-studio-link-TextDecorationLine)\n        );\n        text-decoration-color: var(\n          --elmsln-studio-link-focus-TextDecorationColor,\n          ar(--elmsln-studio-link-TextDecorationColor)\n        );\n        text-decoration: var(\n          --elmsln-studio-link-focus-TextDecoration,\n          var(--elmsln-studio-link-TextDecoration)\n        );\n        text-decoration-thickness: var(\n          --elmsln-studio-link-focus-TextDecorationThickness,\n          var(--elmsln-studio-link-TextDecorationThickness)\n        );\n      }\n    "]);return M=function(){return n},n}customElements.define("elmsln-studio-main",q);var W=function(n){b(o,e.navigator(t.LitElement));var i=w(o);function o(){var n;return m(this,o),(n=i.call(this)).href="",n.addEventListener("click",n.linkClick),n}return f(o,null,[{key:"tag",get:function(){return"elmsln-studio-link"}},{key:"properties",get:function(){return{href:{type:String}}}},{key:"styles",get:function(){return t.css(M())}}]),f(o,[{key:"disconnectedCallback",value:function(){j(y(o.prototype),"disconnectedCallback",this)&&j(y(o.prototype),"disconnectedCallback",this).call(this),this.removeEventListener("click",this.linkClick)}},{key:"render",value:function(){return t.html(R(),this.href,this.linkClick)}},{key:"linkClick",value:function(n){n.preventDefault(),this.navigate(this.href)}}]),o}();function B(){var n=S(['\n      <button @click="','">\n        <simple-icon\n          aria-hidden="true"\n          ?hidden="','"\n          icon="','"\n        ></simple-icon>\n        <slot></slot>\n      </button>\n    ']);return B=function(){return n},n}function G(){var n=S(["\n      :host {\n        display: block;\n      }\n      :host([hidden]) {\n        display: none;\n      }\n      button {\n        border: none;\n        background-color: transparent;\n      }\n      button:focus,\n      button:hover {\n        outline: none;\n      }\n    "]);return G=function(){return n},n}customElements.define("elmsln-studio-link",W);var V=function(n){b(o,e.navigator(t.LitElement));var i=w(o);function o(){var n;return m(this,o),(n=i.call(this)).path="",n.icon="",n}return f(o,null,[{key:"tag",get:function(){return"elmsln-studio-button"}},{key:"properties",get:function(){return{path:{type:String},icon:{type:String}}}},{key:"styles",get:function(){return t.css(G())}}]),f(o,[{key:"render",value:function(){return t.html(B(),this.buttonClick,!this.icon,this.icon)}},{key:"buttonClick",value:function(n){this.navigate("".concat(this.sourcePath).concat(this.path))}}]),o}();function H(){var n=S(['\n        h1,\n        h2,\n        h3,\n        .card [slot="heading"] {\n          margin: 0;\n          color: #9d9d9d;\n          font-weight: normal;\n          font-size: calc(1.5 * var(--elmsln-studio-FontSize, 16px));\n          font-family: var(--elmsln-studio-FontFamily, "Roboto", sans-serif);\n        }\n        h2,\n        #secondary [slot="heading"] {\n          font-weight: bold;\n          color: #989898;\n        }\n        #primary > div {\n          margin: 0;\n        }\n        .card {\n          font-size: var(--elmsln-studio-FontSize, 16px);\n          font-family: var(--elmsln-studio-FontFamily, "Roboto", sans-serif);\n          margin: calc(0.5 * var(--elmsln-studio-margin, 20px)) 0\n            calc(2 * var(--elmsln-studio-margin, 20px));\n          flex: 1 0 50%;\n          color: #95989a;\n          --accent-card-footer-border-color: transparent;\n        }\n        .card [slot="subheading"] {\n          font-weight: bold;\n          border: none;\n          font-size: calc(0.75 * var(--elmsln-studio-FontSize, 16px));\n        }\n        .card.primary [slot="heading"],\n        .card.primary [slot="subheading"] {\n          text-align: center;\n          display: block;\n          margin: 0 auto;\n        }\n        .card.primary [slot="label"] {\n          color: #5c5c5c;\n        }\n        .card.primary [slot="description"] {\n          color: #818181;\n          font-size: calc(0.75 * var(--elmsln-studio-FontSize, 16px));\n        }\n        .card.feed {\n          font-size: calc(0.75 * var(--elmsln-studio-FontSize, 16px));\n          --paper-avatar-width: var(--nav-card-linklist-left-size, 36px);\n          --nav-card-linklist-left-size: 36px;\n        }\n        .card.secondary {\n          margin-top: 0;\n          --accent-card-heading-padding-top: 0;\n          --nav-card-linklist-margin-top: 0;\n        }\n        #profile {\n          --lrndesign-avatar-width: 100px;\n        }\n        #profile lrndesign-avatar {\n          margin: 0 auto;\n          text-align: center;\n        }\n        accent-card {\n          --accent-card-heading-padding-top: 0;\n        }\n        accent-card table {\n          width: 100%;\n          border-collapse: collapse;\n          font-family: var(\n            --elmsln-studio-ssecondary-FontFamily,\n            "Helvetica Neue",\n            sans-serif\n          );\n        }\n        accent-card th,\n        accent-card td {\n          font-weight: normal;\n          padding: 5px 0;\n          text-align: left;\n          min-height: 25px;\n          border-bottom: 1px solid\n            var(--simple-colors-default-theme-grey-4, #666);\n        }\n        accent-card td {\n          text-align: right;\n        }\n        accent-card.card th elmsln-studio-link {\n          --elmsln-studio-link-TextDecoration: underline !important;\n        }\n        accent-card.card th elmsln-studio-link:focus,\n        accent-card.card th elmsln-studio-link:focus-within,\n        accent-card.card th elmsln-studio-link:hover {\n          --elmsln-studio-link-TextDecoration: none !important;\n        }\n        @media screen and (min-width: 600px) {\n          #profile {\n            --lrndesign-avatar-width: 150px;\n          }\n          #profile lrndesign-avatar {\n            margin: 0 auto;\n          }\n          h1,\n          h2 {\n            flex: 0 0 100%;\n          }\n          #primary > div {\n            display: flex;\n            align-items: stretch;\n            justify-content: space-between;\n            flex-wrap: wrap;\n          }\n          .card.primary {\n            flex: 0 0 calc(50% - var(--elmsln-studio-margin, 20px));\n          }\n          .card.due {\n            --lrndesign-avatar-border-radius: 0%;\n            --nav-card-item-avatar-width: 20px;\n          }\n        }\n        @media screen and (min-width: 900px) {\n          :host {\n            display: flex;\n            align-items: flex-start;\n            justify-content: space-between;\n          }\n          #profile {\n            --lrndesign-avatar-width: 200px;\n          }\n          #profile lrndesign-avatar {\n            margin: 0 auto;\n          }\n        }\n      ']);return H=function(){return n},n}function U(){var n=S(['\n                <nav-card-item\n                  accent-color="','"\n                  .avatar="','"\n                  icon="chevron-right"\n                  .initials="','"\n                >\n                  <elmsln-studio-link\n                    id="act-','"\n                    aria-describedby="act-','-desc"\n                    slot="label"\n                    href="','"\n                  >\n                    ','\n                  </elmsln-studio-link>\n                  <div id="act-','-desc" slot="description">\n                    ',"\n                  </div>\n                </nav-card-item>\n              "]);return U=function(){return n},n}function X(){var n=S(['\n                        <nav-card-item\n                          accent-color="','"\n                          .avatar="','"\n                          icon="chevron-right"\n                          .initials="','"\n                        >\n                          <elmsln-studio-link\n                            id="feed-','"\n                            aria-describedby="feed-','-desc"\n                            slot="label"\n                            href="/portfolios/',"?submission","&comment=",'"\n                          >\n                            ',"'s feedback on\n                            ",'\n                          </elmsln-studio-link>\n                          <span id="feed-','-desc" slot="description"\n                            >',"</span\n                          >\n                        </nav-card-item>\n                      "]);return X=function(){return n},n}function Y(){var n=S(['\n                        <nav-card-item icon="chevron-right">\n                          <elmsln-studio-link\n                            id="sub-','"\n                            aria-describedby="sub-','-desc"\n                            slot="label"\n                            href="/portfolios/',"?submission=",'"\n                          >\n                            ','\n                          </elmsln-studio-link>\n                          <span id="sub-','-desc" slot="description"\n                            >',"</span\n                          >\n                        </nav-card-item>\n                      "]);return Y=function(){return n},n}function $(){var n=S(['\n                        <nav-card-item\n                          accent-color="','"\n                          allow-grey\n                          avatar="','"\n                          icon="chevron-right"\n                          invert\n                        >\n                          <elmsln-studio-link\n                            id="due-','"\n                            aria-describedby="due-','-desc"\n                            slot="label"\n                            href="/assignments?assignments=','"\n                          >\n                            ','\n                          </elmsln-studio-link>\n                          <span id="due-','-desc" slot="description"\n                            >',"</span\n                          >\n                        </nav-card-item>\n                      "]);return $=function(){return n},n}function J(){var n=S(['\n      <h1 class="sr-only">Overview</h1>\n      <div id="primary">\n        <div id="profile">\n          <h2>','</h2>\n          <accent-card accent-color="purple" class="card primary">\n            <span slot="heading" class="sr-only">My Progress</span>\n            <lrndesign-avatar\n              accent-color="','"\n              slot="content"\n              src="','"\n              label="','"\n              two-chars\n              size="200px"\n            ></lrndesign-avatar>\n            <table slot="content">\n              <tbody>\n                <tr>\n                  <th scope="row">\n                    <elmsln-studio-link href="/assignments">Assignments Completed</elmsln-studio-link>\n                  </th>\n                  <td>\n                    ','\n                  </td>\n                </tr>\n                <tr>\n                  <th scope="row">\n                      Featured Submissions\n                  </th>\n                  <td>\n                    ','\n                  </td>\n                </tr>\n                <tr>\n                  <th scope="row">\n                    <elmsln-studio-link href="/submissions','">\n                      Total Submissions\n                    </elmsln-studio-link>\n                  </th>\n                  <td>\n                    ','\n                  </td>\n                </tr>\n                <tr>\n                  <th scope="row">Feedback Given</th>\n                  <td>\n                    ','\n                  </td>\n                </tr>\n                <tr>\n                  <th scope="row">Conversations</th>\n                  <td>\n                    ','\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </accent-card>\n          <nav-card accent-color="green" class="card primary due">\n            <span slot="heading">Work Due</span>\n            <div slot="linklist">\n              ','\n            </div>\n          </nav-card>\n        </div>\n        <div id="work">\n          <h2>Recent Work</h2>\n          <nav-card\n            accent-color="amber"\n            class="card primary"\n            link-icon="chevron-right"\n          >\n            <span slot="heading">Submissions</span>\n            <elmsln-studio-link slot="subheading" href="/submissions','">All submissions</elmsln-studio-link>\n            <div slot="linklist">\n              ','\n            </div>\n          </nav-card>\n          <nav-card\n            accent-color="cyan"\n            class="card feed primary"\n            link-icon="chevron-right"\n          >\n            <span slot="heading">Feedback</span>\n            <elmsln-studio-link slot="subheading">All feedback</elmsln-studio-link>\n            <div slot="linklist">\n              ','\n            </div>\n          </nav-card>\n        </div>\n      </div>\n      <div id="secondary">\n        <nav-card\n          flat\n          no-border\n          class="card feed secondary"\n          link-icon="chevron-right"\n        >\n          <span slot="heading">Recent Activity</span>\n          <div slot="linklist">\n            ','\n          </div>\n          <button\n            class="load-more"\n            slot="footer"\n            ?disabled="','"\n            ?hidden="','"\n            @click="','"\n          >\n            Load More\n          </button>\n        </nav-card>\n      </div--\x3e\n    ']);return J=function(){return n},n}customElements.define("elmsln-studio-button",V);var K=function(n){b(i,I(_(t.LitElement)));var e=w(i);function i(){var n;return m(this,i),(n=e.call(this)).activity=[],n.profile={},n.activityLoad=15,n.tag=i.tag,n}return f(i,[{key:"render",value:function(){var n=this;return t.html(J(),this.profileName,this.accentColor(this.profileName),this.profile?this.profile.image:"unknown",this.profileName,this.profile&&this.profile.completed&&this.profile.due?"".concat(this.profile.completed.length," / ").concat(this.profile.completed.length+this.profile.due.length):"unknown",this.profile&&this.profile.features?this.profile.features.length:"unknown",this.profile?"?student=".concat(this.profile.id):"",this.profile?(this.profile.submissions||[]).length:"unknown",this.profile&&this.profile.given?this.profile.given.length:"unknown",this.profile&&this.profile.given&&this.profile.discussions?this.profile.given.length+this.profile.discussions.length:"unknown",this.profile?(this.profile.due||[]).slice(0,5).map(function(e){return t.html($(),n._late(e.date)?"red":"grey",n._late(e.date)?"icons:assignment-late":"assignment",e.id,e.id,e.id,e.assignment,e.id,n.dateFormat(e.date,"long"))}):"unknown",this.profile?"?student=".concat(this.profile.id):"",this.profile?(this.profile.submissions||[]).slice(0,5).map(function(e){return t.html(Y(),e.id,e.id,e.portfolioId,e.id,e.assignment,e.id,n.dateFormat(e.date))}):"unknown",this.profile?(this.profile.feedback||[]).slice(0,5).map(function(e){return t.html(X(),n.accentColor([e.firstName,e.lastName].join(" ")),e.avatar,[e.firstName,e.lastName].join(" "),e.id,e.id,e.portfolioId,e.submissionId,e.id,[e.firstName,e.lastName].join(" "),e.assignment,e.id,n.dateFormat(e.date))}):"unknown",(this.activity||[]).slice(0,this.activityLoad).map(function(e){return t.html(U(),n.accentColor([e.firstName,e.lastName].join(" ")),e.avatar,[e.firstName,e.lastName].join(" "),e.id,e.id,n.getActivityLink(e),n.getActivityTitle(e),e.id,n.dateFormat(e.date))}),this.activityLoad>=this.activity.length,this.activityLoad>=this.activity.length,function(t){return n.activityLoad+=10})}}],[{key:"tag",get:function(){return"elmsln-studio-dashboard"}},{key:"styles",get:function(){return[].concat(F(j(y(i),"styles",this)),[t.css(H())])}},{key:"properties",get:function(){return v(v({},j(y(i),"properties",this)),{},{activity:{type:Array},activityLoad:{type:Number,attribute:"activity-load"},profile:{type:Object}})}}]),f(i,[{key:"updated",value:function(n){var t=this;j(y(i.prototype),"updated",this)&&j(y(i.prototype),"updated",this).call(this,n),n.forEach(function(n,e){"activity"===e&&(t.activityLoad=15)})}},{key:"loadMoreComments",value:function(n){this.activityLoad+=10}},{key:"profileName",get:function(){return this.profile&&this.profile.firstName&&this.profile.lastName?"".concat(this.profile.firstName," ").concat(this.profile.lastName):""}}]),i}();function Q(){var n=S(['\n        :host {\n          flex-wrap: wrap;\n        }\n        .filters {\n          flex: 1 0 100%;\n        }\n        #layout {\n          display: flex;\n          align-items: flex-end;\n          justify-content: space-between;\n        }\n        #layout > button {\n          background-color: transparent;\n          opacity: 0.25;\n          transform: opacity 0.5s ease-in-out;\n          height: calc(2 * var(--elmsln-studio-FontSize, 16px));\n          width: calc(2 * var(--elmsln-studio-FontSize, 16px));\n          flex: 1 0 auto;\n          border: 1px solid #ddd;\n          margin: 0;\n          padding: 0;\n        }\n        #layout button:focus,\n        #layout button:hover {\n          opacity: 0.75;\n        }\n        #layout button[aria-pressed="true"] {\n          opacity: 1;\n        }\n        #cards {\n          margin: var(--elmsln-studio-margin, 20px)\n            calc(-0.5 * var(--elmsln-studio-margin, 20px));\n          display: flex;\n          align-items: stretch;\n          justify-content: flex-start;\n          flex-wrap: wrap;\n        }\n        .no-submissions {\n          font-weight: var(--elmsln-studio-FontWeightLight, 300);\n          font-size: 22px;\n          margin: calc(0.5 * var(--elmsln-studio-margin, 20px));\n          padding: var(--elmsln-studio-margin, 20px);\n          width: calc(100% - 2 * var(--elmsln-studio-margin, 20px));\n          background-color: #e8e8e8;\n          text-align: center;\n        }\n        accent-card {\n          line-height: 160%;\n          --accent-card-padding: 0;\n          --accent-card-heading-padding-top: calc(\n            0.5 * var(--elmsln-studio-margin, 20px)\n          );\n          --accent-card-heading-padding-left: calc(\n            0.5 * var(--elmsln-studio-margin, 20px)\n          );\n          --accent-card-heading-padding-right: calc(\n            0.5 * var(--elmsln-studio-margin, 20px)\n          );\n          --accent-card-subheading-padding-left: calc(\n            0.5 * var(--elmsln-studio-margin, 20px)\n          );\n          --accent-card-subheading-padding-right: calc(\n            0.5 * var(--elmsln-studio-margin, 20px)\n          );\n          --accent-card-content-padding-left: calc(\n            0.5 * var(--elmsln-studio-margin, 20px)\n          );\n          --accent-card-content-padding-right: calc(\n            0.5 * var(--elmsln-studio-margin, 20px)\n          );\n          --accent-card-content-padding-bottom: calc(\n            0.5 * var(--elmsln-studio-margin, 20px)\n          );\n          --accent-card-footer-padding-top: calc(\n            0.5 * var(--elmsln-studio-margin, 20px)\n          );\n          --accent-card-footer-padding-bottom: calc(\n            0.5 * var(--elmsln-studio-margin, 20px)\n          );\n          --accent-card-footer-padding-left: 0;\n          --accent-card-footer-padding-right: 0;\n          --accent-card-image-padding-bottom: 5px;\n          --accent-card-image-padding-right: calc(\n            0.5 * var(--elmsln-studio-margin, 20px)\n          );\n          --accent-card-image-width: 33.33333%;\n          --accent-card-image-height: 200px;\n          margin: calc(0.5 * var(--elmsln-studio-margin, 20px))\n            calc(0.5 * var(--elmsln-studio-margin, 20px));\n          flex: 0 0 calc(100% - var(--elmsln-studio-margin, 20px));\n        }\n        .feature {\n          margin-top: var(--elmsln-studio-margin, 20px);\n          height: calc(\n            var(--accent-card-image-height, 200px) -\n              var(--elmsln-studio-margin, 20px)\n          );\n          overflow: auto;\n        }\n        accent-card [slot="heading"] {\n          font-weight: var(--elmsln-studio-FontWeightLight, 300);\n          font-size: 22px;\n        }\n        accent-card [slot="corner"] {\n          font-weight: var(--elmsln-studio-FontWeightNormal, 400);\n          font-size: 12px;\n        }\n        accent-card [slot="subheading"] {\n          font-weight: var(--elmsln-studio-FontWeightBold, 500);\n          font-size: 18px;\n          font-style: normal;\n          color: #5d5e5f;\n        }\n        accent-card [slot="content"] {\n          font-weight: var(--elmsln-studio-FontWeightNormal, 400);\n          font-size: 14px;\n          color: #7e7e7e;\n        }\n        accent-card [slot="footer"] {\n          font-weight: var(--elmsln-studio-FontWeightNormal, 400);\n          font-size: 12px;\n          text-transform: uppercase;\n          display: flex;\n          align-items: stretch;\n          justify-content: space-between;\n          color: #95989a;\n        }\n        accent-card.card.submission-card {\n          --accent-card-heading-min-height: 30px;\n        }\n        accent-card.card.submission-card elmsln-studio-link {\n          margin: 0 calc(0.5 * var(--elmsln-studio-margin, 20px));\n          text-align: left;\n          --elmsln-studio-link-Color: #7e7e7e;\n        }\n        accent-card.card.submission-card elmsln-studio-link:focus,\n        accent-card.card.submission-card elmsln-studio-link:focus-within,\n        accent-card.card.submission-card elmsln-studio-link:hover {\n          --elmsln-studio-link-Color: #95989a;\n          --elmsln-studio-link-TextDecoration: none !important;\n        }\n        accent-card.card.submission-card elmsln-studio-link:last-child {\n          text-align: right;\n        }\n        #secondary {\n          margin-top: 0;\n          --nav-card-linklist-margin-top: 0;\n          --nav-card-linklist-left-size: 36px;\n          --paper-avatar-width: var(--nav-card-linklist-left-size, 36px);\n        }\n        #secondary .filters {\n          justify-content: flex-start;\n        }\n        .comments {\n          color: #95989a;\n        }\n        nav-card {\n          margin: calc(1.5 * var(--elmsln-studio-margin, 20px)) 0 0;\n        }\n        @media screen and (min-width: 500px) {\n          .list accent-card {\n            --accent-card-image-width: 50%;\n          }\n          .grid accent-card:not([horizontal]) {\n            flex: 0 0 calc(50% - var(--elmsln-studio-margin, 20px));\n          }\n        }\n        @media screen and (min-width: 900px) {\n          :host {\n            display: flex;\n            align-items: flex-start;\n            justify-content: space-between;\n          }\n          .grid accent-card:not([horizontal]) {\n            flex: 0 0 calc(50% - var(--elmsln-studio-margin, 20px));\n          }\n          .filters > *,\n          #layout > * {\n            flex: 0 1 auto;\n            margin: 0 calc(0.5 * var(--elmsln-studio-margin, 20px));\n          }\n          #layout > button {\n            padding: 1px 6px;\n            margin: 0 5px;\n            border: 0px solid rgba(0, 0, 0, 0);\n          }\n        }\n        @media screen and (min-width: 1200px) {\n          .grid accent-card[horizontal] {\n            flex: 0 0 calc(66.66666667% - var(--elmsln-studio-margin, 20px));\n          }\n          .grid accent-card:not([horizontal]) {\n            flex: 0 0 calc(33.3333333333% - var(--elmsln-studio-margin, 20px));\n          }\n        }\n        @media screen and (min-width: 1600px) {\n          .grid accent-card[horizontal] {\n            --accent-card-image-width: 33.33333%;\n            flex: 0 0 calc(75% - var(--elmsln-studio-margin, 20px));\n          }\n          .grid accent-card:not([horizontal]) {\n            flex: 0 0 calc(25% - var(--elmsln-studio-margin, 20px));\n          }\n          .list accent-card {\n            --accent-card-image-width: 50%;\n          }\n        }\n      ']);return Q=function(){return n},n}function Z(){var n=S(['\n                <nav-card-item\n                  accent-color="','"\n                  .avatar="','"\n                  icon="chevron-right"\n                  initials="','"\n                >\n                  <elmsln-studio-link\n                    id="comment-','"\n                    aria-describedby="comment-','-desc"\n                    slot="label"\n                    href="','"\n                  >\n                    ','\n                  </elmsln-studio-link>\n                  <span id="comment-','" slot="description">\n                    ',"\n                  </span>\n                </nav-card-item>\n              "]);return Z=function(){return n},n}function nn(){var n=S(['\n              <accent-card\n                id="accent-','"\n                no-border\n                class="card submission-card"\n                image-src="','"\n                .image-alt="','"\n                ?horizontal="','"\n                .image-align="','"\n                .image-valign="','"\n                .gravity="','"\n              >\n                <img-view-modal\n                  .figures="','"\n                  page="','"\n                  slot="image-corner"\n                  title="','"\n                  .toolbars="','"\n                >\n                  <button\n                    aria-describedby="accent-','"\n                    ?disabled="','"\n                  >\n                    <simple-icon\n                      aria-hidden="true"\n                      icon="zoom-in"\n                    ></simple-icon>\n                    <span class="sr-only">View Image</span>\n                  </button>\n                </img-view-modal>\n                <div slot="heading" id="student-','" class="card-student">\n                  ','\n                </div>\n                <div slot="corner" id="date-','">\n                  ','\n                </div>\n                <div slot="subheading" id="assignment-','">\n                  ','\n                </div>\n                <div slot="content" id="project-','">','</div>\n                <div slot="content" class="feature" ?hidden="','">\n                  ','\n                </div>\n                <div slot="footer">\n                  <elmsln-studio-link\n                    aria-describedby="student-'," date-"," assignment-"," project",'"\n                    href="','"\n                  >\n                    <simple-icon icon="communication:comment"></simple-icon>\n                    Discussion','\n                  </elmsln-studio-link>\n                  <elmsln-studio-link\n                    aria-describedby="student-'," date-"," assignment-"," project",'"\n                    href="','"\n                  >\n                    <simple-icon icon="visibility"></simple-icon>\n                    View\n                  </elmsln-studio-link>\n                </div>\n              </accent-card>\n            ']);return nn=function(){return n},n}function tn(){var n=S(['\n      <h1 class="sr-only">Submissions</h1>\n      <div class="filters">\n        <simple-fields-field\n          inline\n          label="Project:"\n          .options="','"\n          value="','"\n          @value-changed="','"\n        >\n        </simple-fields-field>\n        <simple-fields-field\n          inline\n          label="Assignment:"\n          .options="','"\n          value="','"\n          @value-changed="','"\n        >\n        </simple-fields-field>\n        <simple-fields-field\n          inline\n          label="Student:"\n          .options="','"\n          value="','"\n          @value-changed="','"\n        >\n        </simple-fields-field>\n        <div id="layout">\n          <button\n            aria-pressed="','"\n            @click="','"\n          >\n            <simple-icon icon="icons:view-list"></simple-icon>\n            <span class="sr-only">display as list</span>\n          </button>\n          <button\n            aria-pressed="','"\n            @click="','"\n          >\n            <simple-icon icon="icons:view-module"></simple-icon>\n            <span class="sr-only">display as grid</span>\n          </button>\n        </div>\n      </div>\n      <div id="primary">\n        <div id="cards" class="','">\n          <div\n            class="no-submissions"\n            ?hidden="','"\n          >\n            No submissions for applied filters.\n          </div>\n          ','\n        </div>\n      </div>\n      <div id="secondary">\n        <nav-card flat no-border class="card" link-icon="chevron-right">\n          <span slot="heading">Recent Comments</span>\n          <div slot="body" ?hidden="','">\n            No comments for applied filters.\n          </div>\n          <div slot="linklist">\n            ',"\n          </div>\n        </nav-card>\n      </div>\n    "]);return tn=function(){return n},n}customElements.define("elmsln-studio-dashboard",K);var en=function(n){b(e,I(_(u.LitElement)));var t=w(e);function e(){var n;return m(this,e),(n=t.call(this)).list=!1,n.submissions=[],n.comments=[],n.tag=e.tag,n}return f(e,[{key:"render",value:function(){var n=this;return u.html(tn(),this.projectOptions,this.projectFilter||"",function(t){return n.projectFilter=t.detail.value},this.assignmentOptions,this.assignmentFilter||"",function(t){return n.assignmentFilter=t.detail.value},this.studentOptions,this.studentFilter||"",function(t){return n.studentFilter=t.detail.value},this.list?"true":"false",function(t){return n.list=!0},this.list?"false":"true",function(t){return n.list=!1},this.list?"list":"grid",this.filteredSubmissions.length>0,this.filteredSubmissions.map(function(t,e){return u.html(nn(),e,t.image||"",t.imageAlt||void 0,!(!t.feature&&!n.list),n._getAlign(t.imageGravity||void 0),n._getValign(t.imageGravity||void 0),t.imageGravity||void 0,n.getFigures(n.filteredSubmissions,"image","imageAlt","full","imageLongdesc"),e,n.modalTitle,n.defaultModalToolbars,e,!t.image,t.id,[t.firstName,t.lastName].join(" "),t.id,n.list?n.dateFormat(t.date):n.dateFormat(t.date,"short"),t.id,t.assignment,t.id,t.project,!t.feature,t.feature,t.id,t.id,t.id,t.id,n.getActivityLink(t),!t.feedback||t.feedback.length<1?"":": ".concat(t.feedback.length),t.id,t.id,t.id,t.id,n.getActivityLink(t,!0))}),this.filteredComments.length>0,this.filteredComments.map(function(t){return u.html(Z(),n.accentColor(n.fullName(t)),t.avatar,n.fullName(t),t.id,t.id,n.getActivityLink(t),n.getActivityTitle(t),t.id,n.dateFormat(t.date))}))}}],[{key:"tag",get:function(){return"elmsln-studio-submissions"}},{key:"styles",get:function(){return[].concat(F(j(y(e),"styles",this)),[u.css(Q())])}},{key:"properties",get:function(){return v(v({},j(y(e),"properties",this)),{},{assignmentFilter:{type:String,attribute:"assignment-filter"},comments:{type:Array},list:{type:Boolean,attribute:"list"},projectFilter:{type:String,attribute:"project-filter"},studentFilter:{type:String,attribute:"student-filter"},submissions:{type:Array}})}}]),f(e,[{key:"_isFilteredAssignment",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""===this.assignmentFilter||n===this.assignmentFilter}},{key:"_isFilteredProject",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""===this.projectFilter||n===this.projectFilter}},{key:"_isFilteredStudent",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""===this.studentFilter||n===this.studentFilter}},{key:"filteredComments",get:function(){var n=this;return(this.comments||[]).filter(function(t){return n._isFilteredStudent(t.userId)&&n._isFilteredAssignment(t.assignmentId)&&n._isFilteredProject(t.projectId)})}},{key:"studentOptions",get:function(){var n=this,t={"":"All"};return(this.submissions||[]).forEach(function(e){return t[e.userId]=n.fullName(e)}),t}},{key:"assignmentOptions",get:function(){var n=this,t={"":"All"};return(this.submissions||[]).filter(function(t){return n._isFilteredProject(t.projectId)}).forEach(function(n){return t[n.assignmentId]=n.assignment}),t}},{key:"projectOptions",get:function(){var n={"":"All"};return(this.submissions||[]).filter(function(n){return n.project}).forEach(function(t){return n[t.projectId]=t.project}),n}},{key:"filteredSubmissions",get:function(){var n=this;return(this.submissions||[]).filter(function(t){return n._isFilteredStudent(t.userId)&&n._isFilteredAssignment(t.assignmentId)&&n._isFilteredProject(t.projectId)})}},{key:"modalTitle",get:function(){var n=[[this.projectOptions[this.projectFilter],this.assignmentOptions[this.assignmentFilter]].filter(function(n){return!!n&&"All"!==n}).join(":"),this.studentOptions[this.studentFilter]].filter(function(n){return!!n&&"All"!==n&&""!==n}).join(" by ");return n&&""!=n?n:"All Submissions"}}]),e}();function on(){var n=S(['\n        :host {\n          display: flex;\n          color: #2c2c2c;\n          margin: 0 auto;\n          justify-content: center;\n        }\n        h2 {\n          color: #525252;\n          margin-top: calc(0.5 * var(--elmsln-studio-margin, 20px));\n        }\n        nav-card [slot="heading"] {\n          color: #4d4d4d;\n        }\n        nav-card-item [slot="label"] {\n          font-weight: normal;\n        }\n        nav-card-item [slot="description"] {\n          color: #95989a;\n        }\n        .lesson {\n          background-color: #eee;\n          padding: calc(0.5 * var(--elmsln-studio-margin, 20px));\n          --lrndesign-avatar-border-radius: 0%;\n          --nav-card-item-avatar-width: 20px;\n          border: 1px solid var(--accent-card-border-color, #ddd);\n          border-bottom: none;\n        }\n        .lesson > .assignment {\n          background-color: #fff;\n          border: 1px solid var(--accent-card-border-color, #ddd);\n          padding: calc(0.5 * var(--elmsln-studio-margin, 20px))\n            var(--elmsln-studio-margin, 20px);\n          margin-bottom: 15px;\n        }\n        @media screen and (min-width: 400px) {\n          #lessons {\n            display: flex;\n            align-items: stretch;\n            justify-content: flex-start;\n            overflow-x: auto;\n            max-width: 100%;\n            padding: 0 calc(0.5 * var(--elmsln-studio-margin, 20px));\n          }\n          .lesson {\n            width: 300px;\n            flex: 0 0 300px;\n            margin: 0 var(--elmsln-studio-margin, 20px);\n            border-bottom: 1px solid var(--accent-card-border-color, #ddd);\n          }\n        }\n      ']);return on=function(){return n},n}function sn(){var n=S(['\n          <nav-card-item\n            accent-color="','"\n            allow-grey\n            avatar="','"\n            invert\n          >\n            <elmsln-studio-link\n              id="act-','"\n              aria-describedby="act-','-desc"\n              slot="label"\n              href="','"\n            >\n              ','\n            </elmsln-studio-link>\n            <div id="act-','-desc" slot="description">\n              Due: ',"\n            </div>\n          </nav-card-item>\n        "]);return sn=function(){return n},n}function rn(){var n=S(['\n                      <nav-card flat no-border class="card secondary">\n                        <span slot="heading" ?hidden="','">\n                          ','\n                        </span>\n                        <div slot="linklist">\n                          ',"\n                        </div>\n                      </nav-card>\n                    "]);return rn=function(){return n},n}function an(){var n=S(['\n                      <div class="assignment">',"</div>\n                    "]);return an=function(){return n},n}function ln(){var n=S(['\n            <div class="lesson">\n              <h2>',"</h2>\n              ","\n            </div>\n          "]);return ln=function(){return n},n}function cn(){var n=S(['\n      <h1 class="sr-only">Assignments</h1>\n      <div id="lessons">\n        ',"\n      </div>\n    "]);return cn=function(){return n},n}customElements.define("elmsln-studio-submissions",en);var dn=function(n){b(i,I(_(t.LitElement)));var e=w(i);function i(){var n;return m(this,i),(n=e.call(this)).profile={},n.lessons={},n.tag=i.tag,n}return f(i,[{key:"render",value:function(){var n=this;return t.html(cn(),Object.keys(this.lessons||{}).map(function(e){return t.html(ln(),n.lessons[e].lesson,(n.lessons[e].assignments||[]).map(function(e){return e.assignments?t.html(rn(),!e.project,e.project,n.sortDates(e.assignments||[],!0).map(function(t){return n.renderAssignment(t)})):t.html(an(),n.renderAssignment(e))}))}))}},{key:"renderAssignment",value:function(n){return n?t.html(sn(),this._incomplete(n.id)?this._late(n.date)?"red":"grey":"green",this._incomplete(n.id)?this._late(n.date)?"icons:assignment-late":"assignment":"assignment-turned-in",n.id,n.id,n.link,n.assignment,n.id,this.dateFormat(n.date)):""}},{key:"_incomplete",value:function(n){return this.profile&&this.profile.due&&this.profile.due.filter(function(t){return t.id===n}).length>0}}],[{key:"tag",get:function(){return"elmsln-studio-assignments"}},{key:"styles",get:function(){return[].concat(F(j(y(i),"styles",this)),[t.css(on())])}},{key:"properties",get:function(){return v(v({},j(y(i),"properties",this)),{},{lessons:{type:Object},profile:{type:Object}})}}]),f(i,[{key:"updated",value:function(n){j(y(i.prototype),"updated",this)&&j(y(i.prototype),"updated",this).call(this,n),n.forEach(function(n,t){}),console.log("updated",this.lessons,this.profile)}}]),i}();function un(){var n=S(["\n        :host {\n          display: block;\n          flex-wrap: wrap;\n        }\n        h1 {\n          text-align: center;\n        }\n        #breadcrumb {\n          margin: 0 0 var(--elmsln-studio-margin, 20px);\n          flex: 1 0 100%;\n          --elmsln-studio-link-Color: var(\n            --simple-colors-fixed-theme-light-blue-8\n          );\n          --elmsln-studio-link-focus-Color: var(\n            --simple-colors-fixed-theme-light-blue-9\n          );\n        }\n        #breadcrumb > * {\n          display: inline;\n        }\n        lrndesign-avatar,\n        .student-name,\n        .project-name,\n        .assignment-name,\n        .submission-date {\n          font-weight: normal;\n          display: block;\n        }\n        .student-name {\n          font-size: calc(2 * var(--elmsln-studio-FontSize, 16px));\n          font-weight: bold;\n          color: #4b4b4b;\n        }\n        .project-name {\n          font-size: calc(1.75 * var(--elmsln-studio-FontSize, 16px));\n          color: #95989a;\n        }\n        #project-buttons,\n        .submission-header {\n          position: relative;\n          height: 40px;\n          margin-top: -40px;\n        }\n        #sort,\n        .submission-header elmsln-studio-button {\n          color: #95989a;\n          font-size: var(--elmsln-studio-FontSize, 16px);\n          text-transform: uppercase;\n          position: absolute;\n          right: 0;\n          top: 0;\n        }\n        #sort:focus,\n        #sort:hover,\n        .submission-header elmsln-studio-button:focus,\n        .submission-header elmsln-studio-button:hover {\n          color: #4b4b4b;\n        }\n        #sort.sort-latest {\n          transform: rotateX(180deg) rotateY(0deg);\n        }\n        section {\n          border-top: 2px solid #eaeaea;\n          padding: calc(0.5 * var(--elmsln-studio-margin, 20px)) 0\n            var(--elmsln-studio-margin, 20px);\n        }\n        .view-discussion {\n          border: 1px solid #eaeaea;\n          padding: calc(0.5 * var(--elmsln-studio-margin, 20px));\n        }\n        .view-discussion section {\n          opacity: 0.4;\n          display: none;\n        }\n        .view-discussion section.section-discussion {\n          display: block;\n          opacity: 1;\n        }\n        h2 {\n          margin: calc(2 * var(--elmsln-studio-margin, 20px)) auto;\n          text-align: center;\n        }\n        .assignment-name {\n          font-size: calc(1.5 * var(--elmsln-studio-FontSize, 16px));\n          color: #555555;\n        }\n        .submission-date {\n          font-size: var(--elmsln-studio-FontSize, 16px);\n          color: #95989a;\n        }\n        .submission-body {\n          color: #95989a;\n          line-height: 160%;\n          margin: calc(0.5 * var(--elmsln-studio-margin, 20px)) auto\n            var(--elmsln-studio-margin, 20px);\n        }\n        .submission-body:first-child {\n          margin-top: 0;\n        }\n        .submission-body:last-child {\n          margin-bottom: 0;\n        }\n        .submission-links {\n          list-style: none;\n          padding-inline-start: 0;\n        }\n        .submission-links > li {\n          display: flex;\n          align-items: flex-start;\n          justify-content: flex-start;\n        }\n        .submission-links a:link,\n        .submission-links a:visited {\n          font-size: calc(1.5 * var(--elmsln-studio-FontSize, 16px));\n          font-weight: bold;\n          color: #000;\n          text-decoration: none;\n        }\n        .submission-links a:focus,\n        .submission-links a:hover {\n          text-decoration: underline;\n        }\n        .submission-links simple-icon {\n          margin-right: 0.5em;\n        }\n        .submission-links a:focus simple-icon,\n        .submission-links a:hover simple-icon {\n          text-decoration: none;\n        }\n        .callout {\n          font-size: calc(0.75 * var(--elmsln-studio-FontSize, 16px));\n          border: 1px solid #eaeaea;\n          padding: 0;\n        }\n        .discussion-label {\n          text-align: left;\n          font-size: calc(1 * var(--elmsln-studio-FontSize, 16px));\n          margin: var(--elmsln-studio-margin, 20px) 0\n            calc(0.25 * var(--elmsln-studio-margin, 20px));\n        }\n        .callout > * {\n          padding: calc(0.25 * var(--elmsln-studio-margin, 20px))\n            calc(0.5 * var(--elmsln-studio-margin, 20px));\n        }\n        .callout .callout-label {\n          font-size: calc(1 * var(--elmsln-studio-FontSize, 16px));\n          font-weight: normal;\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          margin: 0;\n          color: #4b4b4b;\n          border-bottom: 1px solid #eaeaea;\n        }\n        .callout .callout-label simple-icon {\n          margin-right: 1em;\n        }\n        threaded-discussion {\n          background-color: #eaeaea;\n          padding: 1px;\n          --threaded-discussion-comment-button-BackgroundColor: var(\n            --simple-colors-fixed-theme-light-blue-8\n          );\n          --threaded-discussion-comment-button-focus-BackgroundColor: var(\n            --simple-colors-fixed-theme-light-blue-9\n          );\n        }\n        @media screen and (min-width: 600px) {\n          :host {\n            display: flex;\n            align-items: flex-start;\n            justify-content: space-between;\n          }\n          #primary {\n            flex: 1 0 100%;\n          }\n          #primary.view-discussion {\n            flex: 0 0 calc(50% - var(--elmsln-studio-margin, 20px));\n          }\n          #primary:not(.view-discussion) {\n            max-width: calc(1000px - 2 * var(--elmsln-studio-margin, 20px));\n            margin: 0 auto;\n            border: 1px solid #eaeaea;\n            padding: var(--elmsln-studio-margin, 20px);\n          }\n          .view-discussion section {\n            display: block;\n          }\n          .view-discussion section.section-discussion {\n            border: 4px solid #95989a;\n            padding: calc(0.5 * var(--elmsln-studio-margin, 20px))\n              calc(0.5 * var(--elmsln-studio-margin, 20px))\n              var(--elmsln-studio-margin, 20px);\n            opacity: 1;\n          }\n          #secondary {\n            flex: 0 0 calc(50% - var(--elmsln-studio-margin, 20px));\n          }\n        }\n      "]);return un=function(){return n},n}function mn(){var n=S([" "," "]);return mn=function(){return n},n}function pn(){var n=S(['\n                                      <li>\n                                        <elmsln-studio-link\n                                          href="','"\n                                          target="_blank"\n                                        >\n                                          <simple-icon\n                                            aria-hidden="true"\n                                            icon="','"\n                                          ></simple-icon>\n                                          ',"\n                                        </elmsln-studio-link>\n                                      </li>\n                                    "]);return pn=function(){return n},n}function fn(){var n=S(['\n                                <ul class="submission-links">\n                                  ',"\n                                </ul>\n                              "]);return fn=function(){return n},n}function hn(){var n=S(['\n                      <section\n                        class="','"\n                      >\n                        <div class="submission-header">\n                          <h2 id="sub-','">\n                            <span class="assignment-name">','</span>\n                            <span class="submission-date"\n                              >Submitted: ','</span\n                            >\n                          </h2>\n                          <elmsln-studio-button\n                            class="view-discussion-button"\n                            aria-describedby="sub-','"\n                            icon="','"\n                            path="','"\n                          >\n                            <span class="sr-only"\n                              >Give / View Feedback (',')</span\n                            >\n                          </elmsln-studio-button>\n                        </div>\n                        <div class="submission-body">\n                          ',"\n                        </div>\n                      </section>\n                    "]);return hn=function(){return n},n}function gn(){var n=S(['\n                  <elmsln-studio-link\n                    href="','"\n                    >',"</elmsln-studio-link\n                  >\n                  <span> > </span>\n                "]);return gn=function(){return n},n}function vn(){var n=S(['\n                  <elmsln-studio-link\n                    href="','"\n                    >',"</elmsln-studio-link\n                  >\n                  <span> > </span>\n                "]);return vn=function(){return n},n}function bn(){var n=S(['\n          <div id="breadcrumb">\n            <elmsln-studio-link href="/submissions"\n              >Submissions</elmsln-studio-link\n            >\n            <span> > </span>\n            ',"\n            ","\n            <span>",'</span>\n          </div>\n          <div\n            id="primary"\n            ?hidden="','"\n            class="','"\n          >\n            <article id="portfolio-project">\n              <h1>\n                <lrndesign-avatar\n                  accent-color="','"\n                  aria-hidden="true"\n                  label="','"\n                  .src="','"\n                  two-chars\n                >\n                </lrndesign-avatar>\n                <span class="student-name"\n                  >','</span\n                >\n                <span class="project-name">','</span>\n              </h1>\n              <div id="project-buttons">\n                <button\n                  id="sort"\n                  aria-pressed="','"\n                  class="','"\n                  @click="','"\n                  controls="portfolio-project"\n                >\n                  <simple-icon icon="sort"></simple-icon>\n                  <span class="sr-only"\n                    >Sort Submissions\n                    ',"</span\n                  >\n                </button>\n              </div>\n              ",'\n            </article>\n          </div>\n          <div\n            id="secondary"\n            ?hidden=','\n          >\n            <aside>\n              <div class="instructions callout">\n                <h2 class="callout-label">\n                  <simple-icon icon="info" aria-hidden="true"></simple-icon>\n                  Giving Feedback\n                </h2>\n                <div>\n                  <ul>\n                    <li>Things to look for: blah, blah, blah</li>\n                    <li>How to say it: blah, blah, blah</li>\n                    <li>Other info.</li>\n                  </ul>\n                </div>\n              </div>\n              <h2 class="discussion-label">Feedback</h2>\n              <div class="discussion callout">\n                <p class="callout-label">\n                  <simple-icon\n                    icon="communication:comment"\n                    aria-hidden="true"\n                  ></simple-icon>\n                  Post New Feedback\n                </p>\n                <threaded-discussion\n                  comment-icon="send"\n                  ?demo="','"\n                  .data="','"\n                  latest\n                >\n                </threaded-discussion>\n              </div>\n            </aside>\n          </div>\n        ']);return bn=function(){return n},n}customElements.define("elmsln-studio-assignments",dn);var yn=function(n){b(e,I(_(u.LitElement)));var t=w(e);function e(){var n;return m(this,e),(n=t.call(this)).portfolio={},n.submission={},n.submissionFilter="",n.comment="",n.tag=e.tag,n}return f(e,[{key:"render",value:function(){var n=this;return this.portfolio?u.html(bn(),this.portfolio.projectId&&this.portfolio.project?u.html(vn(),"/submissions?project=".concat(this.portfolio.projectId),this.portfolio.project):"",this.assignment&&this.assignment.assignment?u.html(gn(),"/submissions?".concat(this.portfolio.projectId&&this.portfolio.project?"project=".concat(this.portfolio.projectId,"&"):"","assignment=").concat(this.assignment.assignmentId),this.assignment.assignment):"",this.fullName(this.portfolio),!this.portfolio,this.comment&&""!==this.comment?"view-discussion":"",this.accentColor(this.fullName(this.portfolio)),this.fullName(this.portfolio),this.portfolio&&this.portfolio.avatar?this.portfolio.avatar:void 0,this.fullName(this.portfolio),this.portfolio.project,this.sortLatest?"false":"true",this.sortLatest?"sort-latest":"",function(t){return n.sortLatest=!n.sortLatest},this.sortLatest?"Newest First":"Oldest First",this.portfolio?this.sortedSubmissions.map(function(t){return u.html(hn(),n.submissionFilter===t.id?"section-discussion":"",t.id,t.assignment,n.dateFormat(t.date),t.id,n._getFeedbackIcon(t.feedback.length),n.getActivityLink(t,n.comment),t.feedback.length,t.links&&t.links.length>0?u.html(fn(),t.links.map(function(n){return u.html(pn(),n.url,"pdf"===n.type?"hax:file-pdf":"link",n.text||n.url)})):t.sources&&0!==t.sources.length?n.getThumnailGrid(t):u.html(mn(),t.body))}):"",!this.portfolio||!this.comment||""===this.comment,this.demoMode,this.submission||[]):""}}],[{key:"styles",get:function(){return[].concat(F(j(y(e),"styles",this)),[u.css(un())])}},{key:"properties",get:function(){return v(v({},j(y(e),"properties",this)),{},{portfolio:{type:Object},submission:{type:Object},comment:{type:String,attribute:"comment"},submissionFilter:{type:String,attribute:"submission-filter"},sortLatest:{type:Boolean,attribute:"sort-latest",reflect:!0}})}},{key:"tag",get:function(){return"elmsln-studio-portfolio"}}]),f(e,[{key:"connectedCallback",value:function(){j(y(e.prototype),"connectedCallback",this).call(this)}},{key:"_getFeedbackIcon",value:function(n){return 0===n?"communication:comment":n<10?"hax:messages-".concat(n):"hax:messages-9-plus"}},{key:"updated",value:function(n){j(y(e.prototype),"updated",this)&&j(y(e.prototype),"updated",this).call(this,n),n.forEach(function(n,t){})}},{key:"sortedSubmissions",get:function(){return console.log("sortedSubmissions",this.portfolio.submissions?this.sortDates(this.portfolio.submissions,this.sortLatest):[]),this.portfolio.submissions?this.sortDates(this.portfolio.submissions,this.sortLatest):[]}},{key:"assignment",get:function(){var n=this,t=this.submissionFilter&&this.portfolio&&this.portfolio.submissions?this.portfolio.submissions.filter(function(t){return t.id===n.submissionFilter}):[];return!!t&&t[0]}}]),e}();function kn(){var n=S(['\n      <div id="studio-nav">\n        <elmsln-studio-link ?active="','" href="/"\n          >Dashboard</elmsln-studio-link\n        >\n        <elmsln-studio-link\n          ?active="','"\n          href="/submissions"\n          >Submissions</elmsln-studio-link\n        >\n        <elmsln-studio-link\n          ?active="','"\n          href="/assignments"\n          >Assignments</elmsln-studio-link\n        >\n        <elmsln-studio-link\n          ?active="','"\n          href="/activity"\n          >Activity Index</elmsln-studio-link\n        >\n      </div>\n      <br />\n      <elmsln-studio-main active-route="','">\n        <elmsln-studio-dashboard\n          ?demo-mode="','"\n          route="dashboard"\n          .profile="','"\n          .activity="','"\n          route="dashboard"\n        >\n        </elmsln-studio-dashboard>\n        <elmsln-studio-submissions\n          ?demo-mode="','"\n          route="submissions"\n          .submissions="','"\n          .comments="','"\n          ?grid="','"\n          student-filter="','"\n          assignment-filter="','"\n          project-filter="','"\n        >\n        </elmsln-studio-submissions>\n        <elmsln-studio-portfolio\n          ?demo-mode="','"\n          route="portfolios"\n          .portfolio="','"\n          .submission="','"\n          ?sort-latest="','"\n          submission-filter="','"\n          comment="','"\n        >\n        </elmsln-studio-portfolio>\n        <elmsln-studio-assignments\n          ?demo-mode="','"\n          route="assignments"\n          .lessons="','"\n          .profile="','"\n        >\n        </elmsln-studio-assignments>\n      </elmsln-studio-main>\n    ']);return kn=function(){return n},n}customElements.define("elmsln-studio-portfolio",yn);var xn=function(n){b(o,e.router(I(_(t.LitElement))));var i=w(o);function o(){var n;return m(this,o),(n=i.call(this)).activity=[],n.assignments={},n.discussion={},n.lessons={},n.portfolios={},n.projects={},n.profile={},n.submissions={},n.users={},n.route="",n.params={},n.query={},n.data={},n}return f(o,[{key:"render",value:function(){var n=this;return t.html(kn(),"dashboard"===this.route,"submissions"===this.route||"portfolios"===this.route,"assignments"===this.route,"activity"===this.route,this.route,this.demoMode,this.profile,this.activity,this.demoMode,Object.keys(this.submissions||{}).map(function(t){return n.submissions[t]}),Object.keys(this.discussion||{}).map(function(t){return n.discussion[t]}),this.query.grid||!1,this.query.student||"",this.query.assignment||"",this.query.project||"",this.demoMode,this.portfolio,this.submissionFeedback,"latest"===this.query.sort,this.query.submission||"",this.query.comment||"",this.demoMode,this.lessons||{},this.profile||{})}}],[{key:"tag",get:function(){return"elmsln-studio"}},{key:"properties",get:function(){return v(v({},j(y(o),"properties",this)),{},{activity:{type:Array},activitySource:{type:String,reflect:!0,attribute:"activity-source"},assignments:{type:Object},assignmentsSource:{type:String,reflect:!0,attribute:"assignments-source"},discussion:{type:Object},discussionSource:{type:String,reflect:!0,attribute:"discussion-source"},lessons:{type:Object},lessonsSource:{type:String,reflect:!0,attribute:"lessons-source"},portfolios:{type:Object},portfoliosSource:{type:String,reflect:!0,attribute:"portfolios-source"},profile:{type:Object},profileSource:{type:String,reflect:!0,attribute:"profile-source"},projects:{type:Array},projectsSource:{type:String,reflect:!0,attribute:"projects-source"},sourcePath:{type:String,reflect:!0,attribute:"source-path"},submissions:{type:Object},submissionsSource:{type:String,reflect:!0,attribute:"submissions-source"},users:{type:Object},usersSource:{type:String,reflect:!0,attribute:"users"},route:{type:String},params:{type:Object},query:{type:Object},data:{type:Object}})}},{key:"routes",get:function(){return[{name:"assignments",pattern:"assignments"},{name:"submissions",pattern:"submissions"},{name:"portfolios",pattern:"portfolios/:portfolio"},{name:"dashboard",pattern:"*",data:{title:"Home"}}]}}]),f(o,[{key:"router",value:function(n,t,e,i){this.route=n,this.params=t,this.query=e,this.data=i}},{key:"updated",value:function(n){var t=this;j(y(o.prototype),"updated",this)&&j(y(o.prototype),"updated",this).call(this,n),n.forEach(function(n,e){"params"===e&&console.log("params",t.params),"query"===e&&console.log("query",t.query),"usersSource"===e&&t.fetchData(t.usersSource,"users"),"profileSource"===e&&t.fetchData(t.profileSource,"profile"),"activitySource"===e&&t.fetchData(t.activitySource,"activity"),"lessonsSource"===e&&t.fetchData(t.lessonsSource,"lessons"),"projectsSource"===e&&t.fetchData(t.projectsSource,"projects"),"assignmentsSource"===e&&t.fetchData(t.assignmentsSource,"assignments"),"portfoliosSource"===e&&t.fetchData(t.portfoliosSource,"portfolios"),"submissionsSource"===e&&t.fetchData(t.submissionsSource,"submissions"),"discussionSource"===e&&t.fetchData(t.discussionSource,"discussion")})}},{key:"_filterBy",value:function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return n&&t&&n["".concat(e).concat(t)]?n["".concat(e).concat(t)]:{}}},{key:"fetchData",value:function(n,t,e){var i=this;fetch(this._getPath(n,e)).then(function(n){return n.json()}).then(function(n){i[t]=n,console.log("".concat(t," Loaded"),n,i[t])})}},{key:"_getPath",value:function(n,t){var e=Object.keys(t||{}).map(function(n){return"".concat(encodeURI(n),"=").concat(encodeURI(t[n]))}).join("&");return e?"".concat(n,"?").concat(e):n}},{key:"portfolio",get:function(){return this.params.portfolio?this.portfolios[this.params.portfolio]:{}}},{key:"submissionFeedback",get:function(){var n=this;return this.query.submission?Object.keys(this.discussion||{}).filter(function(t){return n.discussion[t].submissionId==n.query.submission}).map(function(t){return n.discussion[t]}):[]}}]),o}();customElements.define(xn.tag,xn),n.ElmslnStudio=xn,Object.defineProperty(n,"__esModule",{value:!0})});
