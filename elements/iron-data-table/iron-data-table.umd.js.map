{"version":3,"file":"iron-data-table.umd.js","sources":["lib/data-table-column-filter.js","lib/data-table-column.js","lib/data-table-icons.js","lib/data-table-column-sort.js","lib/data-table-templatizer-behavior.js","lib/data-table-cell.js","lib/data-table-row.js","lib/data-table-checkbox.js","lib/data-table-row-detail.js","iron-data-table.umd.js"],"sourcesContent":["import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\n\nvar $_documentContainer = document.createElement(\"div\");\n$_documentContainer.setAttribute(\"style\", \"display: none;\");\n\n$_documentContainer.innerHTML = `<dom-module id=\"data-table-column-filter\">\n  <style is=\"custom-style\">\n    :host([hidden]) {\n      display: none;\n    }\n\n    paper-input {\n      --paper-input-container: {\n        margin-bottom: 20px;\n      };\n      --paper-input-container-label: {\n        font-size: inherit;\n      }\n    }\n  </style>\n\n  <template>\n    <paper-input label=\"[[label]]\" value=\"[[value]]\" on-value-changed=\"_valueChanged\"></paper-input>\n  </template>\n  \n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer);\nPolymer({\n  is: \"data-table-column-filter\",\n\n  properties: {\n    label: String,\n    value: {\n      type: String,\n      notify: true\n    },\n    hidden: Boolean\n  },\n\n  _valueChanged: function(e) {\n    // store value in a variable, referring to e.detail.value inside the debounce\n    // function results in weird outcomes. event object might be reused by Polymer?\n    var value = e.detail.value;\n    this.debounce(\n      \"value\",\n      function() {\n        this.value = value;\n      }.bind(this),\n      250\n    );\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport \"./data-table-column-filter.js\";\nPolymer({\n  _template: html`\n    <template id=\"header\">\n      <data-table-column-filter\n        label=\"[[column.name]]\"\n        value=\"{{column.filterValue}}\"\n        hidden\\$=\"[[!column.filterBy]]\"\n      ></data-table-column-filter>\n      <div hidden\\$=\"[[column.filterBy]]\">[[column.name]]</div>\n    </template>\n  `,\n\n  is: \"data-table-column\",\n\n  properties: {\n    /**\n     * If `true`, cell contents will be aligned on the right\n     */\n    alignRight: {\n      type: Boolean,\n      value: false\n    },\n\n    /**\n     * Name of the column. This value is displayed in the header cell of the column\n     */\n    name: {\n      type: String,\n      value: \"\"\n    },\n\n    /**\n     * Path to a property that will be filtered by this column. If set, a filter input\n     * will be automaticelly placed on the header cell of the column.\n     */\n    filterBy: String,\n\n    /**\n     * Filter value that will be used to filter the items using the property defined\n     * in `filterBy` property.\n     */\n    filterValue: String,\n\n    /**\n     * Minimum width of the column\n     */\n    width: {\n      type: String,\n      value: \"100px\"\n    },\n\n    /**\n     * Ratio of how the extra space between columns is distributed. If every cell\n     * has the same `flex` value, the space will be distributed evenly.\n     */\n    flex: {\n      type: Number,\n      value: 1\n    },\n\n    /**\n     * If `true`, the cells of this column will be hidden.\n     */\n    hidden: {\n      type: Boolean,\n      value: false\n    },\n\n    /**\n     * Display order of the column in relation with the other columns.\n     */\n    order: {\n      type: Number,\n      notify: true\n    },\n\n    /**\n     * Path to a property that will be sorted by this column. If set, a sorting\n     * indicator will be automatically placed in the header cell of this column.\n     */\n    sortBy: {\n      type: String\n    },\n\n    /*\n     * Reference to the parent <iron-data-table> element.\n     */\n    table: Object,\n\n    /**\n     * Template for the header cell\n     */\n    headerTemplate: {\n      type: Object,\n      readOnly: true,\n      value: function() {\n        var custom = dom(this).querySelector(\"template[is=header]\");\n\n        if (custom && custom.parentElement) {\n          // set dataHost to the context where template has been defined\n          var column = custom.parentElement;\n          custom._rootDataHost =\n            column.dataHost._rootDataHost || column.dataHost;\n          return custom;\n        }\n\n        return dom(this.root).querySelector(\"#header\");\n      }\n    },\n\n    /**\n     * Template for the row item cell\n     */\n    template: {\n      type: Object,\n      readOnly: true,\n      value: function() {\n        var template = dom(this).querySelector(\"template:not([is=header])\");\n\n        if (template) {\n          if (this.dataHost) {\n            // set dataHost to the context where template has been defined\n            template._rootDataHost =\n              this.dataHost._rootDataHost || this.dataHost;\n          }\n\n          return template;\n        }\n      }\n    }\n  },\n\n  observers: [\n    \"_alignRightChanged(table, alignRight)\",\n    \"_filterValueChanged(table, filterValue, filterBy)\",\n    \"_filterByChanged(table, filterBy)\",\n    \"_flexChanged(table, flex)\",\n    \"_headerTemplateChanged(table, headerTemplate)\",\n    \"_hiddenChanged(table, hidden)\",\n    \"_nameChanged(table, name)\",\n    \"_orderChanged(table, order)\",\n    \"_sortByChanged(table, sortBy)\",\n    \"_templateChanged(table, template)\",\n    \"_widthChanged(table, width)\"\n  ],\n\n  _notifyTable: function(table, path, value) {\n    if (table.columns) {\n      var index = table.columns.indexOf(this);\n      table.notifyPath(\"columns.\" + index + \".\" + path, value);\n    }\n  },\n\n  _alignRightChanged: function(table, alignRight) {\n    this._notifyTable(table, \"alignRight\", alignRight);\n  },\n\n  _nameChanged: function(table, name) {\n    this._notifyTable(table, \"name\", name);\n  },\n\n  _sortByChanged: function(table, sortBy) {\n    this._notifyTable(table, \"sortBy\", sortBy);\n  },\n\n  _flexChanged: function(table, flex) {\n    this._notifyTable(table, \"flex\", flex);\n  },\n\n  _headerTemplateChanged: function(table, headerTemplate) {\n    this._notifyTable(table, \"headerTemplate\", headerTemplate);\n  },\n\n  _hiddenChanged: function(table, hidden) {\n    this._notifyTable(table, \"hidden\", hidden);\n  },\n\n  _orderChanged: function(table, order) {\n    this._notifyTable(table, \"order\", order);\n  },\n\n  _templateChanged: function(table, template) {\n    this._notifyTable(table, \"template\", template);\n  },\n\n  _widthChanged: function(table, width) {\n    this._notifyTable(table, \"width\", width);\n  },\n\n  _filterByChanged: function(table, filterBy) {\n    this._notifyTable(table, \"filterBy\", filterBy);\n  },\n\n  _filterValueChanged: function(table, filterValue, filterBy) {\n    this._notifyTable(table, \"filterValue\", filterValue);\n    this.fire(\"column-filter-changed\", {\n      value: filterValue,\n      filterBy: filterBy\n    });\n  }\n});\n","var $_documentContainer = document.createElement(\"div\");\n$_documentContainer.setAttribute(\"style\", \"display: none;\");\n\n$_documentContainer.innerHTML = `<iron-iconset-svg size=\"24\" name=\"data-table\">\n  <svg>\n    <defs>\n      <g id=\"arrow-upward\"><path d=\"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z\"></path></g>\n    </defs>\n  </svg>\n</iron-iconset-svg>`;\n\ndocument.head.appendChild($_documentContainer);\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\n\nimport \"./data-table-icons.js\";\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        margin: 4px;\n      }\n\n      :host([hidden]) {\n        display: none;\n      }\n\n      paper-icon-button {\n        position: relative;\n        opacity: 0.84;\n        transition: all 0.2s;\n      }\n\n      paper-icon-button:hover,\n      paper-icon-button[focused] {\n        color: var(--default-primary-color);\n      }\n\n      paper-icon-button:not([direction]) {\n        opacity: 0.16;\n      }\n\n      paper-icon-button[direction=\"desc\"] {\n        transform: rotate(-180deg);\n      }\n\n      paper-icon-button[hidden] {\n        display: none;\n      }\n\n      .order {\n        font-size: 9px;\n        font-weight: bold;\n        position: absolute;\n        right: 4px;\n        bottom: 8px;\n      }\n    </style>\n\n    <div style=\"position: relative\">\n      <paper-icon-button\n        id=\"sortIcon\"\n        on-tap=\"_sort\"\n        icon=\"data-table:arrow-upward\"\n        direction\\$=\"[[direction]]\"\n      >\n      </paper-icon-button>\n      <div class=\"order\">[[order]]</div>\n    </div>\n  `,\n\n  is: \"data-table-column-sort\",\n\n  properties: {\n    direction: {\n      type: String,\n      notify: true\n    },\n    path: String,\n    order: {\n      type: Number,\n      computed: \"_order(path, sortOrder, sortOrder.length)\"\n    },\n    sortOrder: Array\n  },\n\n  observers: [\"_sortOrderChanged(sortOrder.*)\"],\n\n  _order: function(path, sortOrder, length) {\n    if (length <= 1) {\n      return \"\";\n    }\n\n    for (var i = 0; i < length; i++) {\n      if (sortOrder[i].path === path) {\n        return i + 1;\n      }\n    }\n  },\n\n  _sortOrderChanged: function(sortOrder) {\n    // TODO: if sortOrder for this column has been removed from outside, direction is not updated.\n    if (sortOrder.base) {\n      sortOrder.base.forEach(\n        function(sort) {\n          if (sort.path === this.path) {\n            this.direction = sort.direction;\n            return;\n          }\n        }.bind(this)\n      );\n    }\n  },\n\n  _sort: function() {\n    switch (this.direction) {\n      case \"asc\":\n        this.direction = \"desc\";\n        break;\n\n      case \"desc\":\n        this.direction = null;\n        break;\n\n      default:\n        this.direction = \"asc\";\n        break;\n    }\n\n    this.fire(\"sort-direction-changed\", {\n      path: this.path,\n      direction: this.direction\n    });\n  }\n});\n","import { Templatizer } from \"@polymer/polymer/lib/legacy/templatizer-behavior.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\n\nvar saulis = window.saulis || {};\nexport { saulis };\n/** @polymerBehavior */\nsaulis.DataTableTemplatizerBehaviorImpl = {\n  properties: {\n    expanded: Boolean,\n    index: Number,\n    item: Object,\n    selected: Boolean,\n    table: Object,\n    template: Object,\n\n    //singleton\n    _instances: {\n      type: Array,\n      value: []\n    },\n\n    //singleton\n    _forwardedParentProps: {\n      type: Object,\n      value: {}\n    },\n\n    _instance: {\n      type: Object,\n      computed: \"_templatize(template)\"\n    }\n  },\n\n  observers: [\n    \"_expandedChanged(_instance, expanded)\",\n    \"_indexChanged(_instance, index)\",\n    \"_itemChanged(_instance, item)\",\n    \"_itemPathChanged(_instance, item.*)\",\n    \"_selectedChanged(_instance, selected)\"\n  ],\n\n  created: function() {\n    this._instanceProps = {\n      column: true,\n      expanded: true,\n      index: true,\n      item: true,\n      selected: true\n    };\n  },\n\n  _templatize: function(template) {\n    this.templatize(template);\n\n    // fix _rootDataHost to the context where template has been defined\n    if (template._rootDataHost) {\n      this._getRootDataHost = function() {\n        return template._rootDataHost;\n      };\n    }\n\n    var instance = this.stamp({});\n\n    // initializing new template instance with previously forwarded parent props.\n    // could be done with observers, but this is simpler.\n    for (var key in this._forwardedParentProps) {\n      instance[key] = this._forwardedParentProps[key];\n    }\n    this._instances.push(instance);\n\n    dom(this).insertBefore(instance.root, dom(this).firstElementChild);\n\n    return instance;\n  },\n\n  _expandedChanged: function(instance, expanded) {\n    // store original expanded value to detect when value change has\n    // originated from within the template.\n    this._expanded = expanded;\n\n    instance.expanded = expanded;\n  },\n\n  _indexChanged: function(instance, index) {\n    instance.index = index;\n  },\n\n  _itemChanged: function(instance, item) {\n    instance.item = item;\n  },\n\n  _itemPathChanged: function(instance, item) {\n    // TODO: hack to avoid: https://github.com/Polymer/polymer/issues/3307\n    this._parentProps = this._parentProps || {};\n\n    instance.notifyPath(item.path, item.value);\n  },\n\n  _selectedChanged: function(instance, selected) {\n    // store original selected value to detect when value change has\n    // originated from within the template.\n    this._selected = selected;\n\n    instance.selected = selected;\n  },\n\n  /** templatizer */\n  _forwardParentProp: function(prop, value) {\n    // store props to initialize new instances.\n    this._forwardedParentProps[prop] = value;\n\n    //TODO: Bug in Polymer, seems to two-way bind any parent property only\n    //to the last template instance created. We need to push the property\n    //to all instances manually.\n    this._instances.forEach(function(inst) {\n      inst[prop] = value;\n    });\n  },\n\n  _forwardInstanceProp: function(inst, prop, value) {\n    if (prop === \"expanded\" && inst.item && this._expanded !== value) {\n      if (value) {\n        this.table.expandItem(inst.item);\n      } else {\n        this.table.collapseItem(inst.item);\n      }\n    }\n\n    if (prop === \"selected\" && inst.item && this._selected !== value) {\n      if (value) {\n        this.table.selectItem(inst.item);\n      } else {\n        this.table.deselectItem(inst.item);\n      }\n    }\n  },\n\n  _forwardInstancePath: function(inst, path, value) {\n    if (path.indexOf(\"item\") === 0) {\n      // instance.notifyPath above will call _forwardInstancePath recursively,\n      // so need to debounce to avoid firing the same event multiple times.\n      this.table.debounce(\n        \"item-changed\",\n        function() {\n          // stripping 'item.' from path.\n          this.table.fire(\"item-changed\", {\n            item: inst.item,\n            path: path.substring(5),\n            value: value\n          });\n        }.bind(this)\n      );\n    }\n  }\n};\n\n/** @polymerBehavior */\nsaulis.DataTableTemplatizerBehavior = [\n  Templatizer,\n  saulis.DataTableTemplatizerBehaviorImpl\n];\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport * as async from \"@polymer/polymer/lib/utils/async.js\";\nimport { saulis } from \"./data-table-templatizer-behavior.js\";\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        flex: 1 0 100px;\n        padding: 0 24px 0 24px;\n        min-height: 10px; /* Prevent iron-list from looping when item height is really small */\n        height: 48px;\n        display: flex;\n        align-items: center;\n        overflow: hidden;\n        transition: flex-basis 200ms, flex-grow 200ms;\n      }\n\n      :host([header]) {\n        height: 56px;\n      }\n\n      :host([hidden]) {\n        display: none;\n      }\n    </style>\n    <slot></slot>\n  `,\n\n  is: \"data-table-cell\",\n  behaviors: [saulis.DataTableTemplatizerBehavior],\n\n  properties: {\n    alignRight: Boolean,\n    column: Object,\n    flex: Number,\n    header: Boolean,\n    hidden: Boolean,\n    order: Number,\n    template: Object,\n    width: String,\n\n    beforeBind: {\n      type: Object,\n      value: function() {\n        return function(data, cell) {};\n      }\n    }\n  },\n\n  observers: [\n    \"_beforeBind(beforeBind, column.*, index, item.*, expanded, selected)\",\n    \"_beforeBindHeader(beforeBind, column.*)\",\n    \"_alignRightChanged(alignRight)\",\n    \"_columnChanged(_instance, column)\",\n    \"_columnPathChanged(_instance, column.*)\",\n    \"_flexChanged(flex)\",\n    \"_hiddenChanged(hidden)\",\n    \"_orderChanged(order)\",\n    \"_widthChanged(width)\"\n  ],\n\n  attached: function() {\n    if (!undefined.useNativeShadow) {\n      // cell is supposed to be placed outside the local dom of iron-data-table.\n      window.StyleTransformer.dom(\n        this,\n        \"iron-data-table\",\n        this._scopeCssViaAttr,\n        true\n      );\n      if (this.domHost) {\n        window.StyleTransformer.dom(\n          this,\n          this.domHost.tagName.toLowerCase(),\n          this._scopeCssViaAttr,\n          false\n        );\n      }\n    }\n  },\n\n  _alignRightChanged: function(alignRight) {\n    this.style.flexDirection = alignRight ? \"row-reverse\" : \"row\";\n  },\n\n  _beforeBind: function(beforeBind, column, index, item, expanded, selected) {\n    var data = {\n      column: column.base,\n      index: index,\n      item: item.base,\n      expanded: expanded,\n      selected: selected\n    };\n\n    beforeBind(data, this);\n  },\n\n  // header cells aren't bound with item, index etc. so _beforeBind is never\n  // called for them so we need a separate observer.\n  _beforeBindHeader: function(beforeBind, column) {\n    if (this.header) {\n      var data = {\n        column: column.base\n      };\n\n      beforeBind(data, this);\n    }\n  },\n\n  _hiddenChanged: function(hidden) {\n    this.toggleAttribute(\"hidden\", hidden);\n  },\n\n  _orderChanged: function(order) {\n    this.style.order = order;\n  },\n\n  _flexChanged: function(flex) {\n    this.style.flexGrow = flex;\n  },\n\n  _widthChanged: function(width) {\n    this.style.flexBasis = width;\n  },\n\n  _columnChanged: function(instance, column) {\n    instance.column = column;\n  },\n\n  _columnPathChanged: function(instance, column) {\n    // sometimes instance isn't ready to be notified yet and throws an error.\n    async.microTask.run(() => {\n      this._parentProps = this._parentProps || {};\n      instance.notifyPath(column.path, column.value);\n    });\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\n\nPolymer({\n  _template: html`\n    <style is=\"custom-style\">\n      :host {\n        display: flex;\n        flex-direction: column;\n        opacity: 1;\n        cursor: pointer;\n\n        @apply --iron-data-table-row;\n      }\n\n      :host([selected]) .cells {\n        @apply --iron-data-table-row-selected;\n      }\n\n      :host(:not([header])[even]) {\n        @apply --iron-data-table-row-even;\n      }\n\n      :host(:not([header]):not([even])) {\n        @apply --iron-data-table-row-odd;\n      }\n\n      :host(:focus) {\n        outline: none;\n        @apply --iron-data-table-row-focused;\n      }\n\n      :host(:not([header]):hover) {\n        @apply --iron-data-table-row-hover;\n      }\n\n      :host(:focus):after {\n        @apply --iron-data-table-row-focused-after;\n      }\n\n      :host:after {\n        @apply --iron-data-table-row-after;\n      }\n\n      .cells {\n        display: flex;\n        flex-direction: row;\n        width: 100%;\n      }\n    </style>\n    <div class=\"cells\">\n      <slot name=\"data-table-checkbox\"></slot>\n      <slot name=\"data-table-cell\"></slot>\n    </div>\n    <div class=\"details\"><slot name=\"data-table-row-detail\"></slot></div>\n  `,\n\n  is: \"data-table-row\",\n\n  properties: {\n    beforeBind: Object,\n    expanded: {\n      type: Boolean,\n      reflectToAttribute: true\n    },\n    index: Number,\n    item: Object,\n    selected: {\n      type: Boolean,\n      reflectToAttribute: true\n    },\n\n    _static: {\n      type: Object,\n      value: { id: 0 }\n    }\n  },\n\n  observers: [\"_beforeBind(beforeBind, index, item.*, selected, expanded)\"],\n\n  attached: function() {\n    if (\n      this.domHost &&\n      this.domHost.tagName.toUpperCase() === \"IRON-DATA-TABLE\"\n    ) {\n      var id = this._static.id++;\n\n      var item = this.parentElement;\n      if (!item._rowId) {\n        this._contentElement = document.createElement(\"content\");\n        this._contentElement.setAttribute(\"select\", \"#item\" + id);\n        dom(item).appendChild(this._contentElement);\n        this.id = \"item\" + id;\n        item._rowId = id;\n\n        dom(this.domHost).appendChild(this);\n        // reset the cached value for shady root owner to make this.domHost\n        // return correct value.\n        this._ownerShadyRoot = undefined;\n      }\n    }\n  },\n\n  _beforeBind: function(beforeBind, index, item, selected, expanded) {\n    var data = {\n      index: index,\n      item: item.base,\n      expanded: expanded,\n      selected: selected\n    };\n\n    beforeBind(data, this);\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        height: 48px;\n        flex-basis: 48px;\n        flex-grow: 0;\n        flex-shrink: 0;\n        padding: 0 8px 0 12px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-right: 1px solid #e3e3e3;\n      }\n\n      :host([header]) {\n        height: 56px;\n      }\n\n      :host([hidden]) {\n        display: none;\n      }\n\n      :host(:focus) {\n        outline: none;\n      }\n\n      #container {\n        position: relative;\n        box-sizing: border-box;\n        height: 18px;\n        width: 18px;\n        border: solid 2px;\n        border-color: var(--primary-text-color);\n        border-radius: 2px;\n        pointer-events: none;\n        -webkit-transition: background-color 140ms, border-color 140ms;\n        transition: background-color 140ms, border-color 140ms;\n      }\n\n      :host([checked]) #container {\n        border-color: var(--default-primary-color);\n        background-color: var(--default-primary-color);\n      }\n\n      :host([checked]) .checkmark {\n        border-bottom: 2px solid white;\n        border-right: 2px solid white;\n        width: 36%;\n        height: 70%;\n        -webkit-transform-origin: 97% 86%;\n        transform-origin: 97% 86%;\n        -webkit-animation: checkmark-expand 140ms ease-out forwards;\n        animation: checkmark-expand 140ms ease-out forwards;\n      }\n\n      @-webkit-keyframes checkmark-expand {\n        0% {\n          -webkit-transform: scale(0, 0) rotate(45deg);\n        }\n        100% {\n          -webkit-transform: scale(1, 1) rotate(45deg);\n        }\n      }\n\n      @keyframes checkmark-expand {\n        0% {\n          transform: scale(0, 0) rotate(45deg);\n        }\n        100% {\n          transform: scale(1, 1) rotate(45deg);\n        }\n      }\n\n      :host([indeterminate]) .checkmark {\n        border-bottom: 2px solid var(--primary-text-color);\n        width: 60%;\n        height: 45%;\n        margin-left: 3px;\n        -webkit-animation: indeterminate-expand 140ms ease-out forwards;\n        animation: indeterminate-expand 140ms ease-out forwards;\n      }\n\n      @-webkit-keyframes indeterminate-expand {\n        0% {\n          -webkit-transform: scale(0, 0);\n        }\n        100% {\n          -webkit-transform: scale(1, 1);\n        }\n      }\n\n      @keyframes indeterminate-expand {\n        0% {\n          transform: scale(0, 1);\n        }\n        100% {\n          transform: scale(1, 1);\n        }\n      }\n    </style>\n\n    <div id=\"container\"><div class=\"checkmark\"></div></div>\n  `,\n\n  is: \"data-table-checkbox\",\n\n  properties: {\n    checked: {\n      type: Boolean,\n      observer: \"_checkedChanged\",\n      reflectToAttribute: true,\n      value: false\n    },\n\n    indeterminate: {\n      type: Boolean,\n      reflectToAttribute: true,\n      observer: \"_indeterminateChanged\",\n      value: false\n    }\n  },\n\n  _checkedChanged: function(checked) {\n    if (checked) {\n      this.indeterminate = false;\n    }\n  },\n\n  _indeterminateChanged: function(indeterminate) {\n    if (indeterminate) {\n      this.checked = false;\n    }\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport { saulis } from \"./data-table-templatizer-behavior.js\";\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        padding: 0 24px 0 24px;\n        display: flex;\n        align-items: center;\n      }\n    </style>\n    <slot></slot>\n  `,\n\n  is: \"data-table-row-detail\",\n\n  behaviors: [saulis.DataTableTemplatizerBehavior],\n\n  properties: {\n    beforeBind: Object\n  },\n\n  observers: [\"_beforeBind(beforeBind, item.*, index, selected, expanded)\"],\n\n  attached: function() {\n    if (!undefined.useNativeShadow) {\n      // details is supposed to be placed outside the local dom of iron-data-table.\n      window.StyleTransformer.dom(\n        this,\n        \"iron-data-table\",\n        this._scopeCssViaAttr,\n        true\n      );\n      if (this.domHost) {\n        window.StyleTransformer.dom(\n          this,\n          this.domHost.tagName.toLowerCase(),\n          this._scopeCssViaAttr,\n          false\n        );\n      }\n    }\n  },\n\n  _beforeBind: function(beforeBind, item, index, selected, expanded) {\n    var data = {\n      index: index,\n      item: item.base,\n      expanded: expanded,\n      selected: selected\n    };\n\n    beforeBind(data, this);\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport * as async from \"@polymer/polymer/lib/utils/async.js\";\nimport { FlattenedNodesObserver } from \"@polymer/polymer/lib/utils/flattened-nodes-observer.js\";\nimport { IronResizableBehavior } from \"@polymer/iron-resizable-behavior/iron-resizable-behavior.js\";\nimport \"./lib/data-table-column.js\";\nimport \"./lib/data-table-column-sort.js\";\nimport \"./lib/data-table-cell.js\";\nimport \"./lib/data-table-row.js\";\nimport \"./lib/data-table-checkbox.js\";\nimport \"./lib/data-table-row-detail.js\";\nimport \"./lib/array-datasource.js\";\n/**\n@license\nCopyright 2016 Sauli Tähkäpää\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n/*\n`iron-data-table` displays a table or a grid of data.\nIt builds on top of `iron-list`, which provides the foundation for features like\nvirtual scrolling and templating.\n\nIt contains an array of `data-table-column` elements, which are used to define a template\nfor the cells on each row item.\n\nRows use flex layout which enables cells to fit the available space.\n\nCell elements are placed outside the shadow root of the `iron-data-table` which\nallows them to be styled by the user.\n\n### Template model\nColumn templates should bind to template models of the following structure:\n```js\n{\n  index: 0,        // index in the item array\n  selected: false, // true if the current item is selected\n  item: {},        // user data corresponding to items[index],\n  expanded: false  // true if row details have been expanded for the current item\n}\n```\nFor example, given the following `data` array:\n##### data.json\n```js\n[\n  {\"name\": {\n    \"title\": \"miss\",\n    \"first\": \"donna\",\n    \"last\": \"davis\"\n  }},\n  {\"name\": {\n    \"title\": \"mr\",\n    \"first\": \"samuel\",\n    \"last\": \"kelley\"\n  }},\n  {\"name\": {\n    \"title\": \"ms\",\n    \"first\": \"katie\",\n    \"last\": \"butler\"\n  }}\n]\n```\nThe following code would render the table (note the name and checked properties are\nbound from the model object provided to the template scope):\n```html\n<template is=\"dom-bind\">\n  <iron-ajax url=\"data.json\" last-response=\"{{data}}\" auto></iron-ajax>\n  <iron-data-table items=\"[[data]]\">\n    <data-table-column name=\"First Name\">\n      <template>[[item.name.first]]</template>\n    </data-table-column>\n    <data-table-column name=\"Last Name\">\n      <template>[[item.name.last]]</template>\n    </data-table-column>\n  </iron-data-table>\n</template>\n```\n\n### Styling\nThere are several custom properties and mixins you can use to style the component:\n\nCustom property | Description\n----------------|-------------\n`--iron-data-table` | Mixin applied to the main element\n`--iron-data-table-header` | Mixin applied to the header element\n`--iron-data-table-row` | Mixin applied to the row item element\n`--iron-data-table-row-hover` | Mixin applied to the row item element when hovered on\n`--iron-data-table-row-selected` | Mixin applied to the selected row item elements\n`--iron-data-table-row-after` | Mixin applied to :after pseudoelement of the row item element\n`--iron-data-table-row-focused` | Mixin applied to the focused row item elements\n`--iron-data-table-row-focused-after` | Mixin applied to :after pseudoelement of the focused row item elements\n\nTo get started, you can import `default-styles.html` which provides material design\ninspired styles to your `iron-data-table`.\n*/\nlet IronDataTable = Polymer({\n  _template: html`\n    <style is=\"custom-style\">\n      :host {\n        display: block;\n        position: relative;\n        overflow-x: auto;\n        overflow-y: hidden;\n        -webkit-overflow-scrolling: touch;\n        /* Default height just to help users get started in making stuff visible.  */\n        height: 400px;\n        @apply --iron-data-table;\n      }\n\n      #container {\n        position: absolute;\n        left: 0;\n        top: 0;\n        bottom: 0;\n        display: flex;\n        flex-direction: column;\n      }\n\n      #header {\n        box-shadow: 0 1px 0 rgba(0, 0, 0, 0.1);\n        transition: box-shadow 200ms;\n        -webkit-transition: box-shadow 200ms;\n        z-index: 1;\n        @apply --iron-data-table-header;\n      }\n\n      #header.scrolled {\n        box-shadow: 0 1px 0 rgba(0, 0, 0, 0.06), 0 2px 0 rgba(0, 0, 0, 0.075),\n          0 3px 0 rgba(0, 0, 0, 0.05), 0 4px 0 rgba(0, 0, 0, 0.015);\n      }\n\n      #list {\n        overflow-x: hidden !important;\n        overflow-y: auto !important;\n        flex: 1;\n        transition: opacity 200ms;\n        -webkit-transition: opacity 200ms;\n      }\n\n      :host([loading]) #list {\n        opacity: 0.25;\n      }\n\n      :host(:not([loading])) paper-spinner-lite {\n        display: none;\n      }\n\n      :host([loading]) paper-spinner-lite {\n        position: absolute;\n        top: 45%;\n        left: 50%;\n        --paper-spinner-color: var(--default-primary-color);\n      }\n    </style>\n    <div id=\"container\">\n      <div id=\"header\">\n        <data-table-row header=\"\">\n          <data-table-checkbox\n            header=\"\"\n            hidden\\$=\"[[!multiSelection]]\"\n            on-tap=\"_toggleSelectAll\"\n            checked=\"[[_isSelectAllChecked(selectedItems.length, selectedItems.inverted, size)]]\"\n            indeterminate=\"[[_isSelectAllIndeterminate(selectedItems.length, size)]]\"\n          ></data-table-checkbox>\n          <template is=\"dom-repeat\" items=\"[[columns]]\" as=\"column\">\n            <data-table-cell\n              header=\"\"\n              align-right=\"[[column.alignRight]]\"\n              before-bind=\"[[beforeCellBind]]\"\n              column=\"[[column]]\"\n              flex=\"[[column.flex]]\"\n              hidden=\"[[column.hidden]]\"\n              order=\"[[column.order]]\"\n              table=\"[[_this]]\"\n              template=\"[[column.headerTemplate]]\"\n              width=\"[[column.width]]\"\n            >\n              <data-table-column-sort\n                sort-order=\"[[sortOrder]]\"\n                path=\"[[column.sortBy]]\"\n                on-sort-direction-changed=\"_sortDirectionChanged\"\n                hidden\\$=\"[[!column.sortBy]]\"\n              ></data-table-column-sort>\n            </data-table-cell>\n          </template>\n        </data-table-row>\n      </div>\n\n      <iron-list\n        id=\"list\"\n        as=\"item\"\n        items=\"[[_cachedItems]]\"\n        on-scroll=\"_onVerticalScroll\"\n      >\n        <template>\n          <div class=\"item\">\n            <data-table-row\n              before-bind=\"[[beforeRowBind]]\"\n              even\\$=\"[[!_isEven(index)]]\"\n              expanded=\"[[_isExpanded(item, _expandedItems, _expandedItems.*)]]\"\n              index=\"[[index]]\"\n              item=\"[[item]]\"\n              tabindex=\"-1\"\n              selected=\"[[_isSelected(item, selectedItems, selectedItems.*)]]\"\n            >\n              <data-table-checkbox\n                hidden\\$=\"[[!multiSelection]]\"\n                tabindex=\"0\"\n                checked=\"[[_isSelected(item, selectedItems, selectedItems.*)]]\"\n                on-tap=\"_onCheckBoxTap\"\n              ></data-table-checkbox>\n              <template\n                is=\"dom-repeat\"\n                items=\"[[columns]]\"\n                as=\"column\"\n                index-as=\"colIndex\"\n              >\n                <data-table-cell\n                  template=\"[[column.template]]\"\n                  table=\"[[_this]]\"\n                  align-right=\"[[column.alignRight]]\"\n                  column=\"[[column]]\"\n                  expanded=\"[[_isExpanded(item, _expandedItems, _expandedItems.*)]]\"\n                  flex=\"[[column.flex]]\"\n                  hidden=\"[[column.hidden]]\"\n                  index=\"[[index]]\"\n                  item=\"[[item]]\"\n                  on-click=\"_onCellClick\"\n                  order=\"[[column.order]]\"\n                  selected=\"[[_isSelected(item, selectedItems, selectedItems.*)]]\"\n                  width=\"[[column.width]]\"\n                  before-bind=\"[[beforeCellBind]]\"\n                ></data-table-cell>\n              </template>\n              <template\n                is=\"dom-if\"\n                if=\"[[_isExpanded(item, _expandedItems)]]\"\n                on-dom-change=\"_updateSizeForItem\"\n              >\n                <data-table-row-detail\n                  index=\"[[index]]\"\n                  item=\"[[item]]\"\n                  expanded=\"[[_isExpanded(item, _expandedItems, _expandedItems.*)]]\"\n                  selected=\"[[_isSelected(item, selectedItems, selectedItems.*)]]\"\n                  before-bind=\"[[beforeDetailsBind]]\"\n                  table=\"[[_this]]\"\n                  template=\"[[rowDetail]]\"\n                ></data-table-row-detail>\n              </template>\n            </data-table-row>\n          </div>\n        </template>\n      </iron-list>\n    </div>\n    <paper-spinner-lite active=\"\"></paper-spinner-lite>\n    <slot name=\"data-table-column\"></slot>\n    <slot name=\"template[is=row-detail]\"></slot>\n  `,\n\n  is: \"iron-data-table\",\n\n  behaviors: [IronResizableBehavior],\n\n  listeners: {\n    \"column-filter-changed\": \"_onColumnFilterChanged\",\n    \"iron-resize\": \"_resizeCellContainers\",\n    \"item-changed\": \"_itemChanged\",\n    scroll: \"_onHorizontalScroll\"\n  },\n\n  properties: {\n    /**\n     * Timeout after which the data on the currently visible page will be automatically\n     * refreshed after an item has been changed through a two-way binding.\n     */\n    autoRefresh: Number,\n\n    /**\n     * A function that is called before data is bound to a row or header cell.\n     * Can be used to customize the cell element depending on the data.\n     * #### Example:\n     * ```js\n     * function(data, cell) {\n     *   cell.toggleClass('custom', data.useCustomClass);\n     * }\n     * ```\n     */\n    beforeCellBind: Object,\n\n    /**\n     * A function that is called before data is bound to a row details element.\n     * Can be used to customize the element depending on the data.\n     * #### Example:\n     * ```js\n     * function(data, details) {\n     *   details.toggleClass('custom', data.useCustomClass);\n     * }\n     * ```\n     */\n    beforeDetailsBind: Object,\n\n    /**\n     * A function that is called before data is bound to a row.\n     * Can be used to customize the row element depending on the data.\n     * #### Example:\n     * ```js\n     * function(data, row) {\n     *   row.toggleClass('custom', data.useCustomClass);\n     * }\n     * ```\n     */\n    beforeRowBind: Object,\n\n    /**\n     * An array containing the items which will be stamped to the column template\n     * instances.\n     */\n    items: {\n      type: Array\n    },\n\n    /**\n     * If `true`, tapping a row will expand the item details, if available.\n     */\n    detailsEnabled: {\n      type: Boolean,\n      value: false\n    },\n\n    /**\n     * An array containing path/filter value pairs that are used to filter the items\n     */\n    filter: {\n      type: Array,\n      notify: true,\n      value: function() {\n        return [];\n      }\n    },\n\n    /**\n     * When `true`, multiple items may be selected at once (in this case,\n     * `selected` is an array of currently selected items).  When `false`,\n     * only one item may be selected at a time.\n     */\n    multiSelection: {\n      type: Boolean,\n      value: false\n    },\n\n    /**\n     * Number of items fetched at a time from the datasource.\n     */\n    pageSize: {\n      type: Number,\n      value: 50\n    },\n\n    /**\n     * If `true`, tapping a row will select the item.\n     */\n    selectionEnabled: {\n      type: Boolean,\n      value: false\n    },\n\n    /**\n     * This is the currently selected item, or `null`\n     * if no item is selected.\n     */\n    selectedItem: {\n      type: Object,\n      readOnly: true,\n      notify: true\n    },\n\n    /**\n     * When `multiSelection` is true, this is an array that contains the selected items.\n     * If `selectedItems.inverted` is `true`, the array contains deselected items instead.\n     * `selectedItems.filters` contains an array of filters that were active when the selection changed.\n     */\n    selectedItems: {\n      type: Object,\n      notify: true,\n      readOnly: true,\n      value: function() {\n        var items = [];\n        items.filters = [];\n\n        return items;\n      }\n    },\n\n    /**\n     * Size of the data set.\n     */\n    size: {\n      type: Number,\n      notify: true,\n      value: 0,\n      observer: \"_sizeChanged\"\n    },\n\n    /**\n     * An array with a path/sortorder ('asc' or 'desc') pairs that are used to sort the items.\n     */\n    sortOrder: {\n      type: Array,\n      notify: true,\n      value: function() {\n        return [];\n      }\n    },\n\n    /**\n     * An array of `data-table-column` elements which contain the templates\n     * to be stamped with items.\n     */\n    columns: {\n      type: Array,\n      notify: true,\n      value: function() {\n        return [];\n      },\n      observer: \"_columnsChanged\"\n    },\n\n    /**\n     * Function that provides items lazily. Receives parameters `opts`, `callback`, `err`\n     *\n     * `opts.page` Requested page index\n     *\n     * `opts.pageSize` Current page size\n     *\n     * `opts.filter` Current filter parameters\n     *\n     * `opts.sortOrder` Current sorting parameters\n     */\n    dataSource: {\n      type: Object,\n      notify: true\n    },\n\n    _pagesLoading: {\n      type: Array,\n      value: function() {\n        return [];\n      }\n    },\n\n    /**\n     * `true` if the table is currently loading data from the data source.\n     */\n    loading: {\n      type: Boolean,\n      notify: true,\n      reflectToAttribute: true,\n      value: false\n    },\n\n    _cachedItems: {\n      type: Array,\n      value: function() {\n        return [];\n      }\n    },\n\n    _cachedPages: {\n      type: Array,\n      value: function() {\n        return [];\n      }\n    },\n\n    _currentPage: {\n      type: Number,\n      value: 0\n    },\n\n    _expandedItems: {\n      type: Array,\n      value: function() {\n        return [];\n      }\n    },\n\n    _this: {\n      type: Object,\n      value: function() {\n        return this;\n      }\n    }\n  },\n\n  observers: [\n    \"_itemsChanged(items.*)\",\n    \"_currentPageChanged(dataSource, _currentPage)\",\n    \"_resetData(dataSource, filter.*, sortOrder.*)\"\n  ],\n\n  created: function() {\n    this._observer = new FlattenedNodesObserver(this, info => {\n      var hasColumns = function(node) {\n        return (\n          node.nodeType === Node.ELEMENT_NODE &&\n          node.tagName.toUpperCase() === \"DATA-TABLE-COLUMN\"\n        );\n      };\n\n      var hasDetails = function(node) {\n        return (\n          node.nodeType === Node.ELEMENT_NODE &&\n          node.tagName.toUpperCase() === \"TEMPLATE\" &&\n          node.hasAttribute(\"is\") &&\n          node.getAttribute(\"is\") === \"row-detail\"\n        );\n      };\n\n      if (\n        info.addedNodes.filter(hasColumns).length > 0 ||\n        info.removedNodes.filter(hasColumns).length > 0\n      ) {\n        this.set(\n          \"columns\",\n          this.shadowRoot\n            .querySelector(\"[select=data-table-column]\")\n            .assignedNodes({ flatten: true })\n            .filter(n => n.nodeType === Node.ELEMENT_NODE)\n        );\n        this.notifyResize();\n      }\n\n      if (info.addedNodes.filter(hasDetails).length > 0) {\n        this.set(\n          \"rowDetail\",\n          this.shadowRoot\n            .querySelector('[select=\"template[is=row-detail]\"]')\n            .assignedNodes({ flatten: true })\n            .filter(n => n.nodeType === Node.ELEMENT_NODE)[0]\n        );\n\n        // assuming parent element is always a Polymer element.\n        // set dataHost to the same context the template was declared in\n        var parent = dom(this.rowDetail).parentNode;\n        this.rowDetail._rootDataHost = parent.dataHost\n          ? parent.dataHost._rootDataHost || parent.dataHost\n          : parent;\n      }\n    }).bind(this);\n  },\n\n  _stopPropagation: function(e) {\n    e.stopImmediatePropagation();\n  },\n\n  /**\n   * Select the list item at the given index.\n   *\n   * @method selectItem\n   * @param {(Object|number)} item The item object or its index\n   */\n  selectItem: function(item) {\n    if (\n      typeof item === \"number\" &&\n      item >= 0 &&\n      this.items &&\n      this.items.length > item\n    ) {\n      this._selectItem(this.items[item]);\n    } else {\n      this._selectItem(item);\n    }\n  },\n\n  _selectItem: function(item) {\n    this._setSelectedItem(item);\n\n    if (this.multiSelection) {\n      if (this.selectedItems.inverted) {\n        var index;\n        if ((index = this.selectedItems.indexOf(item)) > -1) {\n          this.splice(\"selectedItems\", index, 1);\n        }\n      } else {\n        this.push(\"selectedItems\", item);\n      }\n    } else {\n      this.splice(\"selectedItems\", 0, this.selectedItems.length, item);\n    }\n  },\n\n  /**\n   * Deselects the given item list if it is already selected.\n   *\n   * @method deselect\n   * @param {(Object|number)} item The item object or its index\n   */\n  deselectItem: function(item) {\n    if (\n      typeof item === \"number\" &&\n      item >= 0 &&\n      this.items &&\n      this.items.length > item\n    ) {\n      this._deselectItem(this.items[item]);\n    } else {\n      this._deselectItem(item);\n    }\n  },\n\n  _deselectItem: function(item) {\n    this._setSelectedItem(null);\n\n    var index = this.selectedItems.indexOf(item);\n\n    if (this.selectedItems.inverted) {\n      if (index === -1) {\n        this.push(\"selectedItems\", item);\n      }\n    } else {\n      if (index > -1) {\n        this.splice(\"selectedItems\", index, 1);\n      }\n    }\n  },\n\n  _isSelected: function(item, selectedItems) {\n    var selected = selectedItems.indexOf(item) > -1;\n\n    return selectedItems.inverted ? !selected : selected;\n  },\n\n  /*\n   * Selects all the items in the list.\n   */\n  selectAll: function() {\n    var selectedItems = [];\n    selectedItems.inverted = true;\n    // use a copy of filter so that we can safely send separate changed\n    // notifications for both filter and selectedItems.filter\n    selectedItems.filters = this.filter.slice(0) || [];\n\n    this._setSelectedItems(selectedItems);\n  },\n\n  /**\n   * Clears the current selection state.\n   */\n  clearSelection: function() {\n    var selectedItems = [];\n    selectedItems.inverted = false;\n    // use a copy of filter so that we can safely send separate changed\n    // notifications for both filter and selectedItems.filter\n    selectedItems.filters = this.filter.slice(0) || [];\n\n    this._setSelectedItems(selectedItems);\n\n    if (this.selectedItem !== undefined) {\n      this._setSelectedItem(null);\n    }\n  },\n\n  _toggleSelectAll: function() {\n    if (\n      this._isSelectAllChecked(\n        this.selectedItems.length,\n        this.selectedItems.inverted,\n        this.size\n      )\n    ) {\n      this._fireEvent(\n        \"deselecting-all-items\",\n        { items: this.selectedItems },\n        this.clearSelection\n      );\n    } else {\n      this._fireEvent(\n        \"selecting-all-items\",\n        { items: this.selectedItems },\n        this.selectAll\n      );\n    }\n  },\n\n  _isSelectAllChecked: function(selectedItemsLength, inverted, size) {\n    return size > 0 && selectedItemsLength === (inverted ? 0 : size);\n  },\n\n  _isSelectAllIndeterminate: function(length, size) {\n    return size > 0 && length > 0 && length < size;\n  },\n\n  _isEven: function(index) {\n    return index % 2 === 0;\n  },\n\n  _resetData: function(dataSource, filter, sortOrder) {\n    // Resetting scroll position and selection for consistency here. They are\n    // both reset implicitly when a new _cachedItems is set to iron-list, but\n    // that doesn't happen when size of the dataset changes only by a few items.\n    this.clearSelection();\n\n    this.clearCache();\n    this.$.list.scrollToIndex(0);\n  },\n\n  _sortDirectionChanged: function(e) {\n    for (var i = 0; i < this.sortOrder.length; i++) {\n      if (this.sortOrder[i].path === e.detail.path) {\n        if (e.detail.direction) {\n          this.set(\"sortOrder.\" + i + \".direction\", e.detail.direction);\n        } else {\n          this.splice(\"sortOrder\", i, 1);\n        }\n        return;\n      }\n    }\n\n    this.push(\"sortOrder\", {\n      path: e.detail.path,\n      direction: e.detail.direction\n    });\n  },\n\n  _columnsChanged: function(columns, oldColumns) {\n    if (oldColumns) {\n      oldColumns.forEach(\n        function(column) {\n          this.unlisten(column, \"filter-value-changed\");\n        }.bind(this)\n      );\n    }\n\n    if (columns) {\n      columns.forEach(\n        function(column) {\n          column.table = this;\n          this.listen(column, \"filter-value-changed\", \"_onColumnFilterChanged\");\n        }.bind(this)\n      );\n    }\n  },\n\n  _onColumnFilterChanged: function(e) {\n    for (var i = 0; i < this.filter.length; i++) {\n      if (this.filter[i].path === e.detail.filterBy) {\n        this.set(\"filter.\" + i + \".filter\", e.detail.value);\n\n        // selectedItems.filter is actually already set at this point when\n        // clearSelection is called after filter is set.\n        this.set(\"selectedItems.filters.\" + i + \".filter\", e.detail.value);\n        return;\n      }\n    }\n\n    this.push(\"filter\", {\n      path: e.detail.filterBy,\n      filter: e.detail.value\n    });\n\n    this.push(\"selectedItems.filters\", {\n      path: e.detail.filterBy,\n      filter: e.detail.value\n    });\n  },\n\n  _resizeCellContainers: function() {\n    // reset header width first to make the cells and scroll width to reset their widths.\n    this.$.container.style.width = \"\";\n\n    async.microTask.run(() => {\n      this.$.container.style.width =\n        Math.min(this.scrollWidth, this.clientWidth + this.scrollLeft) + \"px\";\n\n      // add scrollbar width as padding\n      this.$.header.style.paddingRight =\n        this.$.list.offsetWidth - this.$.list.clientWidth + \"px\";\n    });\n  },\n\n  _onHorizontalScroll: function() {\n    if (!this.isDebouncerActive(\"scrolling\")) {\n      this.$.container.style.width = this.scrollWidth + \"px\";\n      this.debounce(\n        \"scrolling\",\n        function() {\n          this.$.container.style.width =\n            Math.min(this.scrollWidth, this.clientWidth + this.scrollLeft) +\n            \"px\";\n          // long timeout here to prevent jerkiness with the rubberband effect on iOS especially.\n        },\n        1000\n      );\n    }\n  },\n\n  _onVerticalScroll: function(e) {\n    // Toggle shadow when at the top\n    this.toggleClass(\"scrolled\", this.$.list.scrollTop >= 1, this.$.header);\n\n    this._currentPage = Math.max(\n      0,\n      Math.floor(\n        this.$.list.scrollTop / this.$.list._physicalAverage / this.pageSize\n      )\n    );\n  },\n\n  /**\n   * Lazy loading\n   */\n  _itemsChanged: function(items) {\n    if (\n      (items.path === \"items\" || items.path === \"items.splices\") &&\n      Array.isArray(items.base)\n    ) {\n      this.size = items.base.length;\n      this.dataSource = new ArrayDataSource(items.base);\n    } else if (\n      items.path.indexOf(\"items.#\") === 0 &&\n      Array.isArray(items.base)\n    ) {\n      var index = items.path.split(\".\")[1].substring(1);\n      var item = this.items[index];\n\n      var cachedIndex = this._cachedItems.indexOf(item);\n\n      if (cachedIndex >= 0) {\n        this.set(\n          items.path\n            .replace(\"items.\", \"_cachedItems.\")\n            .replace(\"#\" + index, cachedIndex),\n          items.value\n        );\n      }\n    }\n  },\n\n  _itemChanged: function(e) {\n    if (this.items) {\n      var index = this.items.indexOf(e.detail.item);\n      if (index >= 0) {\n        this.set(\"items.\" + index + \".\" + e.detail.path, e.detail.value);\n      }\n    }\n\n    if (this.autoRefresh !== undefined) {\n      this.debounce(\n        \"auto-refresh\",\n        function() {\n          this.refreshPage(this._currentPage);\n        },\n        this.autoRefresh\n      );\n    }\n  },\n\n  _currentPageChanged: function(dataSource, page) {\n    if (!this._isPageCached(page)) {\n      this.loading = true;\n    }\n\n    this.debounce(\n      \"loading\",\n      function() {\n        this._loadPage(dataSource, page);\n        if (page + 1 < this.size / this.pageSize) {\n          this._loadPage(dataSource, page + 1);\n        }\n\n        if (page > 0) {\n          this._loadPage(dataSource, page - 1);\n        }\n      }.bind(this),\n      100\n    );\n  },\n\n  _isPageLoading: function(page) {\n    return this._pagesLoading.indexOf(page) > -1;\n  },\n\n  _addLoadingPage: function(page) {\n    if (!this._isPageLoading(page)) {\n      this.push(\"_pagesLoading\", page);\n    }\n\n    this.loading = this._pagesLoading.length > 0;\n  },\n\n  _removeLoadingPage: function(page) {\n    var index = this._pagesLoading.indexOf(page);\n    if (index !== -1) {\n      this.splice(\"_pagesLoading\", index, 1);\n    }\n\n    this.loading = this._pagesLoading.length > 0;\n  },\n\n  _isPageCached: function(page) {\n    return this._cachedPages && this._cachedPages.indexOf(page) > -1;\n  },\n\n  _loadPage: function(dataSource, page) {\n    if (this._isPageCached(page)) {\n      this._removeLoadingPage(page);\n    } else if (!this._isPageLoading(page)) {\n      this._addLoadingPage(page);\n\n      var success = function(items, size) {\n        this.push(\"_cachedPages\", page);\n\n        if (size !== undefined) {\n          this.size = size;\n        }\n\n        var start = page * this.pageSize;\n\n        for (var i = 0; i < this.pageSize; i++) {\n          var index = start + i;\n          var item = items[i];\n\n          this.set(\"_cachedItems.\" + index, item);\n\n          // TODO: send an issue/pr to iron-list, that makes sure the internal\n          // collection stays up-to-date when `items` change.\n          // When _collection gets out-of-sync things like selection and\n          // notifying [[item]] bindings break.\n          this.$.list._collection.store[index] = item;\n          if (item && typeof item == \"object\") {\n            this.$.list._collection.omap.set(item, index);\n          } else {\n            this.$.list._collection.pmap[item] = index;\n          }\n        }\n\n        // resize required for variable row height items.\n        // debouncing for optimizing when multiple requests are running at\n        // the same time.\n        this.debounce(\n          \"resizing\",\n          function() {\n            this.$.list.notifyResize();\n          }.bind(this),\n          100\n        );\n\n        this._removeLoadingPage(page);\n      }.bind(this);\n\n      var err = function() {\n        this._removeLoadingPage(page);\n      }.bind(this);\n\n      dataSource(\n        {\n          page: page,\n          pageSize: this.pageSize,\n          filter: this.filter,\n          sortOrder: this.sortOrder\n        },\n        success,\n        err\n      );\n    }\n  },\n\n  _sizeChanged: function(size, oldSize) {\n    // Optimization: Calling `set` on _cachedItems will reset the scroll position and selections,\n    // using `push` and `pop` with large changes (more than 1000 items) is a heavy operation\n    // that jams things up.\n    if (\n      this._cachedItems &&\n      Math.abs(this._cachedItems.length - size) < this.pageSize * 2\n    ) {\n      while (this._cachedItems.length < size) {\n        this.push(\"_cachedItems\", {});\n      }\n\n      while (this._cachedItems.length > size) {\n        this.pop(\"_cachedItems\");\n      }\n    } else {\n      var items = [];\n\n      while (items.length < size) {\n        items.push({});\n      }\n\n      this.set(\"_cachedItems\", items);\n    }\n\n    // when size increases, old last page needs to be refreshed.\n    if (size > oldSize) {\n      var oldLastPage = Math.floor(oldSize / this.pageSize);\n      if (this._isPageCached(oldLastPage) || oldLastPage === 0) {\n        this.refreshPage(oldLastPage);\n      }\n    }\n  },\n\n  /**\n   * Clears the cached pages and reloads data from datasource when needed.\n   */\n  clearCache: function() {\n    this._cachedPages = [];\n\n    // Force reload on currently visible pages.\n    this.refreshPage(this._currentPage);\n  },\n\n  /**\n   * Clears the cache for a page and reloads the data from datasource.\n   */\n  refreshPage: function(page) {\n    if (this._cachedPages) {\n      var index = this._cachedPages.indexOf(page);\n      if (index > -1) {\n        this.splice(\"_cachedPages\", index, 1);\n      }\n    }\n\n    this._currentPageChanged(this.dataSource, page);\n  },\n\n  _updateSizeForItem: function(event) {\n    if (event.model.get(\"item\")) {\n      // notifyResize() doesn't do anything on iOS if the viewport size hasn't changed\n      // so calling updateSizeForItem(item) is more reliable.\n\n      // TODO: However, since we're reusing the same items array in most cases,\n      // the _collection item map inside <iron-list> gets out of sync and\n      // that breaks things like selection and updateSizeForItem.\n      // To mitigate the issue, we'll update height of every row element.\n      // Can be optimized later if needed to update only the row that has\n      // expanded or collapsed.\n      var itemSet = [];\n      for (var i = 0; i < this.$.list._physicalItems.length; i++) {\n        itemSet.push(i);\n      }\n\n      // extracted from updateSizeFromItem(item) in <iron-list>\n      this.$.list._updateMetrics(itemSet);\n      this.$.list._positionItems();\n    }\n  },\n\n  /**\n   * Expands the row details for this item, if available.\n   */\n  expandItem: function(item) {\n    if (\n      this.rowDetail &&\n      this._expandedItems &&\n      !this._isExpanded(item, this._expandedItems)\n    ) {\n      // replacing the whole array here to simplify the observers.\n      this._expandedItems.push(item);\n      this._expandedItems = this._expandedItems.slice(0);\n    }\n  },\n\n  /**\n   * Collapses the row details for this item, if expanded.\n   */\n  collapseItem: function(item) {\n    if (\n      this.rowDetail &&\n      this._expandedItems &&\n      this._isExpanded(item, this._expandedItems)\n    ) {\n      var index = this._expandedItems.indexOf(item);\n\n      // replacing the whole array here to simplify the obsevers.\n      this._expandedItems.splice(index, 1);\n      this._expandedItems = this._expandedItems.slice(0);\n    }\n  },\n\n  _isExpanded: function(item, items) {\n    return items && items.indexOf(item) > -1;\n  },\n\n  _isFocusable: function(target) {\n    if (undefined.useNativeShadow) {\n      // https://nemisj.com/focusable/\n      // tabIndex is not reliable in IE.\n      return target.tabIndex >= 0;\n    } else {\n      // unreliable with Shadow, document.activeElement doesn't go inside\n      // the shadow root.\n      return (\n        target.contains(dom(document.activeElement).node) ||\n        target.tagName.toUpperCase() === \"A\"\n      );\n    }\n  },\n\n  /**\n   * Fired when user clicks on a item to select it.\n   *\n   * @event selecting-item\n   * @param {Object} detail\n   * @param {Object} detail.item item to be selected\n   */\n\n  /**\n   * Fired when user clicks on a item to deselect it.\n   *\n   * @event deselecting-item\n   * @param {Object} detail\n   * @param {Object} detail.item item to be deselected\n   */\n\n  /**\n   * Fired when user clicks on the select all checkbox to select items.\n   *\n   * @event selecting-all-items\n   * @param {Object} detail\n   * @param {Object} detail.items currently selected items\n   */\n\n  /**\n   * Fired when user clicks on the select all checkbox to deselect items.\n   *\n   * @event deselecting-all-items\n   * @param {Object} detail\n   * @param {Object} detail.items currently selected items\n   */\n\n  /**\n   * Fired when user clicks on a item to expand it.\n   *\n   * @event expanding-item\n   * @param {Object} detail\n   * @param {Object} detail.item item to be expanded\n   */\n\n  /**\n   * Fired when user clicks on a item to collapse it.\n   *\n   * @event collapsing-item\n   * @param {Object} detail\n   * @param {Object} detail.item item to be collapsed\n   */\n\n  // we need to listen to click instead of tap because on mobile safari, the\n  // document.activeElement has not been updated (focus has not been shifted)\n  // yet at the point when tap event is being executed.\n  _onCellClick: function(e) {\n    // Prevent item selection if row itself is not focused. This means that\n    // an element inside the row has been focused.\n    // Mobile devices don't move focus from body unless it's an input element that is focused, so this element will never get focused.\n    if (this._isFocusable(dom(e).localTarget)) {\n      return;\n    } else {\n      if (this.rowDetail && this.detailsEnabled) {\n        if (this._isExpanded(e.model.item, this._expandedItems)) {\n          this._fireEvent(\"collapsing-item\", e.model.item, this.collapseItem);\n        } else {\n          this._fireEvent(\"expanding-item\", e.model.item, this.expandItem);\n        }\n      }\n\n      if (this.selectionEnabled) {\n        if (this._isSelected(e.model.item, this.selectedItems)) {\n          this._fireEvent(\"deselecting-item\", e.model.item, this.deselectItem);\n        } else {\n          this._fireEvent(\"selecting-item\", e.model.item, this.selectItem);\n        }\n      }\n    }\n  },\n\n  _fireEvent: function(eventName, item, defaultAction) {\n    var e = this.fire(eventName, { item: item }, { cancelable: true });\n    if (!e.defaultPrevented) {\n      defaultAction.call(this, item);\n    }\n  },\n\n  _onCheckBoxTap: function(e) {\n    if (this._isSelected(e.model.item, this.selectedItems)) {\n      this._fireEvent(\"deselecting-item\", e.model.item, this.deselectItem);\n    } else {\n      this._fireEvent(\"selecting-item\", e.model.item, this.selectItem);\n    }\n  }\n});\nexport { IronDataTable };\n"],"names":["$_documentContainer","document","createElement","setAttribute","innerHTML","head","appendChild","is","properties","label","String","value","type","notify","hidden","Boolean","_valueChanged","e","detail","debounce","bind","this","_template","html","alignRight","name","filterBy","filterValue","width","flex","Number","order","sortBy","table","Object","headerTemplate","readOnly","custom","dom","querySelector","parentElement","column","_rootDataHost","dataHost","root","template","observers","_notifyTable","path","columns","index","indexOf","notifyPath","_alignRightChanged","_nameChanged","_sortByChanged","_flexChanged","_headerTemplateChanged","_hiddenChanged","_orderChanged","_templateChanged","_widthChanged","_filterByChanged","_filterValueChanged","fire","direction","computed","sortOrder","Array","_order","length","i","_sortOrderChanged","base","forEach","sort","_sort","saulis","window","DataTableTemplatizerBehaviorImpl","expanded","item","selected","_instances","_forwardedParentProps","_instance","created","_instanceProps","_templatize","templatize","_getRootDataHost","instance","stamp","key","push","insertBefore","firstElementChild","_expandedChanged","_expanded","_indexChanged","_itemChanged","_itemPathChanged","_parentProps","_selectedChanged","_selected","_forwardParentProp","prop","inst","_forwardInstanceProp","expandItem","collapseItem","selectItem","deselectItem","_forwardInstancePath","substring","DataTableTemplatizerBehavior","Templatizer","behaviors","header","beforeBind","data","cell","attached","undefined","useNativeShadow","StyleTransformer","_scopeCssViaAttr","domHost","tagName","toLowerCase","style","flexDirection","_beforeBind","_beforeBindHeader","toggleAttribute","flexGrow","flexBasis","_columnChanged","_columnPathChanged","async","run","_this","reflectToAttribute","_static","id","toUpperCase","_rowId","_contentElement","_ownerShadyRoot","checked","observer","indeterminate","_checkedChanged","_indeterminateChanged","IronDataTable","Polymer","IronResizableBehavior","listeners","scroll","autoRefresh","beforeCellBind","beforeDetailsBind","beforeRowBind","items","detailsEnabled","filter","multiSelection","pageSize","selectionEnabled","selectedItem","selectedItems","filters","size","dataSource","_pagesLoading","loading","_cachedItems","_cachedPages","_currentPage","_expandedItems","_observer","FlattenedNodesObserver","info","hasColumns","node","nodeType","Node","ELEMENT_NODE","addedNodes","removedNodes","set","shadowRoot","assignedNodes","flatten","n","notifyResize","hasAttribute","getAttribute","parent","rowDetail","parentNode","_stopPropagation","stopImmediatePropagation","_selectItem","_setSelectedItem","inverted","splice","_deselectItem","_isSelected","selectAll","slice","_setSelectedItems","clearSelection","_toggleSelectAll","_isSelectAllChecked","_fireEvent","selectedItemsLength","_isSelectAllIndeterminate","_isEven","_resetData","clearCache","$","list","scrollToIndex","_sortDirectionChanged","_columnsChanged","oldColumns","unlisten","listen","_onColumnFilterChanged","_resizeCellContainers","container","_this2","Math","min","scrollWidth","clientWidth","scrollLeft","paddingRight","offsetWidth","_onHorizontalScroll","isDebouncerActive","_onVerticalScroll","toggleClass","scrollTop","max","floor","_physicalAverage","_itemsChanged","isArray","split","cachedIndex","replace","ArrayDataSource","refreshPage","_currentPageChanged","page","_isPageCached","_loadPage","_isPageLoading","_addLoadingPage","_removeLoadingPage","success","start","_collection","store","_typeof","omap","pmap","err","_sizeChanged","oldSize","abs","pop","oldLastPage","_updateSizeForItem","event","model","get","itemSet","_physicalItems","_updateMetrics","_positionItems","_isExpanded","_isFocusable","target","contains","activeElement","_onCellClick","localTarget","eventName","defaultAction","cancelable","defaultPrevented","call","_onCheckBoxTap"],"mappings":"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"}