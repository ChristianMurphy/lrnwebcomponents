!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("lit-element/lit-element.js"),require("@lrnwebcomponents/simple-icon/simple-icon.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icons.js")):"function"==typeof define&&define.amd?define(["exports","lit-element/lit-element.js","@lrnwebcomponents/simple-icon/simple-icon.js","@lrnwebcomponents/simple-icon/lib/simple-icons.js"],n):n((e=e||self).SimplePicker={},e.litElement_js)}(this,function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){r(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&c(e,n)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,n){return(c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var t,i,o,r=p(e);if(n){var l=p(this).constructor;t=Reflect.construct(r,arguments,l)}else t=r.apply(this,arguments);return i=this,!(o=t)||"object"!=typeof o&&"function"!=typeof o?d(i):o}}function h(e,n,t){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var i=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=p(e)););return e}(e,n);if(i){var o=Object.getOwnPropertyDescriptor(i,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function v(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function m(){var e=v(["red"]);return m=function(){return e},e}function b(){var e=v(["\n      :host {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        color: var(--simple-picker-color);\n      }\n      :host([hidden]) {\n        display: none;\n      }\n      div {\n        margin: unset;\n        padding: unset;\n      }\n      #label {\n        padding: var(\n          --simple-picker-option-label-padding,\n          var(--simple-picker-option-padding, 2px 10px)\n        );\n        line-height: 100%;\n        width: max-content;\n      }\n\n      :host([hide-option-labels]) #label {\n        position: absolute;\n        left: -999999px;\n        width: 0;\n        height: 0;\n        overflow: hidden;\n      }\n\n      simple-icon {\n        --simple-icon-width: var(--simple-picker-option-size, 24px);\n        --simple-icon-height: var(--simple-picker-option-size, 24px);\n        width: var(--simple-picker-option-size, 24px);\n        min-height: var(--simple-picker-option-size, 24px);\n        min-width: var(--simple-picker-option-size, 24px);\n        line-height: var(--simple-picker-option-size, 24px);\n      }\n    "]);return b=function(){return e},e}function f(){var e=v(['\n      <simple-icon\n        ?hidden="','"\n        .icon="','"\n        aria-hidden="true"\n      ></simple-icon>\n      <div id="label">\n        <slot ?hidden="','"></slot>\n        ',"\n      </div>\n    "]);return f=function(){return e},e}var k=function(e){a(r,n.LitElement);var i=u(r);function r(){var e;return t(this,r),(e=i.call(this)).active=null,e.data=null,e.hidden=!1,e.hideOptionLabels=!1,e.icon=null,e.id=null,e.label=null,e.selected=!1,e.titleAsHtml=!1,e.value=null,setTimeout(function(){e.addEventListener("focus",e._handleFocus.bind(d(e))),e.addEventListener("mouseover",e._handleHover.bind(d(e)))},0),e}return o(r,[{key:"render",value:function(){return n.html(f(),!this.icon,this.icon,!this.titleAsHtml,this.titleAsHtml?"":this.label)}}],[{key:"styles",get:function(){return n.css(b())}}]),o(r,[{key:"updated",value:function(e){var n=this;h(p(r.prototype),"updated",this).call(this,e),e.forEach(function(e,t){"label"===t&&(n.innerHTML=n.label)})}},{key:"_handleFocus",value:function(){this.dispatchEvent(new CustomEvent("option-focus",{detail:this}))}},{key:"_handleHover",value:function(){this.dispatchEvent(new CustomEvent("option-focus",{detail:this}))}},{key:"_getColor",value:function(){return n.css(m())}}],[{key:"properties",get:function(){return{active:{type:Boolean,reflect:!0},data:{type:Object},hidden:{type:Boolean,reflect:!0},hideOptionLabels:{type:Boolean,reflect:!0,attribute:"hide-option-labels"},icon:{type:String},id:{type:String,reflect:!0},label:{type:String,reflect:!0},selected:{type:Boolean,reflect:!0},styles:{type:Object},titleAsHtml:{type:Boolean,reflect:!0,attribute:"title-as-html"},value:{type:String,reflect:!0}}}},{key:"tag",get:function(){return"simple-picker-option"}}]),r}();function g(){var e=v([" option-","-"," "]);return g=function(){return e},e}function y(){var e=v(["\n:host {\n  display: var(--simple-picker-display,inline-flex);\n  align-items: center;\n  color: var(--simple-picker-color, black);\n  font-family: var(--simple-picker-font-family, inherit);\n  font-size: var(--simple-picker-font-size, inherit);\n  --simple-picker-height: calc(var(--simple-picker-option-size, 24px) + var(--simple-picker-sample-padding, 2px) * 2 + var(--simple-picker-border-width, 1px) * 2);\n  min-height: var(--simple-picker-height);\n  max-height: var(--simple-picker-height);\n}\n\n:host([block-label]) {\n  display: block;\n  margin: 0 0 15px;\n  max-height: unset;\n}\n\n:host([disabled]) {\n  --simple-picker-color: var(--simple-picker-color-disabled, #888);\n  --simple-picker-background-color: var(--simple-picker-background-color-disabled, #e8e8e8);\n  cursor: not-allowed;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\ndiv {\n  margin: unset;\n  padding: unset;\n}\n\nlabel:not([hidden]) {\n  display: flex;\n  align-items: center;\n  padding-right: 5px;\n  font-family: var(--simple-picker-font-family, inherit);\n  color: var(--simple-picker-label-color, var(--simple-picker-color, black));\n}\n\n:host([block-label]) label:not([hidden]) {\n  display: block;\n  padding-right: 0px;\n  color: var(--simple-picker-float-label-color, var(--simple-picker-color-disabled, #888));\n  transition: all 0.5s;\n  max-height: unset;\n}\n\n:host([block-label]:focus-within) label,\n:host([block-label]:hover) label {\n  color: var(--simple-picker-float-label-active-color, var(--simple-picker-color, black));\n  transition: all 0.5s;\n}\n\n#sample, \n.rows {\n  margin: 0;\n  padding: 0;\n}\n\n#listbox {\n  cursor: pointer;\n  position: relative;\n  flex: 1 0 auto;\n  min-height: var(--simple-picker-height);\n  max-height: var(--simple-picker-height);\n}\n\n#sample {\n  display: flex;\n  flex: 1 0 auto;\n  justify-content: space-between;\n  align-items: center;\n  min-height: calc(var(--simple-picker-height - 2 * var(--simple-picker-sample-padding, 2px)) - 2 * var(--simple-picker-border-width, 1px));\n  max-height: calc(var(--simple-picker-height - 2 * var(--simple-picker-sample-padding, 2px)) - 2 * var(--simple-picker-border-width, 1px));\n  padding: var(--simple-picker-sample-padding, 2px);\n  border-radius: var(--simple-picker-border-radius, 2px);\n  color: var(--simple-picker-sample-color, black);\n  background-color: var(--simple-picker-background-color, #f0f0f0);\n  border-width: var(--simple-picker-border-width, 1px);\n  border-style: var(--simple-picker-border-style, solid);\n  border-color: var(--simple-picker-border-color, var(--simple-picker-color-disabled, #888));  \n}\n\n:host([hide-sample]) #sample {\n  width: var(--simple-picker-option-size);\n  overflow: visible;\n}\n\n:host(:focus-within) #sample {\n  border-width: var(--simple-picker-focus-border-width, var(--simple-picker-border-width, 1px));\n  border-style: var(--simple-picker-focus-border-style, var(--simple-picker-border-style, solid));\n  border-color: var(--simple-picker-focus-border-color, var(--simple-picker-border-color, var(--simple-picker-color-disabled, #888)));\n  transition: all 0.5s;\n}\n\n:host(:focus-within) #listbox{\n  border-width: var(--simple-picker-listbox-border-width, var(--simple-picker-border-width, 1px));\n  border-style: var(--simple-picker-listbox-border-width, var(--simple-picker-border-style, solid));\n  border-color: var(--simple-picker-listbox-border-width, var(--simple-picker-border-color, var(--simple-picker-color-disabled, #888)));\n}\n\n#listbox:focus-within,\n:host(:focus-within) #listbox{\n  outline: var(--simple-picker-listbox-outline,unset);\n}\n\n#icon {\n  width: var(--simple-picker-icon-size, var(--simple-picker-option-size, 24px));\n  height: var(--simple-picker-icon-size, var(--simple-picker-option-size, 24px));\n  --simple-icon-width: var(--simple-picker-icon-size, var(--simple-picker-option-size, 24px));\n  --simple-icon-height: var(--simple-picker-icon-size, var(--simple-picker-option-size, 24px));\n  transform: var(--simple-picker-icon-transform, rotate(0deg));\n  transition: transform 0.25s;\n}\n\n:host([expanded]) #icon {\n  transform: var(--simple-picker-expanded-icon-transform, rotate(0deg));\n  transition: transform 0.25s;\n}\n\n#collapse {\n  display: none;\n  width: 100%;\n  position: absolute;  \n  z-index: 2;\n}\n\n:host([expanded]:not([disabled])) #collapse {\n  display: block;\n  position: unset;\n  background-color: var(--simple-picker-options-background-color, #fff);\n} \n\n.rows {\n  display: block;\n  position: absolute;\n  z-index: 1000;  \n  top: calc(var(--simple-picker-option-size, 24px) + 2 * var(--simple-picker-options-border-width));\n  border-width: var(--simple-picker-options-border-width, var(--simple-picker-border-width, 1px));\n  border-style: var(--simple-picker-options-border-style, var(--simple-picker-border-style, solid));\n  border-color: var(--simple-picker-options-border-color, var(--simple-picker-border-color, var(--simple-picker-color-disabled, #888)));\n  background-color: var(--simple-picker-options-background-color, #fff);\n  max-height: var(--simple-picker-options-max-height, 250px);\n  overflow-y: auto; \n}\n\n:host([align-right]) #collapse .rows {\n  left: unset;\n  right: calc(var(--simple-picker-options-border-width, var(--simple-picker-border-width, 1px)) *2);\n}\n\n.row {\n  display: flex; \n  align-items: stretch;\n  justify-content: space-between;\n}\n\nsimple-picker-option {\n  z-index: 1;\n  flex: 1 1 auto;\n  justify-content: flex-start;\n  max-height: unset;\n  min-height: var(--simple-picker-option-size, 24px);\n  min-width: var(--simple-picker-option-size, 24px);\n  line-height: var(--simple-picker-option-size, 24px);\n  color: var(--simple-picker-color, black);\n  background-color: var(--simple-picker-options-background-color, #fff);\n  transition: max-height 2s;\n}\n\nsimple-picker-option[selected] {\n  z-index: 50;\n  color: var(--simple-picker-color, black);\n  background-color: var(--simple-picker-option-selected-background-color, var(--simple-picker-options-background-color, #fff));\n}\n\nsimple-picker-option[active] {\n  z-index: 100;\n  cursor: pointer;\n  color: var(--simple-picker-color, black);\n  background-color: var(--simple-picker-option-active-background-color, #aaddff);\n}\n\n#sample simple-picker-option {\n  color: var(--simple-picker-color, black);\n  background-color: var(--simple-picker-sample-background-color, transparent);\n  --simple-picker-option-padding: var(--simple-picker-sample-padding, 2px) 0;\n  border: none;\n}\n\n:host([hide-sample]) #sample simple-picker-option {\n  position: absolute;\n  left: -9999px;\n  overflow: hidden;\n  width: 0;\n  height: 0;\n}\n\n:host(:focus-within) #sample simple-picker-option,\n:host(:hover) #sample simple-picker-option {\n  --simple-picker-color: var(--simple-picker-color-active, var(--simple-picker-color, black));\n}\n\n:host(:not([expanded])) #collapse simple-picker-option {\n  max-height: 0;\n  transition: max-height 1.5s;\n}\n\n@media screen and (max-width: 600px) {\n  :host {\n    position: static;\n  }\n\n  #collapse {\n    top: 0;\n    margin-top: 0;\n    position: relative;\n  } \n\n  .rows {\n    position: absolute;\n  }  \n}\n      "]);return y=function(){return e},e}function w(){var e=v(['\n              <simple-picker-option\n                @option-focus="','"\n                @set-selected-option="','"\n                ?active="','"\n                ?hide-option-labels="','"\n                ?hidden="','"\n                ?selected="','"\n                ?title-as-html="','" \n                .data="','"\n                .icon="','"\n                .id="option-',"-",'"\n                .label="','"\n                .style=','\n                aria-selected="','"\n                role="option"\n                tabindex="-1"\n                value="','">\n              </simple-picker-option>\n            ']);return w=function(){return e},e}function x(){var e=v(['\n          <div class="row">\n            ',"\n          </div>\n        "]);return x=function(){return e},e}function _(){var e=v(['\n\n<label id="listLabel" for="listbox" .hidden="','">\n  ','\n</label>\n<div id="listbox"\n  .aria-activedescendant="','" \n  .aria-labelledby="','" \n  .disabled="','"\n  role="listbox" \n  tabindex="0"\n  @click="','"\n  @mousedown="','"\n  @keydown="','">\n  <div id="sample">\n    <simple-picker-option \n      ?hide-option-labels="','"\n      ?title-as-html="','"\n      .icon="','"\n      .label="','"\n      .style=','\n      aria-hidden="true">\n    </simple-picker-option>\n    <span id="icon"><simple-icon aria-hidden="true" icon="arrow-drop-down"></simple-icon></span>\n  </div>\n  <div id="collapse">\n    <div class="rows">\n        ',"\n    </div>\n  </div>\n</div>"]);return _=function(){return e},e}window.customElements.define(k.tag,k);var O=function(e){a(r,n.LitElement);var i=u(r);function r(){var e;t(this,r),(e=i.call(this)).tag=r.tag,e.allowNull=!1,e.alignRight=!1,e.ariaLabelledby=null,e.blockLabel=!1,e.disabled=!1,e.expanded=!1,e.hideOptionLabels=!1,e.hideSample=!1,e.label=null,e.__options=[[]],e.options=[[{icon:null,style:null,alt:null,value:null}]],e.titleAsHtml=!1,e.value=null,e.__activeDesc="option-0-0",e.__hasLabel=!0,e.__selectedOption={},e.addEventListener("blur",function(e){this.expanded=!1});var n=r.properties;for(var o in n)n.hasOwnProperty(o)&&(e.hasAttribute(o)?e[o]=e.getAttribute(o):(o.reflect&&e.setAttribute(o,n[o].value),e[o]=n[o].value));return e}return o(r,[{key:"render",value:function(){var e=this;return n.html(_(),!this.label||""===this.label.trim(),this.label&&""!==this.label.trim()?this.label.trim():"",this.__activeDesc,this.ariaLabelledby,this.disabled,this._handleListboxClick,this._handleListboxMousedown,this._handleListboxKeydown,this.hideOptionLabels,this.titleAsHtml,!!this.__selectedOption&&this.__selectedOption.icon,!!this.__selectedOption&&this.__selectedOption.alt,!!this.__selectedOption&&this.__selectedOption.style,this.__options?this.__options.map(function(t,i){return n.html(x(),Array.isArray(t)?t.map(function(t,o){return n.html(w(),e._handleOptionFocus,e._handleSetSelectedOption,"".concat(e.__activeDesc)==="option-".concat(i,"-").concat(o),e.hideOptionLabels,!e.allowNull&&!t.value,e.value===t.value,e.titleAsHtml,e.data,t.icon,i,o,t.alt,t.style,e.value===t.value?"true":"false",t.value)}):"")}):"")}}],[{key:"styles",get:function(){return[n.css(y())]}},{key:"properties",get:function(){return s(s({},h(p(r),"properties",this)),{},{allowNull:{type:Boolean,reflect:!0,attribute:"allow-null"},alignRight:{type:Boolean,reflect:!0,attribute:"align-right"},ariaLabelledby:{type:String,attribute:"aria-labelledby"},blockLabel:{type:Boolean,reflect:!0,attribute:"block-label"},disabled:{type:Boolean,reflect:!0},expanded:{type:Boolean,reflect:!0,attribute:"expanded"},hideOptionLabels:{type:Boolean,reflect:!0,attribute:"hide-option-labels"},hideSample:{type:Boolean,reflect:!0,attribute:"hide-sample"},label:{type:String},options:{type:Array},titleAsHtml:{type:Boolean,attribute:"title-as-html"},value:{type:String,reflect:!0},__activeDesc:{type:String},__options:{type:Array},__selectedOption:{type:Object}})}},{key:"tag",get:function(){return"simple-picker"}}]),o(r,[{key:"updated",value:function(e){var n=this;e.forEach(function(e,t){"value"===t&&n._valueChanged(),"options"===t&&n._optionsChanged()}),this.dispatchEvent(new CustomEvent("changed",{detail:this}))}},{key:"_getOption",value:function(e,n){if(void 0!==e&&null!=n){var t=n.split("-");return e[t[1]][t[2]]}return null}},{key:"_goToOption",value:function(e,t){var i=n.html(g(),e,t),o=this.shadowRoot.querySelector("#"+i),r=this.shadowRoot.querySelector("#"+this.__activeDesc);null!==o&&(o.tabindex=0,o.focus(),r.tabindex=-1)}},{key:"_handleListboxClick",value:function(e){this.dispatchEvent(new CustomEvent("click",{detail:this})),this._toggleListbox()}},{key:"_handleListboxMousedown",value:function(e){this.dispatchEvent(new CustomEvent("mousedown",{detail:this}))}},{key:"_handleListboxKeydown",value:function(e){this.dispatchEvent(new CustomEvent("keydown",{detail:this}));var n=this.__activeDesc.split("-"),t=parseInt(n[1]),i=parseInt(n[2]);if(32===e.keyCode)e.preventDefault(),this._toggleListbox();else if(this.expanded&&[9,35,36,38,40].includes(e.keyCode))if(e.preventDefault(),35===e.keyCode){var o=(this.options||[]).length-1,r=this.options[o].length-1;this._goToOption(o,r)}else 36===e.keyCode?this._goToOption(0,0):38===e.keyCode?i>0?this._goToOption(t,i-1):t>0&&this._goToOption(t-1,this.options[t-1].length-1):40===e.keyCode&&(i<this.options[t].length-1?this._goToOption(t,i+1):t<(this.options||[]).length-1&&this._goToOption(t+1,[0]))}},{key:"_handleOptionFocus",value:function(e){this._setActiveOption(e.detail.id)}},{key:"_setActiveOption",value:function(e){this.__activeDesc=e,this.dispatchEvent(new CustomEvent("option-focus",{detail:this}))}},{key:"_valueChanged",value:function(){this._setSelectedOption(),this.dispatchEvent(new CustomEvent("value-changed",{detail:this}))}},{key:"_optionsChanged",value:function(){this._setSelectedOption()}},{key:"_setSelectedOption",value:function(){var e=!this.allowNull&&(this.options||[]).length>0&&this.options[0].length>0?this.options[0][0].value:null;if(this.options){this.__options="string"==typeof this.options?JSON.parse(this.options):this.options.slice(),this.__activeDesc=this.allowNull?"option-0-0":null;for(var n=0;n<this.__options.length;n++)for(var t=0;t<this.__options[n].length;t++)null!==this.value&&null===this.__activeDesc&&(this.__activeDesc="option-".concat(n,"-").concat(t)),"".concat(this.__options[n][t].value)==="".concat(this.value)&&(this.__activeDesc="option-".concat(n,"-").concat(t),e=this.__options[n][t])}null===e&&(this.value=null),this.__selectedOption=e,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:this}))}},{key:"_toggleListbox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.expanded;if(!this.disabled){var n=this.shadowRoot.querySelector("#"+this.__activeDesc);this.expanded=e,e?(null!==n&&n.focus(),this.dispatchEvent(new CustomEvent("expand",{detail:this}))):(null!==n&&(this.value=n.getAttribute("value")),this.dispatchEvent(new CustomEvent("collapse",{detail:this})))}}},{key:"setOptions",value:function(e){this.set("options",[[]]),this.set("options",e)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("blur",function(e){this.expanded=!1}),h(p(r.prototype),"disconnectedCallback",this).call(this)}}]),r}();window.customElements.define(O.tag,O),e.SimplePicker=O,Object.defineProperty(e,"__esModule",{value:!0})});
