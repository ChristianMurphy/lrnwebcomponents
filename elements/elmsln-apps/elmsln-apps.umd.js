!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@polymer/polymer/polymer-legacy.js"),require("@polymer/app-route/app-route.js"),require("@polymer/app-route/app-location.js"),require("@polymer/paper-dialog/paper-dialog.js"),require("@polymer/paper-button/paper-button.js"),require("@lrnwebcomponents/hax-body/lib/hax-app.js"),require("@polymer/paper-icon-button/paper-icon-button.js"),require("@polymer/paper-dropdown-menu/paper-dropdown-menu.js"),require("@polymer/paper-listbox/paper-listbox.js"),require("@polymer/paper-item/paper-item.js"),require("@polymer/paper-tooltip/paper-tooltip.js"),require("@polymer/paper-styles/color.js"),require("@polymer/paper-styles/typography.js"),require("@polymer/iron-icon/iron-icon.js"),require("@polymer/polymer/polymer-element.js"),require("@polymer/polymer/lib/utils/render-status.js"),require("@lrnwebcomponents/simple-colors/simple-colors.js"),require("@polymer/polymer/lib/legacy/polymer.dom.js"),require("@polymer/iron-icons/iron-icons.js"),require("@polymer/iron-icons/hardware-icons.js"),require("@lrnwebcomponents/paper-search/lib/paper-search-bar.js"),require("@polymer/paper-slider/paper-slider.js"),require("@lrnwebcomponents/simple-toast/simple-toast.js"),require("@polymer/app-layout/app-layout.js"),require("@polymer/app-layout/app-drawer/app-drawer.js"),require("@polymer/app-layout/app-header/app-header.js"),require("@polymer/app-layout/app-toolbar/app-toolbar.js"),require("@polymer/app-layout/app-scroll-effects/app-scroll-effects.js"),require("@lrnwebcomponents/materializecss-styles/materializecss-styles.js"),require("@lrnwebcomponents/lrndesign-stepper/lrndesign-stepper.js"),require("@lrnwebcomponents/lrnsys-progress/lrnsys-progress.js"),require("@lrnwebcomponents/elmsln-loading/elmsln-loading.js"),require("@lrnwebcomponents/page-scroll-position/page-scroll-position.js"),require("@lrnwebcomponents/material-progress/material-progress.js"),require("@lrnwebcomponents/map-menu/map-menu.js"),require("@polymer/iron-ajax/iron-ajax.js"),require("@lrnwebcomponents/hax-body/hax-body.js"),require("@lrnwebcomponents/lrndesign-mapmenu/lrndesign-mapmenu.js"),require("@vaadin/vaadin-grid/vaadin-grid.js"),require("@vaadin/vaadin-grid/vaadin-grid-column-group.js"),require("@vaadin/vaadin-grid/vaadin-grid-filter.js"),require("@vaadin/vaadin-grid/vaadin-grid-sorter.js"),require("@vaadin/vaadin-grid/vaadin-grid-selection-column.js"),require("@polymer/iron-image/iron-image.js"),require("@lrnwebcomponents/lrnsys-layout/lib/lrnsys-dialog.js"),require("@lrnwebcomponents/lrndesign-avatar/lrndesign-avatar.js"),require("@polymer/iron-list/iron-list.js"),require("@polymer/iron-pages/iron-pages.js"),require("@polymer/paper-toast/paper-toast.js"),require("@lrnwebcomponents/lrndesign-course-banner/lrndesign-course-banner.js"),require("@lrnwebcomponents/lrn-icon/lrn-icon.js"),require("@lrnwebcomponents/lrnsys-button/lrnsys-button.js"),require("@lrnwebcomponents/responsive-grid/lib/responsive-grid-col.js"),require("@lrnwebcomponents/responsive-grid/lib/responsive-grid-row.js"),require("@polymer/paper-card/paper-card.js"),require("@polymer/iron-scroll-threshold/iron-scroll-threshold.js"),require("@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js"),require("@vaadin/vaadin-upload/vaadin-upload.js"),require("@polymer/iron-selector/iron-selector.js"),require("@lrnwebcomponents/lrndesign-gallerycard/lrndesign-gallerycard.js"),require("@polymer/paper-input/paper-input.js"),require("@vaadin/vaadin-grid/vaadin-grid-column.js"),require("@lrnwebcomponents/elmsln-apps/lib/lrnapp-studio-submission/lrnapp-studio-submission-display.js"),require("@polymer/paper-item/paper-item-shared-styles.js"),require("@polymer/iron-resizable-behavior/iron-resizable-behavior.js"),require("@polymer/paper-toggle-button/paper-toggle-button.js"),require("@polymer/paper-badge/paper-badge.js"),require("@lrnwebcomponents/lrndesign-chart/lib/lrndesign-bar.js"),require("@lrnwebcomponents/lrndesign-chart/lib/lrndesign-line.js"),require("@lrnwebcomponents/lrndesign-chart/lib/lrndesign-pie.js"),require("@lrnwebcomponents/dropdown-select/dropdown-select.js"),require("@lrnwebcomponents/elmsln-apps/lib/lrnapp-studio-submission/lrnapp-studio-submission.js"),require("@lrnwebcomponents/lrnsys-render-html/lrnsys-render-html.js"),require("@lrnwebcomponents/elmsln-apps/lib/lrnapp-studio-dashboard/lrnapp-studio-dashboard.js"),require("@lrnwebcomponents/elmsln-apps/lib/lrnapp-studio-kanban/lrnapp-studio-kanban.js"),require("@lrnwebcomponents/elmsln-apps/lib/lrnapp-open-studio/lrnapp-open-studio.js"),require("@polymer/polymer/lib/utils/async.js"),require("@polymer/marked-element/marked-element.js"),require("@vaadin/vaadin-split-layout/vaadin-split-layout.js"),require("@lrnwebcomponents/lrnsys-comment/lib/lrnsys-comment-list.js"),require("@lrnwebcomponents/image-inspector/image-inspector.js"),require("@lrnwebcomponents/word-count/word-count.js"),require("@lrnwebcomponents/lrndesign-contentblock/lrndesign-contentblock.js"),require("@polymer/paper-ripple/paper-ripple.js"),require("@lrnwebcomponents/secure-request/secure-request.js"),require("@lrnwebcomponents/lrn-markdown-editor/lrn-markdown-editor.js"),require("@lrnwebcomponents/grid-plate/grid-plate.js")):"function"==typeof define&&define.amd?define(["@polymer/polymer/polymer-legacy.js","@polymer/app-route/app-route.js","@polymer/app-route/app-location.js","@polymer/paper-dialog/paper-dialog.js","@polymer/paper-button/paper-button.js","@lrnwebcomponents/hax-body/lib/hax-app.js","@polymer/paper-icon-button/paper-icon-button.js","@polymer/paper-dropdown-menu/paper-dropdown-menu.js","@polymer/paper-listbox/paper-listbox.js","@polymer/paper-item/paper-item.js","@polymer/paper-tooltip/paper-tooltip.js","@polymer/paper-styles/color.js","@polymer/paper-styles/typography.js","@polymer/iron-icon/iron-icon.js","@polymer/polymer/polymer-element.js","@polymer/polymer/lib/utils/render-status.js","@lrnwebcomponents/simple-colors/simple-colors.js","@polymer/polymer/lib/legacy/polymer.dom.js","@polymer/iron-icons/iron-icons.js","@polymer/iron-icons/hardware-icons.js","@lrnwebcomponents/paper-search/lib/paper-search-bar.js","@polymer/paper-slider/paper-slider.js","@lrnwebcomponents/simple-toast/simple-toast.js","@polymer/app-layout/app-layout.js","@polymer/app-layout/app-drawer/app-drawer.js","@polymer/app-layout/app-header/app-header.js","@polymer/app-layout/app-toolbar/app-toolbar.js","@polymer/app-layout/app-scroll-effects/app-scroll-effects.js","@lrnwebcomponents/materializecss-styles/materializecss-styles.js","@lrnwebcomponents/lrndesign-stepper/lrndesign-stepper.js","@lrnwebcomponents/lrnsys-progress/lrnsys-progress.js","@lrnwebcomponents/elmsln-loading/elmsln-loading.js","@lrnwebcomponents/page-scroll-position/page-scroll-position.js","@lrnwebcomponents/material-progress/material-progress.js","@lrnwebcomponents/map-menu/map-menu.js","@polymer/iron-ajax/iron-ajax.js","@lrnwebcomponents/hax-body/hax-body.js","@lrnwebcomponents/lrndesign-mapmenu/lrndesign-mapmenu.js","@vaadin/vaadin-grid/vaadin-grid.js","@vaadin/vaadin-grid/vaadin-grid-column-group.js","@vaadin/vaadin-grid/vaadin-grid-filter.js","@vaadin/vaadin-grid/vaadin-grid-sorter.js","@vaadin/vaadin-grid/vaadin-grid-selection-column.js","@polymer/iron-image/iron-image.js","@lrnwebcomponents/lrnsys-layout/lib/lrnsys-dialog.js","@lrnwebcomponents/lrndesign-avatar/lrndesign-avatar.js","@polymer/iron-list/iron-list.js","@polymer/iron-pages/iron-pages.js","@polymer/paper-toast/paper-toast.js","@lrnwebcomponents/lrndesign-course-banner/lrndesign-course-banner.js","@lrnwebcomponents/lrn-icon/lrn-icon.js","@lrnwebcomponents/lrnsys-button/lrnsys-button.js","@lrnwebcomponents/responsive-grid/lib/responsive-grid-col.js","@lrnwebcomponents/responsive-grid/lib/responsive-grid-row.js","@polymer/paper-card/paper-card.js","@polymer/iron-scroll-threshold/iron-scroll-threshold.js","@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js","@vaadin/vaadin-upload/vaadin-upload.js","@polymer/iron-selector/iron-selector.js","@lrnwebcomponents/lrndesign-gallerycard/lrndesign-gallerycard.js","@polymer/paper-input/paper-input.js","@vaadin/vaadin-grid/vaadin-grid-column.js","@lrnwebcomponents/elmsln-apps/lib/lrnapp-studio-submission/lrnapp-studio-submission-display.js","@polymer/paper-item/paper-item-shared-styles.js","@polymer/iron-resizable-behavior/iron-resizable-behavior.js","@polymer/paper-toggle-button/paper-toggle-button.js","@polymer/paper-badge/paper-badge.js","@lrnwebcomponents/lrndesign-chart/lib/lrndesign-bar.js","@lrnwebcomponents/lrndesign-chart/lib/lrndesign-line.js","@lrnwebcomponents/lrndesign-chart/lib/lrndesign-pie.js","@lrnwebcomponents/dropdown-select/dropdown-select.js","@lrnwebcomponents/elmsln-apps/lib/lrnapp-studio-submission/lrnapp-studio-submission.js","@lrnwebcomponents/lrnsys-render-html/lrnsys-render-html.js","@lrnwebcomponents/elmsln-apps/lib/lrnapp-studio-dashboard/lrnapp-studio-dashboard.js","@lrnwebcomponents/elmsln-apps/lib/lrnapp-studio-kanban/lrnapp-studio-kanban.js","@lrnwebcomponents/elmsln-apps/lib/lrnapp-open-studio/lrnapp-open-studio.js","@polymer/polymer/lib/utils/async.js","@polymer/marked-element/marked-element.js","@vaadin/vaadin-split-layout/vaadin-split-layout.js","@lrnwebcomponents/lrnsys-comment/lib/lrnsys-comment-list.js","@lrnwebcomponents/image-inspector/image-inspector.js","@lrnwebcomponents/word-count/word-count.js","@lrnwebcomponents/lrndesign-contentblock/lrndesign-contentblock.js","@polymer/paper-ripple/paper-ripple.js","@lrnwebcomponents/secure-request/secure-request.js","@lrnwebcomponents/lrn-markdown-editor/lrn-markdown-editor.js","@lrnwebcomponents/grid-plate/grid-plate.js"],e):e((n=n||self).polymerLegacy_js,null,null,null,null,null,null,null,null,null,null,null,null,null,n.polymerElement_js,n.renderStatus_js,null,n.polymer_dom_js,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,n.ironResizableBehavior_js,null,null,null,null,null,null,null,null,null,null,null,n.async)}(this,function(n,e,t,i,a,s,o,r,l,d,p,c,m,u,g,h,b,v,y,w,k,j,P,S,C,q,$,T,A,z,D,R,O,I,U,L,E,B,N,F,M,V,H,W,G,Y,X,J,K,Q,Z,nn,en,tn,an,sn,on,rn,ln,dn,pn,cn,mn,un,gn,hn,bn,vn,yn,fn,xn,wn,kn,_n,jn,Pn,Sn){"use strict";function Cn(n){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function qn(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function $n(n){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function Tn(n,e){return(Tn=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function An(n,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):e}function zn(n,e,t){return(zn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,e,t){var i=function(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=$n(n)););return n}(n,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(t):a.value}})(n,e,t||n)}function Dn(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Rn(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n      paper-dropdown-menu {\n        display: block;\n        width: 100%;\n      }\n    </style>\n\n    <paper-dropdown-menu label="Order">\n      <paper-listbox\n        slot="dropdown-content"\n        attr-for-selected="name"\n        selected="{{form.order}}"\n      >\n        <paper-item name="ASC">Ascending</paper-item>\n        <paper-item name="DESC">Descending</paper-item>\n      </paper-listbox>\n    </paper-dropdown-menu>\n\n    <paper-dropdown-menu label="Media Type">\n      <paper-listbox\n        slot="dropdown-content"\n        attr-for-selected="name"\n        selected="{{form.media_type}}"\n      >\n        <paper-item name="elmsmedia_image">Image</paper-item>\n        <paper-item name="h5p">H5P</paper-item>\n        <paper-item name="video">Video</paper-item>\n        <paper-item name="external_video">External Video</paper-item>\n        <paper-item name="audio">audio</paper-item>\n      </paper-listbox>\n    </paper-dropdown-menu>\n  ']);return Rn=function(){return n},n}n.Polymer({_template:n.html(Rn()),is:"elmsmedia-dashboard-filters",properties:{form:{type:Object,value:{}}},observers:["_formChanged(form.*)"],_formChanged:function(n){var e=n.path.replace("form.",""),t=n.value;this.fire("add-filter",{path:e,propValue:t})}});function On(){var n=Dn(["\n    <style>\n      :host {\n        display: inline-block;\n        background-color: var(--paper-chip-background, var(--paper-grey-300));\n        height: 32px;\n        line-height: 32px !important;\n        padding: 0 12px;\n        border-radius: 16px;\n        color: var(--paper-chip-color, var(--primary-text-color));\n        font-size: 13px !important;\n        @apply --paper-font-body1;\n        @apply --paper-chip;\n      }\n      :host([selectable]) {\n        cursor: pointer;\n      }\n      :host([selectable]:hover) {\n        background-color: var(\n          --paper-chip-background-selectable,\n          var(--paper-grey-400)\n        );\n      }\n    </style>\n    <slot></slot>\n  "]);return On=function(){return n},n}n.Polymer({_template:n.html(On()),is:"paper-chip",properties:{selectable:{type:Boolean,value:!1,reflectToAttribute:!0}}});function In(){var n=Dn(['\n    <style>\n      :host {\n        display: flex;\n        font-size: 0.8em;\n      }\n      paper-icon-button {\n        --paper-icon-button: {\n          height: 30px;\n          width: 30px;\n          margin-right: -12px;\n        }\n      }\n    </style>\n    <paper-chip>\n      [[title]]\n      <paper-icon-button\n        id="clear"\n        icon="clear"\n        title="Remove filter"\n        on-click="remove"\n      ></paper-icon-button>\n    </paper-chip>\n    <paper-tooltip\n      for="clear"\n      position="top"\n      animation-delay="100"\n      margin-top="5"\n      aria-hidden="true"\n      >Remove Filter</paper-tooltip\n    >\n  ']);return In=function(){return n},n}n.Polymer({_template:n.html(In()),is:"elmsmedia-dashboard-toolbar-filter",properties:{path:{type:String,value:""},propValue:{type:String,value:""},title:{type:String,value:""}},remove:function(n){this.fire("remove-filter",{path:this.path,propValue:this.propValue})}});function Un(){var n=Dn(['\n    <style>\n      :host {\n        display: flex;\n        align-items: center;\n      }\n      elmsmedia-dashboard-toolbar-filter {\n        margin-right: 4.8px;\n      }\n    </style>\n\n    <template is="dom-repeat" items="[[_filtersArray]]" as="item">\n      <elmsmedia-dashboard-toolbar-filter\n        path="[[item.path]]"\n        prop-value="[[item.propValue]]"\n        title="[[item.title]]"\n      ></elmsmedia-dashboard-toolbar-filter>\n    </template>\n  ']);return Un=function(){return n},n}n.Polymer({_template:n.html(Un()),is:"elmsmedia-dashboard-toolbar-filters",properties:{filters:{type:Object,value:{}},_filtersArray:{type:Array,computed:"_filtersArrayCompute(filters, filters.*)"}},_filtersArrayCompute:function(n){var e=[],t=function(){var t=f,i=n[f].split(",");"page"!==t&&i.forEach(function(n){e.push({path:t,propValue:n,title:"".concat(t,": ").concat(n)})})};for(f in n)t();return e}});function Ln(){var n=Dn(['\n    <style>\n      :host {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        opacity: 0.7;\n      }\n      #title {\n        font-size: 1em;\n        margin: 0;\n        margin-right: 0.3em;\n        padding: 0;\n      }\n    </style>\n    <paper-button id="button">\n      <h3 id="title">[[title]]</h3>\n      <iron-icon id="icon" icon="[[icon]]"></iron-icon>\n    </paper-button>\n  ']);return Ln=function(){return n},n}n.Polymer({_template:n.html(Ln()),is:"elmsmedia-dashboard-toolbar-button",properties:{title:{type:String,value:""},icon:{type:String,value:""}}});function En(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n      paper-dialog {\n        padding: 1em;\n      }\n      #toolbar {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n      }\n    </style>\n\n    <app-location route="{{route}}"></app-location>\n    <app-route\n      route="{{route}}"\n      pattern="/:page"\n      data="{{data}}"\n      tail="{{tail}}"\n      query-params="{{queryParams}}"\n    ></app-route>\n\n    <div id="toolbar">\n      <elmsmedia-dashboard-toolbar-filters\n        filters="[[queryParams]]"\n      ></elmsmedia-dashboard-toolbar-filters>\n      <elmsmedia-dashboard-toolbar-button\n        icon="filter-list"\n        title="Filter"\n        on-click="toggleFilters"\n      ></elmsmedia-dashboard-toolbar-button>\n      <elmsmedia-dashboard-toolbar-button\n        icon="search"\n        title="Search"\n        on-click="toggleSearch"\n      ></elmsmedia-dashboard-toolbar-button>\n    </div>\n\n    <paper-dialog id="filterDialog" with-backdrop="">\n      <h3>Filter Media</h3>\n      <elmsmedia-dashboard-filters\n        form="{{queryParams}}"\n        on-filter-changed="_filterChanged"\n      ></elmsmedia-dashboard-filters>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Dismiss dialog</paper-button>\n      </div>\n    </paper-dialog>\n\n    <hax-app\n      id="haxSource"\n      auto=""\n      query-param="title"\n      request-end-point="[[requestEndPoint]]"\n      request-params="{{queryParams}}"\n      data=\'{\n      "root": "list",\n      "gizmoType": "video",\n      "url": "http://media.elmsln.local/entity_iframe/node/",\n      "id": "id",\n      "title": "attributes.title",\n      "description": "attributes.body",\n      "image": "display.image",\n      "customGizmoType": "type"}\'\n    ></hax-app>\n  ']);return En=function(){return n},n}n.Polymer({_template:n.html(En()),is:"elmsmedia-dashboard",properties:{requestEndPoint:{type:String,value:""},queryParams:{type:Object,value:{}}},_computeRequestEndPoint:function(n,e){return"".concat(n,"/api/data?token=").concat(e)},_filterChanged:function(n){var e=Object.assign({},n.detail);e=this._cleanParams(e),this.set("queryParams",{}),this.set("queryParams",e)},_cleanParams:function(n){var e={};for(x in n){var t=x,i=n[x];""===i||null==i||(e[t]=i)}return e},toggleSearch:function(n){var e=this.$.haxSource.search;this.$.haxSource.search=!e},toggleFilters:function(n){this.$.filterDialog.toggle()},removeFilter:function(n,e){var t=Object.assign({},this.queryParams),i=_.get(t,n).split(",").filter(function(n){return n!==e}).join(","),a=_.set(t,n,i),s=this._cleanParams(a);this.set("queryParams",{}),this.set("queryParams",s)},ready:function(){var n=this;this.addEventListener("remove-filter",function(e){n.removeFilter(e.detail.path,e.detail.propValue)})},detached:function(){var n=this;this.removeEventListener("remove-filter",function(e){n.removeFilter(e.detail.path,e.detail.propValue)})}});function Bn(){var n=Dn(['\n      <style>\n        :host {\n          display: block;\n        }\n        paper-button {\n          padding: 0;\n          margin: 0;\n          min-width: 1rem;\n        }\n        vaadin-upload.thick-border {\n          --primary-color: #396;\n          --dark-primary-color: #063;\n          --light-primary-color: #6c9;\n          --error-color: darkred;\n          border: 2px solid #ccc;\n          padding: 14px;\n          background: #eee;\n          border-radius: 0;\n        }\n        vaadin-upload.thick-border[dragover] {\n          border-color: #396;\n        }\n        .green {\n          background-color: var(--simple-colors-default-theme-green-6);\n        }\n      </style>\n      <vaadin-upload\n        target$="[[uploadPath]]"\n        method="POST"\n        form-data-name="file-upload"\n        timeout="0"\n        accept="video/mp4,image/*,audio/*,application/pdf,application/zip"\n      ></vaadin-upload>\n      <paper-dialog\n        id="dialog"\n        entry-animation="scale-up-animation"\n        exit-animation="fade-out-animation"\n        with-backdrop=""\n      >\n        <app-toolbar>\n          <paper-dropdown-menu label="Display style">\n            <paper-listbox slot="dropdown-content" class="dropdown-content">\n              <paper-item value="image">Image</paper-item>\n              <paper-item value="image__circle">Circle</paper-item>\n            </paper-listbox>\n          </paper-dropdown-menu>\n          <paper-checkbox class="styled" checked="{{hasLightbox}}">\n            Lightbox <span class="subtitle"> Users can click to expand </span>\n          </paper-checkbox>\n          <paper-button raised class="green">Save</paper-button>\n        </app-toolbar>\n        <h2>[[uploadTitle]]</h2>\n        <paper-input\n          label="Title"\n          placeholder="Title"\n          value="{{uploadTitle}}"\n        ></paper-input>\n        <div id="content"></div>\n      </paper-dialog>\n    ']);return Bn=function(){return n},n}var Nn=function(n){function e(){var n;return function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=An(this,$n(e).call(this)),import("@polymer/paper-button/paper-button.js"),import("@vaadin/vaadin-upload/vaadin-upload.js"),import("@polymer/paper-dialog/paper-dialog.js"),import("@polymer/app-layout/app-toolbar/app-toolbar.js"),import("@polymer/paper-dropdown-menu/paper-dropdown-menu.js"),import("@polymer/paper-listbox/paper-listbox.js"),import("@polymer/paper-item/paper-item.js"),import("@polymer/paper-checkbox/paper-checkbox.js"),import("@polymer/paper-button/paper-button.js"),import("@polymer/paper-input/paper-input.js"),n}var t,i,a;return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&Tn(n,e)}(e,g.PolymerElement),t=e,a=[{key:"template",get:function(){return g.html(Bn())}},{key:"tag",get:function(){return"elmsmedia-upload"}},{key:"properties",get:function(){return{uploadPath:{type:String,notify:!0},uploadTitle:{type:String,notify:!0},hasLightbox:{type:Boolean,notify:!0}}}}],(i=[{key:"connectedCallback",value:function(){zn($n(e.prototype),"connectedCallback",this).call(this),h.afterNextRender(this,function(){this.addEventListener("upload-success",this._uploadSuccess.bind(this))})}},{key:"_uploadSuccess",value:function(n){var e=JSON.parse(n.detail.xhr.response);this.uploadTitle=e.data.node.title,this.shadowRoot.querySelector("#content").innerHTML=e.data.node.nid,this.shadowRoot.querySelector("#dialog").open()}}])&&qn(t.prototype,i),a&&qn(t,a),e}();function Fn(){var n=Dn(['\n    <custom-style>\n      <style is="custom-style" include="materializecss-styles">\n        :host {\n          display: block;\n        }\n        paper-progress {\n          --paper-progress-active-color: var(--paper-blue-300, blue);\n          --paper-progress-secondary-color: var(--paper-yellow-300, yellow);\n          --paper-progress-container-color: var(--paper-green-300, green);\n          height: 1.5em;\n          display: inline-block;\n          vertical-align: text-top;\n        }\n        lrndesign-avatar {\n          display: inline-block;\n        }\n        lrnsys-progress-circle {\n          font-size: 4em;\n        }\n        .progress-icon {\n          height: 2.5em;\n          width: 2.5em;\n          padding: 0.25em;\n          display: inline-block;\n          color: white;\n          background-color: var(--paper-gray-300, gray);\n          border-radius: 50%;\n        }\n        .progress-row {\n          display: block;\n          width: 100%;\n        }\n        .progress-left,\n        .progress-right {\n          padding: 1em;\n          display: inline-block;\n          height: 10em;\n          vertical-align: text-top;\n        }\n        material-progress-histo {\n          width: 100%;\n          @apply (--paper-font-body2);\n        }\n        material-progress-bars {\n          width: 100%;\n          @apply (--paper-font-body2);\n        }\n        material-progress-bars > .bar > span {\n          text-align: end;\n          font-size: 0.9em;\n          @apply (--layout-flex);\n        }\n        .bar {\n          background-color: var(--paper-deep-orange-500);\n        }\n        .bar.run {\n          background-color: var(--paper-purple-500);\n        }\n        .bar.hello {\n          background-color: var(--paper-cyan-500);\n        }\n        .bar.world {\n          background-color: var(--paper-orange-500);\n        }\n      </style>\n    </custom-style>\n    <iron-ajax\n      id="dataajax"\n      url="[[sourcePath]]"\n      params="[[requestParams]]"\n      handle-as="json"\n      on-response="handleDataResponse"\n      last-response="{{readTimeData}}"\n    ></iron-ajax>\n\n    <div id="bodyloading" class="loading">\n      <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n      <h3 class="loading-text">Loading content..</h3>\n    </div>\n    <div>\n      <material-progress-bars max="128" bar-height="22" animated="">\n        <div class="bar" data-value="21">\n          <iron-icon icon="av:video-library"></iron-icon>\n        </div>\n        <div class="bar run" data-value="13">\n          <iron-icon icon="maps:directions-run"></iron-icon>\n        </div>\n        <div class="bar hello" data-value="50">\n          <iron-icon icon="maps:directions-bike"></iron-icon>\n          <span>Hello</span>\n        </div>\n        <div class="bar world" data-value="30"><span>World</span></div>\n      </material-progress-bars>\n      <material-progress-histo bar-height="22" animated="">\n        <div class="bar" data-value="21">\n          <iron-icon icon="maps:directions-walk"></iron-icon>\n        </div>\n        <div class="bar run" data-value="13">\n          <iron-icon icon="maps:directions-run"></iron-icon>\n        </div>\n        <div class="bar hello" data-value="50">\n          <iron-icon icon="maps:directions-bike"></iron-icon>\n          <span>Hello</span>\n        </div>\n        <div class="bar world" data-value="30"><span>World</span></div>\n      </material-progress-histo>\n      <template is="dom-repeat" items="[[dashboardItems]]" as="item">\n        <div class="progress-row">\n          <div class="progress-left">\n            <lrnsys-progress-circle\n              status="disabled"\n              class="flex"\n              icon="[[item.meta.icon]]"\n            ></lrnsys-progress-circle>\n          </div>\n          <div class="progress-right">\n            <h3 class="progress-item-title">[[item.attributes.title]]</h3>\n            <div class="description-content">\n              <div>\n                <lrn-icon icon="network" class="progress-icon"></lrn-icon>\n                <paper-progress\n                  value="70"\n                  secondary-progress="80"\n                ></paper-progress>\n              </div>\n              <div>\n                <lrndesign-avatar\n                  src="[[userData.user.avatar]]"\n                  label="[[userData.user.display_name]]"\n                ></lrndesign-avatar>\n                <paper-progress\n                  value="70"\n                  secondary-progress="80"\n                ></paper-progress>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </div>\n  ']);return Fn=function(){return n},n}function Mn(){var n=Dn(['\n    <custom-style>\n      <style is="custom-style" include="materializecss-styles">\n        :host {\n          display: block;\n          font-size: 16px;\n          box-sizing: content-box;\n        }\n        #toolbar {\n          color: gray;\n          background-color: white;\n          padding: 0 8px;\n          margin: 0;\n          height: auto;\n          box-sizing: content-box;\n          transition: all 0.4s ease;\n        }\n        paper-button {\n          padding: 0;\n          margin: 0;\n          min-width: 16px;\n        }\n        app-drawer {\n          padding: 0;\n          top: 0;\n          bottom: 0;\n          z-index: 1;\n          position: absolute;\n          box-sizing: content-box;\n          --app-drawer-content-container: {\n            background-color: #fafafa;\n            padding: 0;\n            border-right: 1px solid #c8c8c8;\n            overflow-y: scroll;\n            width: 300px !important;\n            box-shadow: 0 76px 8px 0 rgba(0, 0, 0, 0.4);\n            height: 100vh;\n            top: 0;\n            position: sticky;\n          }\n        }\n        lrndesign-stepper-button {\n          --lrndesign-stepper-btn-active: #f6f7f7;\n        }\n        lrndesign-stepper-button ::slotted(paper-button) {\n          margin: 0;\n          height: 48px;\n        }\n        lrndesign-stepper-button ::slotted(.title-container) {\n          padding: 0;\n          width: 100%;\n          right: unset;\n        }\n        lrndesign-stepper-button ::slotted(.node-title) {\n          font-size: 15px;\n          line-height: 24px;\n        }\n\n        .loading {\n          width: 100%;\n          z-index: 1000;\n          opacity: 0.9;\n          text-align: center;\n          align-content: space-around;\n          justify-content: center;\n          position: absolute;\n          background-color: white;\n          padding: 0;\n          margin: 0;\n          display: flex;\n          margin: 0 auto;\n          visibility: visible;\n          transition: visibility 1s, opacity 1s ease;\n        }\n        .loading elmsln-loading {\n          margin: 0 5em;\n          display: inline-flex;\n        }\n        #bodyloading {\n          height: 100%;\n          display: flex;\n          justify-content: center;\n        }\n        #bodyloading .loading,\n        #bodyloading elmsln-loading {\n          display: block;\n          height: 5em;\n        }\n        .outline-title {\n          margin-left: 0.5em;\n          max-width: 50%;\n        }\n        .content-nav-buttons {\n          top: 60%;\n          position: fixed;\n          opacity: 0.8;\n          padding: 0 0.25em;\n          height: 40%;\n          padding-top: 15%;\n          margin-top: -15%;\n        }\n        .content-nav-buttons:hover {\n          opacity: 1;\n        }\n        .prev {\n          left: 0;\n          order: 1;\n        }\n        .next {\n          right: 0;\n          transition: right 0.2s ease;\n          order: 2;\n        }\n        app-header {\n          width: 100%;\n          left: 0 !important;\n          z-index: 2 !important;\n          position: sticky !important;\n        }\n        app-header-layout {\n          margin: 0;\n          padding: 0;\n          width: 100%;\n        }\n        .content-body {\n          position: relative;\n          padding: 0;\n          margin: -3em 4em 5em 4em;\n          font-size: 1.1em;\n          transition: margin 0.4s ease, width 0.4s ease;\n        }\n\n        .content-nav-buttons paper-icon-button {\n          width: 4em;\n          height: 4em;\n          opacity: 0.4;\n          display: block;\n          visibility: visible;\n          transition: opacity 0.4s linear, visibility 1s linear,\n            height 0.4s ease, width 0.4s ease;\n        }\n        .content-nav-buttons paper-icon-button:hover {\n          opacity: 1;\n        }\n        paper-tooltip {\n          --paper-tooltip-opacity: 0.96;\n        }\n        :host([drawer-opened]) .content-nav-buttons paper-icon-button {\n          width: 2.5em;\n          height: 2.5em;\n        }\n        :host([edit-mode]) .content-nav-buttons {\n          opacity: 0;\n          pointer-events: none;\n          visibility: hidden;\n        }\n        .content-title {\n          font-size: 1.4em;\n          margin: 0;\n          padding: 0.25em 0;\n          background-color: white;\n          top: 70px;\n          position: sticky;\n        }\n        .content-current {\n          min-height: 100vh;\n        }\n        .content-next {\n          background-color: grey;\n          opacity: 0.8;\n        }\n        #header {\n          position: sticky;\n          top: 0;\n          left: 0;\n          width: 100%;\n          color: black;\n          background-color: white;\n          z-index: 2;\n          padding: 0;\n          margin: 0;\n          opacity: 1;\n          box-sizing: content-box;\n          transition: all 0.4s ease;\n        }\n        app-drawer-layout {\n          font-family: sans-serif;\n        }\n        :host {\n          --app-drawer-width: 300px;\n        }\n        :host([full-width]) {\n          --app-drawer-width: 0px;\n        }\n        :host([drawer-opened]) .prev,\n        :host([edit-mode]) .prev {\n          left: 19em;\n        }\n        .progress-container {\n          width: 90%;\n          padding: 0;\n          margin: 0 0 0 1em;\n          overflow: visible;\n        }\n\n        [main-title] {\n          font-weight: lighter;\n          padding: 0.6em 0 0 0;\n          margin: 0;\n          height: 3em;\n          overflow-y: scroll;\n        }\n        [hidden] {\n          visibility: hidden !important;\n          opacity: 0 !important;\n          display: block !important;\n        }\n        paper-search-bar[hidden] {\n          display: none !important;\n        }\n        lrnsys-progress {\n          margin-top: 0.5em;\n          padding: 0.2em 0 0 0;\n          box-sizing: content-box;\n        }\n        lrnsys-progress lrnsys-progress-circle {\n          list-style-type: none;\n          box-sizing: content-box;\n        }\n\n        #bookdrawercontent {\n          overflow: scroll;\n          visibility: visible;\n          display: block;\n          opacity: 1;\n          transition: visibility 1s linear, opacity 1s linear;\n        }\n        @media (max-width: 1200px) {\n          :host .content-body {\n            font-size: 0.94em;\n          }\n        }\n        @media (max-width: 960px) {\n          :host .content-body {\n            font-size: 0.92em;\n          }\n        }\n        @media (max-width: 820px) {\n          :host .content-body {\n            font-size: 0.9em;\n          }\n        }\n        @media (max-width: 700px) {\n          :host .content-body {\n            font-size: 0.9em;\n          }\n        }\n        @media (max-width: 639px) {\n          app-drawer-layout {\n            top: 0;\n          }\n          [main-title] {\n            font-size: 0.8em;\n          }\n          .content-title {\n            font-size: 1.1em;\n          }\n          .outline-title {\n            position: absolute !important;\n            clip: rect(1px 1px 1px 1px); /* IE6, IE7 */\n            clip: rect(1px, 1px, 1px, 1px);\n            overflow: hidden;\n            height: 1px;\n          }\n          :host .content-body {\n            margin: 0 0.5em;\n            font-size: 0.9em;\n            width: 85%;\n          }\n          .content-nav-buttons {\n            position: relative;\n            display: flex;\n            top: unset;\n            padding: 0;\n            opacity: 0.8;\n            height: unset;\n            margin: 0;\n          }\n          .content-nav {\n            width: 100%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            vertical-align: middle;\n          }\n          .next {\n            right: unset;\n          }\n        }\n        @media (max-width: 500px) {\n          [main-title] {\n            font-size: 0.7em;\n          }\n        }\n\n        :host([edit-mode]) #header {\n          background-color: var(--paper-grey-500);\n        }\n        :host([edit-mode]) #toolbar {\n          opacity: 0.5;\n        }\n        .your-progress-button {\n          padding-right: 1em;\n        }\n        #mapmenu {\n          padding: 1em 0;\n          overflow-x: hidden;\n        }\n        .course-title-drawer {\n          font-size: 1.2em;\n        }\n        /**\n         * Hide the slotted content during edit mode. This must be here to work.\n         */\n        :host([edit-mode]) #slot {\n          display: none;\n        }\n      </style>\n    </custom-style>\n    <page-scroll-position value="{{scrollPosition}}"></page-scroll-position>\n    <div id="anchor"></div>\n    \x3c!-- body where most of the heavy lifting happens --\x3e\n    <app-drawer-layout>\n      \x3c!-- LRNApp book we expect to navigate --\x3e\n      <app-drawer\n        slot="drawer"\n        id="bookdrawer"\n        opened="{{drawerOpened}}"\n        swipe-open=""\n        transition-duration="300"\n      >\n        <div\n          id="bookdrawercontent"\n          style="height: 100%; overflow: auto;"\n          hidden$="[[!bookItems]]"\n        >\n          <paper-search-bar\n            hide-filter-button=""\n            hidden$="[[!showSearch]]"\n          ></paper-search-bar>\n          <map-menu id="mapmenu" manifest="[[_routerManifest]]">\n            \x3c!-- Server response will populate this --\x3e\n          </map-menu>\n        </div>\n      </app-drawer>\n      <app-header-layout>\n        <app-header slot="header" id="header" shadow="" fixed="">\n          <div id="outlineloading" class="loading">\n            <elmsln-loading color="grey-text" size="medium"></elmsln-loading>\n            <elmsln-loading color="grey-text" size="medium"></elmsln-loading>\n            <elmsln-loading color="grey-text" size="medium"></elmsln-loading>\n          </div>\n          <app-toolbar id="toolbar" sticky="" class="tall">\n            <div style="pointer-events: auto;" class="menu-btn-wrap">\n              <paper-icon-button\n                style="pointer-events: auto;"\n                title="Content outline"\n                id="menubutton"\n                icon="menu"\n                on-tap="toggleBook"\n              ></paper-icon-button>\n            </div>\n            <div spacer="" class="outline-title">[[outlineTitle]]</div>\n            <div spacer="" main-title="" style="pointer-events: auto;">\n              <div class="progress-container">\n                <lrnsys-progress\n                  sound-finish="[[soundFinish]]"\n                  sound="[[sound]]"\n                  complete-sound="[[completeSound]]"\n                  finished-sound="[[finishedSound]]"\n                  title="The steps to complete this lesson"\n                  id="progress"\n                  active="{{activePage}}"\n                  manifest="{{manifest}}"\n                  progressive-unlock=""\n                  size="small"\n                ></lrnsys-progress>\n              </div>\n            </div>\n            \x3c!--\n              <div class="your-progress-button">\n                <lrnsys-dialog body-append modal on-tap="progressdashboardopen" header="Your progress" alt="Your progress">\n                  <span slot="button"><iron-icon icon="av:equalizer"></iron-icon></span>\n                  <div>\n                    <lrnapp-book-progress-dashboard id="progressdashboard" source-path="[[progressDashboardPath]]" route-data="[[data]]"></lrnapp-book-progress-dashboard>\n                  </div>\n                </lrnsys-dialog>\n              </div>\n            --\x3e\n          </app-toolbar>\n        </app-header>\n        <div class="content-body">\n          <div id="current" class="content-current">\n            <h2 id="currenttitle" class="content-title">[[currentTitle]]</h2>\n            <div id="bodyloading" class="loading">\n              <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n              <h3 class="loading-text">Loading content..</h3>\n            </div>\n            <div id="contentcontainer">\n              <div id="slot"><slot></slot></div>\n            </div>\n          </div>\n        </div>\n        <div class="content-nav">\n          <div class="content-nav-buttons next">\n            <paper-icon-button\n              id="next"\n              title="[[nextLabel]]"\n              on-tap="_nextBtn"\n              icon="hardware:keyboard-arrow-right"\n              data-voicecommand="next page"\n              hidden$="[[!hasNextPage]]"\n            ></paper-icon-button>\n            <paper-tooltip\n              for="next"\n              position="left"\n              offset="0"\n              animation-delay="100"\n            >\n              [[nextLabel]]\n            </paper-tooltip>\n          </div>\n          <div class="content-nav-buttons prev">\n            <paper-icon-button\n              id="prev"\n              title="[[prevLabel]]"\n              on-tap="_prevBtn"\n              icon="hardware:keyboard-arrow-left"\n              data-voicecommand="previous page"\n              hidden$="[[!hasPrevPage]]"\n            ></paper-icon-button>\n            <paper-tooltip\n              for="prev"\n              position="right"\n              offset="0"\n              animation-delay="100"\n            >\n              [[prevLabel]]\n            </paper-tooltip>\n          </div>\n        </div>\n      </app-header-layout>\n    </app-drawer-layout>\n  '],['\n    <custom-style>\n      <style is="custom-style" include="materializecss-styles">\n        :host {\n          display: block;\n          font-size: 16px;\n          box-sizing: content-box;\n        }\n        #toolbar {\n          color: gray;\n          background-color: white;\n          padding: 0 8px;\n          margin: 0;\n          height: auto;\n          box-sizing: content-box;\n          transition: all 0.4s ease;\n        }\n        paper-button {\n          padding: 0;\n          margin: 0;\n          min-width: 16px;\n        }\n        app-drawer {\n          padding: 0;\n          top: 0;\n          bottom: 0;\n          z-index: 1;\n          position: absolute;\n          box-sizing: content-box;\n          --app-drawer-content-container: {\n            background-color: #fafafa;\n            padding: 0;\n            border-right: 1px solid #c8c8c8;\n            overflow-y: scroll;\n            width: 300px !important;\n            box-shadow: 0 76px 8px 0 rgba(0, 0, 0, 0.4);\n            height: 100vh;\n            top: 0;\n            position: sticky;\n          }\n        }\n        lrndesign-stepper-button {\n          --lrndesign-stepper-btn-active: #f6f7f7;\n        }\n        lrndesign-stepper-button ::slotted(paper-button) {\n          margin: 0;\n          height: 48px;\n        }\n        lrndesign-stepper-button ::slotted(.title-container) {\n          padding: 0;\n          width: 100%;\n          right: unset;\n        }\n        lrndesign-stepper-button ::slotted(.node-title) {\n          font-size: 15px;\n          line-height: 24px;\n        }\n\n        .loading {\n          width: 100%;\n          z-index: 1000;\n          opacity: 0.9;\n          text-align: center;\n          align-content: space-around;\n          justify-content: center;\n          position: absolute;\n          background-color: white;\n          padding: 0;\n          margin: 0;\n          display: flex;\n          margin: 0 auto;\n          visibility: visible;\n          transition: visibility 1s, opacity 1s ease;\n        }\n        .loading elmsln-loading {\n          margin: 0 5em;\n          display: inline-flex;\n        }\n        #bodyloading {\n          height: 100%;\n          display: flex;\n          justify-content: center;\n        }\n        #bodyloading .loading,\n        #bodyloading elmsln-loading {\n          display: block;\n          height: 5em;\n        }\n        .outline-title {\n          margin-left: 0.5em;\n          max-width: 50%;\n        }\n        .content-nav-buttons {\n          top: 60%;\n          position: fixed;\n          opacity: 0.8;\n          padding: 0 0.25em;\n          height: 40%;\n          padding-top: 15%;\n          margin-top: -15%;\n        }\n        .content-nav-buttons:hover {\n          opacity: 1;\n        }\n        .prev {\n          left: 0;\n          order: 1;\n        }\n        .next {\n          right: 0;\n          transition: right 0.2s ease;\n          order: 2;\n        }\n        app-header {\n          width: 100%;\n          left: 0 !important;\n          z-index: 2 !important;\n          position: sticky !important;\n        }\n        app-header-layout {\n          margin: 0;\n          padding: 0;\n          width: 100%;\n        }\n        .content-body {\n          position: relative;\n          padding: 0;\n          margin: -3em 4em 5em 4em;\n          font-size: 1.1em;\n          transition: margin 0.4s ease, width 0.4s ease;\n        }\n\n        .content-nav-buttons paper-icon-button {\n          width: 4em;\n          height: 4em;\n          opacity: 0.4;\n          display: block;\n          visibility: visible;\n          transition: opacity 0.4s linear, visibility 1s linear,\n            height 0.4s ease, width 0.4s ease;\n        }\n        .content-nav-buttons paper-icon-button:hover {\n          opacity: 1;\n        }\n        paper-tooltip {\n          --paper-tooltip-opacity: 0.96;\n        }\n        :host([drawer-opened]) .content-nav-buttons paper-icon-button {\n          width: 2.5em;\n          height: 2.5em;\n        }\n        :host([edit-mode]) .content-nav-buttons {\n          opacity: 0;\n          pointer-events: none;\n          visibility: hidden;\n        }\n        .content-title {\n          font-size: 1.4em;\n          margin: 0;\n          padding: 0.25em 0;\n          background-color: white;\n          top: 70px;\n          position: sticky;\n        }\n        .content-current {\n          min-height: 100vh;\n        }\n        .content-next {\n          background-color: grey;\n          opacity: 0.8;\n        }\n        #header {\n          position: sticky;\n          top: 0;\n          left: 0;\n          width: 100%;\n          color: black;\n          background-color: white;\n          z-index: 2;\n          padding: 0;\n          margin: 0;\n          opacity: 1;\n          box-sizing: content-box;\n          transition: all 0.4s ease;\n        }\n        app-drawer-layout {\n          font-family: sans-serif;\n        }\n        :host {\n          --app-drawer-width: 300px;\n        }\n        :host([full-width]) {\n          --app-drawer-width: 0px;\n        }\n        :host([drawer-opened]) .prev,\n        :host([edit-mode]) .prev {\n          left: 19em;\n        }\n        .progress-container {\n          width: 90%;\n          padding: 0;\n          margin: 0 0 0 1em;\n          overflow: visible;\n        }\n\n        [main-title] {\n          font-weight: lighter;\n          padding: 0.6em 0 0 0;\n          margin: 0;\n          height: 3em;\n          overflow-y: scroll;\n        }\n        [hidden] {\n          visibility: hidden !important;\n          opacity: 0 !important;\n          display: block !important;\n        }\n        paper-search-bar[hidden] {\n          display: none !important;\n        }\n        lrnsys-progress {\n          margin-top: 0.5em;\n          padding: 0.2em 0 0 0;\n          box-sizing: content-box;\n        }\n        lrnsys-progress lrnsys-progress-circle {\n          list-style-type: none;\n          box-sizing: content-box;\n        }\n\n        #bookdrawercontent {\n          overflow: scroll;\n          visibility: visible;\n          display: block;\n          opacity: 1;\n          transition: visibility 1s linear, opacity 1s linear;\n        }\n        @media (max-width: 1200px) {\n          :host .content-body {\n            font-size: 0.94em;\n          }\n        }\n        @media (max-width: 960px) {\n          :host .content-body {\n            font-size: 0.92em;\n          }\n        }\n        @media (max-width: 820px) {\n          :host .content-body {\n            font-size: 0.9em;\n          }\n        }\n        @media (max-width: 700px) {\n          :host .content-body {\n            font-size: 0.9em;\n          }\n        }\n        @media (max-width: 639px) {\n          app-drawer-layout {\n            top: 0;\n          }\n          [main-title] {\n            font-size: 0.8em;\n          }\n          .content-title {\n            font-size: 1.1em;\n          }\n          .outline-title {\n            position: absolute !important;\n            clip: rect(1px 1px 1px 1px); /* IE6, IE7 */\n            clip: rect(1px, 1px, 1px, 1px);\n            overflow: hidden;\n            height: 1px;\n          }\n          :host .content-body {\n            margin: 0 0.5em;\n            font-size: 0.9em;\n            width: 85%;\n          }\n          .content-nav-buttons {\n            position: relative;\n            display: flex;\n            top: unset;\n            padding: 0;\n            opacity: 0.8;\n            height: unset;\n            margin: 0;\n          }\n          .content-nav {\n            width: 100%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            vertical-align: middle;\n          }\n          .next {\n            right: unset;\n          }\n        }\n        @media (max-width: 500px) {\n          [main-title] {\n            font-size: 0.7em;\n          }\n        }\n\n        :host([edit-mode]) #header {\n          background-color: var(--paper-grey-500);\n        }\n        :host([edit-mode]) #toolbar {\n          opacity: 0.5;\n        }\n        .your-progress-button {\n          padding-right: 1em;\n        }\n        #mapmenu {\n          padding: 1em 0;\n          overflow-x: hidden;\n        }\n        .course-title-drawer {\n          font-size: 1.2em;\n        }\n        /**\n         * Hide the slotted content during edit mode. This must be here to work.\n         */\n        :host([edit-mode]) #slot {\n          display: none;\n        }\n      </style>\n    </custom-style>\n    <page-scroll-position value="{{scrollPosition}}"></page-scroll-position>\n    <div id="anchor"></div>\n    \x3c!-- body where most of the heavy lifting happens --\x3e\n    <app-drawer-layout>\n      \x3c!-- LRNApp book we expect to navigate --\x3e\n      <app-drawer\n        slot="drawer"\n        id="bookdrawer"\n        opened="{{drawerOpened}}"\n        swipe-open=""\n        transition-duration="300"\n      >\n        <div\n          id="bookdrawercontent"\n          style="height: 100%; overflow: auto;"\n          hidden\\$="[[!bookItems]]"\n        >\n          <paper-search-bar\n            hide-filter-button=""\n            hidden\\$="[[!showSearch]]"\n          ></paper-search-bar>\n          <map-menu id="mapmenu" manifest="[[_routerManifest]]">\n            \x3c!-- Server response will populate this --\x3e\n          </map-menu>\n        </div>\n      </app-drawer>\n      <app-header-layout>\n        <app-header slot="header" id="header" shadow="" fixed="">\n          <div id="outlineloading" class="loading">\n            <elmsln-loading color="grey-text" size="medium"></elmsln-loading>\n            <elmsln-loading color="grey-text" size="medium"></elmsln-loading>\n            <elmsln-loading color="grey-text" size="medium"></elmsln-loading>\n          </div>\n          <app-toolbar id="toolbar" sticky="" class="tall">\n            <div style="pointer-events: auto;" class="menu-btn-wrap">\n              <paper-icon-button\n                style="pointer-events: auto;"\n                title="Content outline"\n                id="menubutton"\n                icon="menu"\n                on-tap="toggleBook"\n              ></paper-icon-button>\n            </div>\n            <div spacer="" class="outline-title">[[outlineTitle]]</div>\n            <div spacer="" main-title="" style="pointer-events: auto;">\n              <div class="progress-container">\n                <lrnsys-progress\n                  sound-finish="[[soundFinish]]"\n                  sound="[[sound]]"\n                  complete-sound="[[completeSound]]"\n                  finished-sound="[[finishedSound]]"\n                  title="The steps to complete this lesson"\n                  id="progress"\n                  active="{{activePage}}"\n                  manifest="{{manifest}}"\n                  progressive-unlock=""\n                  size="small"\n                ></lrnsys-progress>\n              </div>\n            </div>\n            \x3c!--\n              <div class="your-progress-button">\n                <lrnsys-dialog body-append modal on-tap="progressdashboardopen" header="Your progress" alt="Your progress">\n                  <span slot="button"><iron-icon icon="av:equalizer"></iron-icon></span>\n                  <div>\n                    <lrnapp-book-progress-dashboard id="progressdashboard" source-path="[[progressDashboardPath]]" route-data="[[data]]"></lrnapp-book-progress-dashboard>\n                  </div>\n                </lrnsys-dialog>\n              </div>\n            --\x3e\n          </app-toolbar>\n        </app-header>\n        <div class="content-body">\n          <div id="current" class="content-current">\n            <h2 id="currenttitle" class="content-title">[[currentTitle]]</h2>\n            <div id="bodyloading" class="loading">\n              <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n              <h3 class="loading-text">Loading content..</h3>\n            </div>\n            <div id="contentcontainer">\n              <div id="slot"><slot></slot></div>\n            </div>\n          </div>\n        </div>\n        <div class="content-nav">\n          <div class="content-nav-buttons next">\n            <paper-icon-button\n              id="next"\n              title="[[nextLabel]]"\n              on-tap="_nextBtn"\n              icon="hardware:keyboard-arrow-right"\n              data-voicecommand="next page"\n              hidden\\$="[[!hasNextPage]]"\n            ></paper-icon-button>\n            <paper-tooltip\n              for="next"\n              position="left"\n              offset="0"\n              animation-delay="100"\n            >\n              [[nextLabel]]\n            </paper-tooltip>\n          </div>\n          <div class="content-nav-buttons prev">\n            <paper-icon-button\n              id="prev"\n              title="[[prevLabel]]"\n              on-tap="_prevBtn"\n              icon="hardware:keyboard-arrow-left"\n              data-voicecommand="previous page"\n              hidden\\$="[[!hasPrevPage]]"\n            ></paper-icon-button>\n            <paper-tooltip\n              for="prev"\n              position="right"\n              offset="0"\n              animation-delay="100"\n            >\n              [[prevLabel]]\n            </paper-tooltip>\n          </div>\n        </div>\n      </app-header-layout>\n    </app-drawer-layout>\n  ']);return Mn=function(){return n},n}function Vn(){var n=Dn(['\n    <custom-style>\n      <style is="custom-style" include="materializecss-styles">\n        :host {\n          display: block;\n          margin: 0 2em;\n        }\n        .loading {\n          width: 100%;\n          z-index: 1000;\n          opacity: 0.8;\n          text-align: center;\n          align-content: center;\n          justify-content: center;\n          height: 100vh;\n          position: absolute;\n          background-color: white;\n        }\n        vaadin-grid#material {\n          height: 75vh;\n          font-family: Roboto, sans-serif;\n          --divider-color: rgba(0, 0, 0, var(--dark-divider-opacity));\n\n          --vaadin-grid-cell: {\n            padding: 0;\n          }\n\n          --vaadin-grid-header-cell: {\n            height: 3.5em;\n            color: rgba(0, 0, 0, var(--dark-secondary-opacity));\n            font-size: 1em;\n          }\n\n          --vaadin-grid-body-cell: {\n            height: 3em;\n            color: rgba(0, 0, 0, var(--dark-primary-opacity));\n            font-size: 0.8em;\n          }\n\n          --vaadin-grid-body-row-hover-cell: {\n            background-color: var(--paper-grey-200);\n          }\n\n          --vaadin-grid-body-row-selected-cell: {\n            background-color: var(--paper-grey-100);\n          }\n\n          --vaadin-grid-focused-cell: {\n            box-shadow: none;\n            font-weight: bold;\n          }\n        }\n\n        vaadin-grid#material .cell {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          padding-right: 56px;\n        }\n\n        vaadin-grid#material .cell.last {\n          padding-right: 24px;\n        }\n\n        vaadin-grid#material .cell.numeric {\n          text-align: right;\n        }\n\n        vaadin-grid#material paper-checkbox {\n          --primary-color: var(--paper-indigo-500);\n          margin: 0 24px;\n        }\n\n        vaadin-grid#material vaadin-grid-sorter {\n          --vaadin-grid-sorter-arrow: {\n            display: none !important;\n          }\n        }\n\n        vaadin-grid#material vaadin-grid-sorter .cell {\n          flex: 1;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        vaadin-grid#material vaadin-grid-sorter iron-icon {\n          transform: scale(0.8);\n        }\n\n        vaadin-grid#material vaadin-grid-sorter:not([direction]) iron-icon {\n          color: rgba(0, 0, 0, var(--dark-disabled-opacity));\n        }\n\n        vaadin-grid#material vaadin-grid-sorter[direction] {\n          color: rgba(0, 0, 0, var(--dark-primary-opacity));\n        }\n\n        vaadin-grid#material vaadin-grid-sorter[direction="desc"] iron-icon {\n          transform: scale(0.8) rotate(180deg);\n        }\n        vaadin-grid-sorter {\n          text-align: center;\n        }\n        lrndesign-avatar {\n          display: inline-flex;\n        }\n        lrnsys-dialog {\n          display: inline-flex;\n        }\n        lrnsys-dialog #dialog-trigger span {\n          pointer-events: none;\n        }\n        .avatar-name {\n          line-height: 2em;\n          margin: 0;\n          display: inline-block;\n        }\n        .listing-select {\n          display: block;\n          height: 100%;\n          margin: 0;\n          width: 100%;\n        }\n      </style>\n    </custom-style>\n    <iron-ajax\n      auto\n      url="[[sourcePath]]"\n      params=\'{"return": "courses"}\'\n      handle-as="json"\n      on-response="handleResponse"\n      last-response="{{queryResponse}}"\n    ></iron-ajax>\n    <div id="loading" class="loading">\n      <h3>Loading..</h3>\n      <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n    </div>\n    <vaadin-grid\n      column-reordering-allowed\n      id="material"\n      aria-label="Course list"\n      items="[[_toArray(canvasCourses)]]"\n    >\n      <vaadin-grid-column width="50px" flex-grow="0">\n        <template class="header"\n          >#</template\n        >\n        <template\n          >[[index]]</template\n        >\n        <template class="footer"\n          >#</template\n        >\n      </vaadin-grid-column>\n      <vaadin-grid-column width="200px" flex-grow="0" resizable>\n        <template class="header">\n          <vaadin-grid-sorter path="term">Semester</vaadin-grid-sorter>\n        </template>\n        <template>\n          [[item.term]]\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Semester"\n            path="term"\n            value="[[_filterTerm]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Semester"\n              value="{{_filterTerm::input}}"\n              focus-target\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable>\n        <template class="header">\n          <vaadin-grid-sorter path="name">Name</vaadin-grid-sorter>\n        </template>\n        <template\n          >[[item.name]]</template\n        >\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Course"\n            path="name"\n            value="[[_filterCourse]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Course"\n              value="{{_filterCourse::input}}"\n              focus-target\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable>\n        <template class="header">\n          <vaadin-grid-sorter path="sis_course_id">SIS</vaadin-grid-sorter>\n        </template>\n        <template>\n          [[item.sis_course_id]]\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Student information system ID"\n            path="sis_course_id"\n            value="[[_filterSIS]]"\n          >\n            <paper-input\n              slot="filter"\n              label="SIS"\n              value="{{_filterSIS::input}}"\n              focus-target\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column width="100px" flex-grow="0" resizable>\n        <template class="header">\n          <vaadin-grid-sorter path="student_count">Students</vaadin-grid-sorter>\n        </template>\n        <template\n          >[[item.student_count]]</template\n        >\n      </vaadin-grid-column>\n      <vaadin-grid-column width="100px" flex-grow="0" resizable>\n        <template class="header">\n          <vaadin-grid-sorter path="workflow_state">State</vaadin-grid-sorter>\n        </template>\n        <template\n          >[[item.workflow_state]]</template\n        >\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Workflow state"\n            path="workflow_state"\n            value="[[_filterWorkflow]]"\n          >\n            <paper-input\n              slot="filter"\n              label="State"\n              value="{{_filterWorkflow::input}}"\n              focus-target\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column>\n        <template class="header"\n          >ELMSLN Course</template\n        >\n        <template>\n          <select\n            name$="elmsln--map--:key:[[item.sis_course_id]]:key:[[item.term]]:key:[[item.start]]:key:[[item.end]]"\n            class="listing-select"\n            value="{{item.elmslnCourse::input}}"\n          >\n            <template is="dom-repeat" items="[[elmslnCourses]]" as="elmsCourse">\n              <option value="[[elmsCourse.machineName]]"\n                >[[elmsCourse.name]] ([[elmsCourse.machineName]])</option\n              >\n            </template>\n          </select>\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Course"\n            path="elmslnCourse"\n            value="[[_filterELMSLNCourse]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Course"\n              value="{{_filterELMSLNCourse::input}}"\n              focus-target\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column width="100px" flex-grow="0">\n        <template class="header"></template>\n        <template>\n          <paper-button\n            raised\n            on-click="_triggerDialog"\n            id$="{{item.sis_course_id}}"\n            >Details</paper-button\n          >\n        </template>\n        <template class="footer"></template>\n      </vaadin-grid-column>\n    </vaadin-grid>\n    <iron-ajax\n      id="request"\n      url="[[sourcePath]]"\n      params=\'{"return": "users"}\'\n      handle-as="json"\n      on-response="handleRosterResponse"\n      last-response="{{queryResponse}}"\n    ></iron-ajax>\n    <lrnsys-dialog\n      tabindex="-1"\n      id="details-dialog"\n      body-append\n      header="{{activeCourse.name}}"\n    >\n      <div slot="content">\n        <template is="dom-if" if="{{!roster}}">\n          <div id="loadingRoster" class="loading">\n            <h3>Loading..</h3>\n            <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n          </div>\n        </template>\n      </div>\n      <div slot="header">\n        <template is="dom-if" if="{{roster}}">\n          <template is="dom-if" if="{{activeCourse.image}}">\n            <iron-image\n              style="width:100%; height:200px; background-color: lightgray;"\n              sizing="cover"\n              preload\n              fade\n              src$="{{activeCourse.image}}"\n            ></iron-image>\n          </template>\n          <span class="heading">\n            <span>Student count: {{activeCourse.student_count}}</span>\n            <span>SIS ID: {{activeCourse.sis_course_id}}</span>\n            <span>Term: {{activeCourse.term}}</span>\n            <span>Workflow: {{activeCourse.workflow_state}}</span>\n          </span>\n        </template>\n      </div>\n      <div id="loadingContent" slot="content">\n        <template is="dom-repeat" items="[[_toArray(roster)]]" as="roleList">\n          <h2>{{roleList.role}}s</h2>\n          <template\n            is="dom-repeat"\n            items="[[_toArray(roleList.users)]]"\n            as="user"\n          >\n            <div class="avatar-name" id$="user-{{user.id}}">\n              <lrndesign-avatar\n                label$="{{user.name}}"\n                src$="{{user.picture}}"\n              ></lrndesign-avatar>\n            </div>\n            <paper-tooltip for$="user-{{user.id}}">{{user.name}}</paper-tooltip>\n          </template>\n        </template>\n      </div>\n    </lrnsys-dialog>\n  ']);return Vn=function(){return n},n}function Hn(){var n=Dn(['\n    <style include="materializecss-styles">\n      :host {\n        display: inline-flex;\n      }\n      :host([size="micro"]) {\n        transform: scale(0.5);\n      }\n      :host([size="small"]) {\n        transform: scale(0.8);\n      }\n      paper-card {\n        border-radius: 4px;\n        margin: 0;\n        width: 100%;\n      }\n      .card-actions {\n        background-color: #f5f5f5;\n        border-radius: 0 0 4px 4px;\n        padding: 0 8px;\n      }\n      .card-actions .card-action-details {\n        display: inline-block;\n        vertical-align: middle;\n        vertical-align: -webkit-baseline-middle;\n        width: 80%;\n      }\n      #avatar {\n        display: inline-block;\n        vertical-align: text-top;\n        transform: scale(0.8);\n      }\n      .card-control-height {\n        height: 240px;\n      }\n      [elevation="0"] {\n        border: solid 1px #eeeeee;\n      }\n      .text-right {\n        text-align: right;\n      }\n      .text-left {\n        text-align: left;\n      }\n      .name,\n      .title {\n        color: #222;\n        font-size: 14px;\n        font-weight: 600;\n        line-height: 20px;\n        padding: 0 12px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin-top: 8px;\n      }\n      .title {\n        font-size: 12px;\n        font-weight: 400;\n      }\n      .divider {\n        height: 1px;\n        width: 100%;\n        background: #efefef;\n      }\n      .course-icon {\n        --iron-icon-height: 100%;\n        --iron-icon-width: 100%;\n        overflow: hidden;\n        color: grey;\n      }\n      .course-icon:hover,\n      .course-icon:focus {\n        color: black;\n      }\n      .center {\n        margin: auto;\n        width: 80%;\n        padding: 16px;\n      }\n      .link {\n        font-size: 16px;\n        line-height: 16px;\n      }\n      .course-info {\n        width: 100%;\n      }\n      .course-preview {\n        height: 160px;\n      }\n      lrndesign-avatar {\n        margin: -16px 8px 0 0;\n        position: absolute;\n        right: 0;\n      }\n      .card-content {\n        padding: 0;\n        margin: 0;\n        overflow: hidden;\n      }\n      .inline {\n        display: inline;\n      }\n    </style>\n    <paper-card elevation="[[elevation]]">\n      <div class="card-content card-control-height card-control-center">\n        <div class="course-preview">\n          <iron-icon\n            class="course-icon"\n            icon="[[icon]]"\n            hidden$="[[!icon]]"\n          ></iron-icon>\n          <iron-image\n            style="width:100%; height:100%; background-color: lightgray;"\n            sizing="cover"\n            preload=""\n            fade=""\n            src="[[image]]"\n            hidden$="[[!image]]"\n          ></iron-image>\n        </div>\n        <lrndesign-avatar\n          label="[[name]]"\n          jdenticon=""\n          color="[[color]] darken-4"\n        >\n        </lrndesign-avatar>\n        <div class="course-info">\n          <div class="divider"></div>\n          <div class="name">[[name]]</div>\n          <div class="title">[[title]]</div>\n        </div>\n      </div>\n      <div class="card-actions" hidden="">\n        <div class="card-action-details"></div>\n      </div>\n    </paper-card>\n  '],['\n    <style include="materializecss-styles">\n      :host {\n        display: inline-flex;\n      }\n      :host([size="micro"]) {\n        transform: scale(0.5);\n      }\n      :host([size="small"]) {\n        transform: scale(0.8);\n      }\n      paper-card {\n        border-radius: 4px;\n        margin: 0;\n        width: 100%;\n      }\n      .card-actions {\n        background-color: #f5f5f5;\n        border-radius: 0 0 4px 4px;\n        padding: 0 8px;\n      }\n      .card-actions .card-action-details {\n        display: inline-block;\n        vertical-align: middle;\n        vertical-align: -webkit-baseline-middle;\n        width: 80%;\n      }\n      #avatar {\n        display: inline-block;\n        vertical-align: text-top;\n        transform: scale(0.8);\n      }\n      .card-control-height {\n        height: 240px;\n      }\n      [elevation="0"] {\n        border: solid 1px #eeeeee;\n      }\n      .text-right {\n        text-align: right;\n      }\n      .text-left {\n        text-align: left;\n      }\n      .name,\n      .title {\n        color: #222;\n        font-size: 14px;\n        font-weight: 600;\n        line-height: 20px;\n        padding: 0 12px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin-top: 8px;\n      }\n      .title {\n        font-size: 12px;\n        font-weight: 400;\n      }\n      .divider {\n        height: 1px;\n        width: 100%;\n        background: #efefef;\n      }\n      .course-icon {\n        --iron-icon-height: 100%;\n        --iron-icon-width: 100%;\n        overflow: hidden;\n        color: grey;\n      }\n      .course-icon:hover,\n      .course-icon:focus {\n        color: black;\n      }\n      .center {\n        margin: auto;\n        width: 80%;\n        padding: 16px;\n      }\n      .link {\n        font-size: 16px;\n        line-height: 16px;\n      }\n      .course-info {\n        width: 100%;\n      }\n      .course-preview {\n        height: 160px;\n      }\n      lrndesign-avatar {\n        margin: -16px 8px 0 0;\n        position: absolute;\n        right: 0;\n      }\n      .card-content {\n        padding: 0;\n        margin: 0;\n        overflow: hidden;\n      }\n      .inline {\n        display: inline;\n      }\n    </style>\n    <paper-card elevation="[[elevation]]">\n      <div class="card-content card-control-height card-control-center">\n        <div class="course-preview">\n          <iron-icon\n            class="course-icon"\n            icon="[[icon]]"\n            hidden\\$="[[!icon]]"\n          ></iron-icon>\n          <iron-image\n            style="width:100%; height:100%; background-color: lightgray;"\n            sizing="cover"\n            preload=""\n            fade=""\n            src="[[image]]"\n            hidden\\$="[[!image]]"\n          ></iron-image>\n        </div>\n        <lrndesign-avatar\n          label="[[name]]"\n          jdenticon=""\n          color="[[color]] darken-4"\n        >\n        </lrndesign-avatar>\n        <div class="course-info">\n          <div class="divider"></div>\n          <div class="name">[[name]]</div>\n          <div class="title">[[title]]</div>\n        </div>\n      </div>\n      <div class="card-actions" hidden="">\n        <div class="card-action-details"></div>\n      </div>\n    </paper-card>\n  ']);return Hn=function(){return n},n}function Wn(){var n=Dn(['\n    <style include="materializecss-styles">\n      :host {\n        display: block;\n        align-content: center;\n      }\n      #loading {\n        width: 100%;\n        z-index: 1000;\n        opacity: 0.9;\n        padding: 4em 0 0 0;\n        text-align: center;\n        align-content: center;\n        justify-content: center;\n        height: 100vh;\n        position: absolute;\n        background-color: white;\n      }\n      iron-selector {\n        line-height: 1em;\n      }\n      iron-selector lrnsys-button {\n        display: inline-flex;\n      }\n      paper-button.coursecard-wrapper {\n        margin: 0;\n        padding: 0;\n      }\n      paper-button.coursecard-wrapper:focus {\n        outline: blue solid 1px;\n      }\n      lrnapp-cis-course-card {\n        padding: 0;\n        margin: 1em;\n        height: 15em;\n        width: 14em;\n      }\n      .courses-grid {\n        margin: 0 auto;\n        width: 95%;\n      }\n      .iron-selected .display-mode {\n        background-color: #ff6f00;\n        color: white;\n      }\n      .iron-list-container {\n        display: flex;\n        flex-direction: column;\n        min-height: 50vh;\n      }\n      iron-list {\n        flex: 1 1 auto;\n      }\n      .dialog-header {\n        height: unset !important;\n        padding: 0 !important;\n      }\n      .course-dialog-heading.lrndesign-course-banner {\n        font-size: 1em;\n        height: 4em !important;\n      }\n      #coursedetails {\n        margin-top: 1em;\n      }\n      #confirm {\n        max-width: 400px;\n        max-height: 300px;\n      }\n      .buttons {\n        text-align: center;\n      }\n      .buttons paper-button {\n        width: 10em;\n        height: 4em;\n      }\n      .dialog-body {\n        padding: 1em;\n        font-size: 1.8em;\n        text-align: center;\n        margin: 0 auto;\n      }\n      .dialog-body lrn-icon.service-confirm-icon {\n        width: 5em;\n        height: 5em;\n      }\n      .dialog-body responsive-grid-col {\n        height: 4.5em;\n      }\n      .dialog-body lrndesign-avatar.service-confirm-icon {\n        display: inline-block;\n      }\n    </style>\n    <iron-ajax\n      auto=""\n      url="[[sourcePath]]"\n      params=""\n      handle-as="json"\n      last-response="{{_cisResponse}}"\n      on-response="_handleResponse"\n    ></iron-ajax>\n    <iron-ajax\n      url="[[courseDataPath]]"\n      params="[[_courseDataParams]]"\n      handle-as="json"\n      id="courserequest"\n      last-response="{{_courseResponse}}"\n      on-response="_handleCourseResponse"\n    ></iron-ajax>\n    <iron-ajax\n      url="[[makeServicePath]]"\n      params=""\n      handle-as="json"\n      id="makeservice"\n      last-response="{{_makeServiceResponse}}"\n      on-response="_handleMakeServiceResponse"\n    ></iron-ajax>\n    <div id="loading">\n      <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n      <h3>Loading..</h3>\n    </div>\n    <app-toolbar class="">\n      <span main-title=""></span>\n      <span\n        top-item=""\n        style="text-align:right;font-size:.5em;padding-right:1em;"\n        >Displaying [[courses.length]] of [[originalCourses.length]]</span\n      >\n      <paper-dropdown-menu label="Course" hidden$="[[!courses]]">\n        <paper-listbox\n          slot="dropdown-content"\n          class="dropdown-content"\n          selected="{{queryParams.course}}"\n          attr-for-selected="item-id"\n        >\n          <paper-item>-- Any --</paper-item>\n          <template\n            is="dom-repeat"\n            items="[[_toArray(originalCourses)]]"\n            as="course"\n          >\n            <paper-item item-id="[[course.id]]"\n              >[[course.attributes.name]]</paper-item\n            >\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n      <paper-dropdown-menu label="Program" hidden$="[[!programs]]">\n        <paper-listbox\n          slot="dropdown-content"\n          class="dropdown-content"\n          selected="{{queryParams.program}}"\n          attr-for-selected="item-id"\n        >\n          <paper-item>-- Any --</paper-item>\n          <template is="dom-repeat" items="[[_toArray(programs)]]" as="program">\n            <paper-item item-id="[[program.id]]"\n              >[[program.attributes.name]]</paper-item\n            >\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n      <paper-dropdown-menu label="Academic home" hidden$="[[!academics]]">\n        <paper-listbox\n          slot="dropdown-content"\n          class="dropdown-content"\n          selected="{{queryParams.academic}}"\n          attr-for-selected="item-id"\n        >\n          <paper-item>-- Any --</paper-item>\n          <template\n            is="dom-repeat"\n            items="[[_toArray(academics)]]"\n            as="academic"\n          >\n            <paper-item item-id="[[academic.id]]"\n              >[[academic.attributes.name]]</paper-item\n            >\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n    </app-toolbar>\n    <div class="courses-grid">\n      <iron-pages\n        selected="{{data.page}}"\n        attr-for-selected="name"\n        fallback-selection="courses"\n        role="main"\n      >\n        <div class="iron-list-container" name="courses">\n          <iron-list id="ironlist" items="[[courses]]" as="course" grid="">\n            <template>\n              <paper-button\n                data-course-id$="[[course.id]]"\n                class="coursecard-wrapper"\n                on-tap="_loadCourseUrl"\n              >\n                <lrnapp-cis-course-card\n                  elevation="2"\n                  data-course-id$="[[course.id]]"\n                  name="[[course.attributes.name]]"\n                  image="[[course.attributes.image]]"\n                  title="[[course.attributes.title]]"\n                  color="[[course.attributes.color]]"\n                >\n                </lrnapp-cis-course-card>\n              </paper-button>\n            </template>\n          </iron-list>\n        </div>\n      </iron-pages>\n    </div>\n    <app-location\n      route="{{route}}"\n      query-params="{{queryParams}}"\n    ></app-location>\n    <app-route\n      route="{{route}}"\n      pattern="[[endPoint]]/:page"\n      data="{{data}}"\n      tail="{{tail}}"\n      query-params="{{queryParams}}"\n    >\n    </app-route>\n    <lrnsys-dialog tabindex="-1" id="dialog" disable-auto-focus="">\n      <div slot="content">\n        <div id="loadingCourse" class="loading">\n          <h3>Loading..</h3>\n          <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n        </div>\n      </div>\n      <div class="dialog-header" slot="header">\n        <lrndesign-course-banner\n          image="[[activeCourse.attributes.image]]"\n          name="[[activeCourse.attributes.name]]"\n          title="[[activeCourse.attributes.title]]"\n          color="[[activeCourse.attributes.color]] darken-4"\n        >\n        </lrndesign-course-banner>\n      </div>\n      <div id="coursedetails" slot="content">\n        <responsive-grid-row gutter="5">\n          <responsive-grid-col xl="6" lg="6" md="6" sm="12" xs="12">\n            <div class="column">\n              <h4>Details</h4>\n              <ul>\n                <li\n                  hidden$="[[!activeCourse.relationships.academic.attributes.name]]"\n                >\n                  Academic unit:\n                  [[activeCourse.relationships.academic.attributes.name]]\n                </li>\n                <li\n                  hidden$="[[!activeCourse.relationships.program.attributes.name]]"\n                >\n                  Program:\n                  [[activeCourse.relationships.program.attributes.name]]\n                </li>\n              </ul>\n              <h4>Learning Network</h4>\n              <template\n                is="dom-repeat"\n                items="[[activeCourse.topology.Network]]"\n                as="service"\n              >\n                <template is="dom-if" if="[[!service._exists]]">\n                  <lrnsys-button\n                    raised=""\n                    on-tap="_makeService"\n                    color="grey lighten-4"\n                    icon-class="grey lighten-5"\n                    data-machine-name$="[[service.machine_name]]"\n                  >\n                    <lrn-icon\n                      data-machine-name$="[[service.machine_name]]"\n                      icon="[[service.icon]]"\n                      class="elmsln-hover-icon"\n                    ></lrn-icon>\n                    <span data-machine-name$="[[service.machine_name]]"\n                      >Make the [[service.title]] service</span\n                    >\n                  </lrnsys-button>\n                </template>\n                <template is="dom-if" if="[[service._exists]]">\n                  <lrnsys-button\n                    raised=""\n                    href="[[service.url]]"\n                    hover-class="[[service.color]] lighten-4"\n                  >\n                    <lrn-icon\n                      icon="[[service.icon]]"\n                      class="elmsln-hover-icon"\n                    ></lrn-icon>\n                    <span>[[service.title]]</span>\n                  </lrnsys-button>\n                </template>\n              </template>\n            </div>\n          </responsive-grid-col>\n          <responsive-grid-col xl="6" lg="6" md="6" sm="12" xs="12">\n            <div class="column">\n              <h4>Operations</h4>\n              <template is="dom-if" if="[[activeCourse.meta.canUpdate]]">\n                <lrnsys-button\n                  raised=""\n                  href="[[activeCourse.uris.edit]]"\n                  label="Edit"\n                  hover-class="green lighten-4"\n                  icon="create"\n                ></lrnsys-button>\n                <lrnsys-button\n                  raised=""\n                  href="[[activeCourse.uris.addOffering]]"\n                  label="Add offering"\n                  hover-class="amber lighten-3"\n                  icon="icons:add"\n                ></lrnsys-button>\n              </template>\n              <lrnsys-button\n                raised=""\n                href="[[activeCourse.uris.offerings]]"\n                label="Offerings"\n                hover-class="amber lighten-4"\n                icon="social:people"\n              ></lrnsys-button>\n              <lrnsys-button\n                raised=""\n                href="[[activeCourse.uris.sync]]"\n                label="Sync Roster"\n                hover-class="amber lighten-4"\n                icon="notification:sync"\n              ></lrnsys-button>\n              <lrnsys-button\n                raised=""\n                href="[[activeCourse.uris.uri]]"\n                label="Course page (legacy)"\n                hover-class="brown lighten-4"\n                icon="delete"\n              ></lrnsys-button>\n              <template is="dom-if" if="[[activeCourse.meta.canDelete]]">\n                <div\n                  style="padding: 1em;width: 100%;margin: .5em 0;display: block;background-color:#FF2222;color:#ffffff;border: 1px solid #222222;"\n                >\n                  <h4>Danger zone</h4>\n                  <lrnsys-button\n                    raised=""\n                    href="[[activeCourse.uris.delete]]"\n                    label="Delete"\n                    hover-class="red lighten-1"\n                    color="red lighten-3"\n                    icon="delete"\n                  ></lrnsys-button>\n                </div>\n              </template>\n            </div>\n          </responsive-grid-col>\n        </responsive-grid-row>\n        <p>[[activeCourse.attributes.body]]</p>\n      </div>\n    </lrnsys-dialog>\n    <lrnsys-dialog id="confirm">\n      <div class="dialog-header" slot="header">\n        Add this to the\n        <strong>[[activeCourse.attributes.title]]</strong> network?\n      </div>\n      <div class="dialog-body">\n        <responsive-grid-row gutter="5">\n          <responsive-grid-col\n            xl="3"\n            lg="3"\n            md="3"\n            sm="3"\n            xs="3"\n          ></responsive-grid-col>\n          <responsive-grid-col xl="1" lg="1" md="1" sm="1" xs="1"\n            >Add</responsive-grid-col\n          >\n          <responsive-grid-col xl="2" lg="2" md="2" sm="2" xs="2"\n            ><lrn-icon\n              icon="[[_activeService.icon]]"\n              class$="[[_activeService.color]]-text elmsln-hover-icon service-confirm-icon"\n            ></lrn-icon\n          ></responsive-grid-col>\n          <responsive-grid-col xl="3" lg="3" md="3" sm="3" xs="3"\n            ><strong>[[_activeService.title]]</strong></responsive-grid-col\n          >\n          <responsive-grid-col\n            xl="3"\n            lg="3"\n            md="3"\n            sm="3"\n            xs="3"\n          ></responsive-grid-col>\n        </responsive-grid-row>\n        <responsive-grid-row gutter="5">\n          <responsive-grid-col\n            xl="3"\n            lg="3"\n            md="3"\n            sm="3"\n            xs="3"\n          ></responsive-grid-col>\n          <responsive-grid-col xl="1" lg="1" md="1" sm="1" xs="1"\n            >To</responsive-grid-col\n          >\n          <responsive-grid-col xl="2" lg="2" md="2" sm="2" xs="2"\n            ><lrndesign-avatar\n              class="service-confirm-icon"\n              label="[[activeCourse.attributes.name]]"\n              jdenticon=""\n              color="[[activeCourse.attributes.color]] darken-4"\n            >\n            </lrndesign-avatar\n          ></responsive-grid-col>\n          <responsive-grid-col xl="3" lg="3" md="3" sm="3" xs="3"\n            ><strong\n              >[[activeCourse.attributes.title]]</strong\n            ></responsive-grid-col\n          >\n          <responsive-grid-col\n            xl="3"\n            lg="3"\n            md="3"\n            sm="3"\n            xs="3"\n          ></responsive-grid-col>\n        </responsive-grid-row>\n        <div style="margin-top:1em;">This will take a few moments.</div>\n      </div>\n      <div class="buttons">\n        <paper-button\n          raised=""\n          dialog-confirm=""\n          autofocus=""\n          on-tap="_confirmBuild"\n          class="green"\n          >Let\'s do it!</paper-button\n        >\n        <paper-button dialog-dismiss="" class="red-text"\n          >Oops, go back.</paper-button\n        >\n      </div>\n    </lrnsys-dialog>\n    <paper-toast id="toast"></paper-toast>\n  '],['\n    <style include="materializecss-styles">\n      :host {\n        display: block;\n        align-content: center;\n      }\n      #loading {\n        width: 100%;\n        z-index: 1000;\n        opacity: 0.9;\n        padding: 4em 0 0 0;\n        text-align: center;\n        align-content: center;\n        justify-content: center;\n        height: 100vh;\n        position: absolute;\n        background-color: white;\n      }\n      iron-selector {\n        line-height: 1em;\n      }\n      iron-selector lrnsys-button {\n        display: inline-flex;\n      }\n      paper-button.coursecard-wrapper {\n        margin: 0;\n        padding: 0;\n      }\n      paper-button.coursecard-wrapper:focus {\n        outline: blue solid 1px;\n      }\n      lrnapp-cis-course-card {\n        padding: 0;\n        margin: 1em;\n        height: 15em;\n        width: 14em;\n      }\n      .courses-grid {\n        margin: 0 auto;\n        width: 95%;\n      }\n      .iron-selected .display-mode {\n        background-color: #ff6f00;\n        color: white;\n      }\n      .iron-list-container {\n        display: flex;\n        flex-direction: column;\n        min-height: 50vh;\n      }\n      iron-list {\n        flex: 1 1 auto;\n      }\n      .dialog-header {\n        height: unset !important;\n        padding: 0 !important;\n      }\n      .course-dialog-heading.lrndesign-course-banner {\n        font-size: 1em;\n        height: 4em !important;\n      }\n      #coursedetails {\n        margin-top: 1em;\n      }\n      #confirm {\n        max-width: 400px;\n        max-height: 300px;\n      }\n      .buttons {\n        text-align: center;\n      }\n      .buttons paper-button {\n        width: 10em;\n        height: 4em;\n      }\n      .dialog-body {\n        padding: 1em;\n        font-size: 1.8em;\n        text-align: center;\n        margin: 0 auto;\n      }\n      .dialog-body lrn-icon.service-confirm-icon {\n        width: 5em;\n        height: 5em;\n      }\n      .dialog-body responsive-grid-col {\n        height: 4.5em;\n      }\n      .dialog-body lrndesign-avatar.service-confirm-icon {\n        display: inline-block;\n      }\n    </style>\n    <iron-ajax\n      auto=""\n      url="[[sourcePath]]"\n      params=""\n      handle-as="json"\n      last-response="{{_cisResponse}}"\n      on-response="_handleResponse"\n    ></iron-ajax>\n    <iron-ajax\n      url="[[courseDataPath]]"\n      params="[[_courseDataParams]]"\n      handle-as="json"\n      id="courserequest"\n      last-response="{{_courseResponse}}"\n      on-response="_handleCourseResponse"\n    ></iron-ajax>\n    <iron-ajax\n      url="[[makeServicePath]]"\n      params=""\n      handle-as="json"\n      id="makeservice"\n      last-response="{{_makeServiceResponse}}"\n      on-response="_handleMakeServiceResponse"\n    ></iron-ajax>\n    <div id="loading">\n      <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n      <h3>Loading..</h3>\n    </div>\n    <app-toolbar class="">\n      <span main-title=""></span>\n      <span\n        top-item=""\n        style="text-align:right;font-size:.5em;padding-right:1em;"\n        >Displaying [[courses.length]] of [[originalCourses.length]]</span\n      >\n      <paper-dropdown-menu label="Course" hidden\\$="[[!courses]]">\n        <paper-listbox\n          slot="dropdown-content"\n          class="dropdown-content"\n          selected="{{queryParams.course}}"\n          attr-for-selected="item-id"\n        >\n          <paper-item>-- Any --</paper-item>\n          <template\n            is="dom-repeat"\n            items="[[_toArray(originalCourses)]]"\n            as="course"\n          >\n            <paper-item item-id="[[course.id]]"\n              >[[course.attributes.name]]</paper-item\n            >\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n      <paper-dropdown-menu label="Program" hidden\\$="[[!programs]]">\n        <paper-listbox\n          slot="dropdown-content"\n          class="dropdown-content"\n          selected="{{queryParams.program}}"\n          attr-for-selected="item-id"\n        >\n          <paper-item>-- Any --</paper-item>\n          <template is="dom-repeat" items="[[_toArray(programs)]]" as="program">\n            <paper-item item-id="[[program.id]]"\n              >[[program.attributes.name]]</paper-item\n            >\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n      <paper-dropdown-menu label="Academic home" hidden\\$="[[!academics]]">\n        <paper-listbox\n          slot="dropdown-content"\n          class="dropdown-content"\n          selected="{{queryParams.academic}}"\n          attr-for-selected="item-id"\n        >\n          <paper-item>-- Any --</paper-item>\n          <template\n            is="dom-repeat"\n            items="[[_toArray(academics)]]"\n            as="academic"\n          >\n            <paper-item item-id="[[academic.id]]"\n              >[[academic.attributes.name]]</paper-item\n            >\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n    </app-toolbar>\n    <div class="courses-grid">\n      <iron-pages\n        selected="{{data.page}}"\n        attr-for-selected="name"\n        fallback-selection="courses"\n        role="main"\n      >\n        <div class="iron-list-container" name="courses">\n          <iron-list id="ironlist" items="[[courses]]" as="course" grid="">\n            <template>\n              <paper-button\n                data-course-id\\$="[[course.id]]"\n                class="coursecard-wrapper"\n                on-tap="_loadCourseUrl"\n              >\n                <lrnapp-cis-course-card\n                  elevation="2"\n                  data-course-id\\$="[[course.id]]"\n                  name="[[course.attributes.name]]"\n                  image="[[course.attributes.image]]"\n                  title="[[course.attributes.title]]"\n                  color="[[course.attributes.color]]"\n                >\n                </lrnapp-cis-course-card>\n              </paper-button>\n            </template>\n          </iron-list>\n        </div>\n      </iron-pages>\n    </div>\n    <app-location\n      route="{{route}}"\n      query-params="{{queryParams}}"\n    ></app-location>\n    <app-route\n      route="{{route}}"\n      pattern="[[endPoint]]/:page"\n      data="{{data}}"\n      tail="{{tail}}"\n      query-params="{{queryParams}}"\n    >\n    </app-route>\n    <lrnsys-dialog tabindex="-1" id="dialog" disable-auto-focus="">\n      <div slot="content">\n        <div id="loadingCourse" class="loading">\n          <h3>Loading..</h3>\n          <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n        </div>\n      </div>\n      <div class="dialog-header" slot="header">\n        <lrndesign-course-banner\n          image="[[activeCourse.attributes.image]]"\n          name="[[activeCourse.attributes.name]]"\n          title="[[activeCourse.attributes.title]]"\n          color="[[activeCourse.attributes.color]] darken-4"\n        >\n        </lrndesign-course-banner>\n      </div>\n      <div id="coursedetails" slot="content">\n        <responsive-grid-row gutter="5">\n          <responsive-grid-col xl="6" lg="6" md="6" sm="12" xs="12">\n            <div class="column">\n              <h4>Details</h4>\n              <ul>\n                <li\n                  hidden\\$="[[!activeCourse.relationships.academic.attributes.name]]"\n                >\n                  Academic unit:\n                  [[activeCourse.relationships.academic.attributes.name]]\n                </li>\n                <li\n                  hidden\\$="[[!activeCourse.relationships.program.attributes.name]]"\n                >\n                  Program:\n                  [[activeCourse.relationships.program.attributes.name]]\n                </li>\n              </ul>\n              <h4>Learning Network</h4>\n              <template\n                is="dom-repeat"\n                items="[[activeCourse.topology.Network]]"\n                as="service"\n              >\n                <template is="dom-if" if="[[!service._exists]]">\n                  <lrnsys-button\n                    raised=""\n                    on-tap="_makeService"\n                    color="grey lighten-4"\n                    icon-class="grey lighten-5"\n                    data-machine-name\\$="[[service.machine_name]]"\n                  >\n                    <lrn-icon\n                      data-machine-name\\$="[[service.machine_name]]"\n                      icon="[[service.icon]]"\n                      class="elmsln-hover-icon"\n                    ></lrn-icon>\n                    <span data-machine-name\\$="[[service.machine_name]]"\n                      >Make the [[service.title]] service</span\n                    >\n                  </lrnsys-button>\n                </template>\n                <template is="dom-if" if="[[service._exists]]">\n                  <lrnsys-button\n                    raised=""\n                    href="[[service.url]]"\n                    hover-class="[[service.color]] lighten-4"\n                  >\n                    <lrn-icon\n                      icon="[[service.icon]]"\n                      class="elmsln-hover-icon"\n                    ></lrn-icon>\n                    <span>[[service.title]]</span>\n                  </lrnsys-button>\n                </template>\n              </template>\n            </div>\n          </responsive-grid-col>\n          <responsive-grid-col xl="6" lg="6" md="6" sm="12" xs="12">\n            <div class="column">\n              <h4>Operations</h4>\n              <template is="dom-if" if="[[activeCourse.meta.canUpdate]]">\n                <lrnsys-button\n                  raised=""\n                  href="[[activeCourse.uris.edit]]"\n                  label="Edit"\n                  hover-class="green lighten-4"\n                  icon="create"\n                ></lrnsys-button>\n                <lrnsys-button\n                  raised=""\n                  href="[[activeCourse.uris.addOffering]]"\n                  label="Add offering"\n                  hover-class="amber lighten-3"\n                  icon="icons:add"\n                ></lrnsys-button>\n              </template>\n              <lrnsys-button\n                raised=""\n                href="[[activeCourse.uris.offerings]]"\n                label="Offerings"\n                hover-class="amber lighten-4"\n                icon="social:people"\n              ></lrnsys-button>\n              <lrnsys-button\n                raised=""\n                href="[[activeCourse.uris.sync]]"\n                label="Sync Roster"\n                hover-class="amber lighten-4"\n                icon="notification:sync"\n              ></lrnsys-button>\n              <lrnsys-button\n                raised=""\n                href="[[activeCourse.uris.uri]]"\n                label="Course page (legacy)"\n                hover-class="brown lighten-4"\n                icon="delete"\n              ></lrnsys-button>\n              <template is="dom-if" if="[[activeCourse.meta.canDelete]]">\n                <div\n                  style="padding: 1em;width: 100%;margin: .5em 0;display: block;background-color:#FF2222;color:#ffffff;border: 1px solid #222222;"\n                >\n                  <h4>Danger zone</h4>\n                  <lrnsys-button\n                    raised=""\n                    href="[[activeCourse.uris.delete]]"\n                    label="Delete"\n                    hover-class="red lighten-1"\n                    color="red lighten-3"\n                    icon="delete"\n                  ></lrnsys-button>\n                </div>\n              </template>\n            </div>\n          </responsive-grid-col>\n        </responsive-grid-row>\n        <p>[[activeCourse.attributes.body]]</p>\n      </div>\n    </lrnsys-dialog>\n    <lrnsys-dialog id="confirm">\n      <div class="dialog-header" slot="header">\n        Add this to the\n        <strong>[[activeCourse.attributes.title]]</strong> network?\n      </div>\n      <div class="dialog-body">\n        <responsive-grid-row gutter="5">\n          <responsive-grid-col\n            xl="3"\n            lg="3"\n            md="3"\n            sm="3"\n            xs="3"\n          ></responsive-grid-col>\n          <responsive-grid-col xl="1" lg="1" md="1" sm="1" xs="1"\n            >Add</responsive-grid-col\n          >\n          <responsive-grid-col xl="2" lg="2" md="2" sm="2" xs="2"\n            ><lrn-icon\n              icon="[[_activeService.icon]]"\n              class\\$="[[_activeService.color]]-text elmsln-hover-icon service-confirm-icon"\n            ></lrn-icon\n          ></responsive-grid-col>\n          <responsive-grid-col xl="3" lg="3" md="3" sm="3" xs="3"\n            ><strong>[[_activeService.title]]</strong></responsive-grid-col\n          >\n          <responsive-grid-col\n            xl="3"\n            lg="3"\n            md="3"\n            sm="3"\n            xs="3"\n          ></responsive-grid-col>\n        </responsive-grid-row>\n        <responsive-grid-row gutter="5">\n          <responsive-grid-col\n            xl="3"\n            lg="3"\n            md="3"\n            sm="3"\n            xs="3"\n          ></responsive-grid-col>\n          <responsive-grid-col xl="1" lg="1" md="1" sm="1" xs="1"\n            >To</responsive-grid-col\n          >\n          <responsive-grid-col xl="2" lg="2" md="2" sm="2" xs="2"\n            ><lrndesign-avatar\n              class="service-confirm-icon"\n              label="[[activeCourse.attributes.name]]"\n              jdenticon=""\n              color="[[activeCourse.attributes.color]] darken-4"\n            >\n            </lrndesign-avatar\n          ></responsive-grid-col>\n          <responsive-grid-col xl="3" lg="3" md="3" sm="3" xs="3"\n            ><strong\n              >[[activeCourse.attributes.title]]</strong\n            ></responsive-grid-col\n          >\n          <responsive-grid-col\n            xl="3"\n            lg="3"\n            md="3"\n            sm="3"\n            xs="3"\n          ></responsive-grid-col>\n        </responsive-grid-row>\n        <div style="margin-top:1em;">This will take a few moments.</div>\n      </div>\n      <div class="buttons">\n        <paper-button\n          raised=""\n          dialog-confirm=""\n          autofocus=""\n          on-tap="_confirmBuild"\n          class="green"\n          >Let\'s do it!</paper-button\n        >\n        <paper-button dialog-dismiss="" class="red-text"\n          >Oops, go back.</paper-button\n        >\n      </div>\n    </lrnsys-dialog>\n    <paper-toast id="toast"></paper-toast>\n  ']);return Wn=function(){return n},n}function Gn(){var n=Dn(['\n    <style include="materializecss-styles">\n      :host {\n        display: block;\n      }\n      paper-button {\n        padding: 0;\n        margin: 0;\n        min-width: 1rem;\n      }\n      #details {\n        opacity: 0.5;\n        position: absolute;\n        bottom: 0;\n        right: 0;\n        margin: 0 1rem 0 0;\n        background-color: white;\n        padding: 0.5em;\n      }\n      #details:hover {\n        opacity: 1;\n      }\n      #details span {\n        font-size: 0.6em;\n        font-weight: normal;\n      }\n      #details .comment-on-work {\n        font-size: 0.8em;\n        background-color: white;\n      }\n    </style>\n    <iron-ajax\n      id="ajax"\n      url="[[sourcePath]]"\n      params=""\n      handle-as="json"\n      last-response="{{submissions}}"\n    ></iron-ajax>\n    <iron-scroll-threshold on-lower-threshold="_loadMoreData" id="threshold">\n      <iron-list grid items="[[_toArray(submissions.data)]]" as="item">\n        <template is="dom-repeat" items="[[_toArray(item.images)]]" as="image">\n          <paper-button>\n            <iron-image\n              preload\n              open-url="{{item.url}}"\n              title="{{item.title}}"\n              alt="{{item.title}}"\n              src="{{image.src}}"\n              author="{{item.author}}"\n              comments="{{item.comments}}"\n              height="{{image.height}}"\n              width="{{image.width}}"\n            ></iron-image>\n          </paper-button>\n        </template>\n      </iron-list>\n    </iron-scroll-threshold>\n    <paper-dialog\n      id="dialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n    >\n      <paper-dialog-scrollable id="dialogResponse">\n        <iron-image src$="[[activeImage]]"></iron-image>\n        <div id="details">\n          <div class="title">\n            <span>Title:</span> <span>{{{activeTitle}}}</span>\n          </div>\n          <div class="author">\n            <span>Author:</span> <span>{{activeAuthor}}</span>\n          </div>\n          <div class="comments">\n            <span>Comments:</span> <span>{{activeComments}}</span>\n          </div>\n          <div class="comment-on-work">\n            <a href$="[[activeUrl]]">\n              <paper-button raised>Comment on this work</paper-button>\n            </a>\n          </div>\n        </div>\n      </paper-dialog-scrollable>\n    </paper-dialog>\n  ']);return Gn=function(){return n},n}function Yn(){var n=Dn(['\n    <style include="materializecss-styles">\n      :host {\n        display: block;\n      }\n      paper-button {\n        padding: 0;\n        margin: 0;\n        min-width: 1rem;\n      }\n      #details {\n        opacity: 0.5;\n        position: absolute;\n        bottom: 0;\n        right: 0;\n        margin: 0 1rem 0 0;\n        background-color: white;\n        padding: 0.5em;\n      }\n      #details:hover {\n        opacity: 1;\n      }\n      #details span {\n        font-size: 0.6em;\n        font-weight: normal;\n      }\n      #details .comment-on-work {\n        font-size: 0.8em;\n        background-color: white;\n      }\n    </style>\n    <iron-ajax\n      id="ajax"\n      url="[[sourcePath]]"\n      params=""\n      handle-as="json"\n      last-response="{{images}}"\n    ></iron-ajax>\n    <iron-scroll-threshold on-lower-threshold="_loadMoreData" id="threshold">\n      <iron-list grid items="[[_toArray(images.data)]]" as="image">\n        <template>\n          <paper-button>\n            <iron-image\n              preload=""\n              title="{{image.filename}}"\n              alt="{{image.alt}}"\n              src="{{image.src}}"\n              height="{{image.height}}"\n              width="{{image.width}}"\n            ></iron-image>\n          </paper-button>\n        </template>\n      </iron-list>\n    </iron-scroll-threshold>\n    <paper-dialog\n      id="dialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n    >\n      <paper-dialog-scrollable id="dialogResponse">\n        <iron-image src$="[[activeImage]]"></iron-image>\n        <div id="details">\n          <div class="title">\n            <span>Title:</span> <span>[[activeTitle]]</span>\n          </div>\n          <div class="comment-on-work">\n            <a href$="[[activeUrl]]">\n              <paper-button raised="">View media</paper-button>\n            </a>\n          </div>\n        </div>\n      </paper-dialog-scrollable>\n    </paper-dialog>\n  ']);return Yn=function(){return n},n}function Xn(){var n=Dn(['\n    <style include="materializecss-styles">\n      :host {\n        display: block;\n      }\n      paper-button {\n        padding: 0;\n        margin: 0;\n        min-width: 16px;\n      }\n      #details {\n        opacity: 0.5;\n        position: absolute;\n        bottom: 0;\n        right: 0;\n        margin: 0 16px 0 0;\n        background-color: white;\n        padding: 8px;\n      }\n      #details:hover {\n        opacity: 1;\n      }\n      #details span {\n        font-size: 10px;\n        font-weight: normal;\n      }\n      #details .comment-on-work {\n        font-size: 12px;\n        background-color: white;\n      }\n    </style>\n    <iron-ajax\n      id="ajax"\n      url="[[source-path]]"\n      params=""\n      handle-as="json"\n      last-response="{{submissions}}"\n    ></iron-ajax>\n    <iron-scroll-threshold on-lower-threshold="_loadMoreData" id="threshold">\n      <iron-list grid items="[[_toArray(submissions.data)]]" as="item">\n        <template>\n          <paper-card\n            heading="{{item.title}}"\n            image=""\n            elevation="2"\n            animated-shadow="true"\n          >\n            <div class="card-content"></div>\n            <div class="card-actions">\n              <a href="{{item.url}}"\n                ><paper-button raised>View</paper-button></a\n              >\n              <a href="{{item.edit_url}}"\n                ><paper-button raised>Edit</paper-button></a\n              >\n            </div>\n          </paper-card>\n        </template>\n      </iron-list>\n    </iron-scroll-threshold>\n    <paper-dialog\n      id="dialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n    >\n      <paper-dialog-scrollable id="dialogResponse">\n        <iron-image src="{{activeImage}}"></iron-image>\n        <div id="details">\n          <div class="title">\n            <span>Title:</span> <span>{{activeTitle}}</span>\n          </div>\n          <div class="author">\n            <span>Author:</span> <span>{{activeAuthor}}</span>\n          </div>\n          <div class="comments">\n            <span>Comments:</span> <span>{{activeComments}}</span>\n          </div>\n          <div class="comment-on-work">\n            <a href="{{activeUrl}}">\n              <paper-button raised>Comment on this work</paper-button>\n            </a>\n          </div>\n        </div>\n      </paper-dialog-scrollable>\n    </paper-dialog>\n  ']);return Xn=function(){return n},n}function Jn(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n      paper-button {\n        padding: 0;\n        margin: 0;\n        min-width: 16px;\n      }\n      vaadin-upload.thick-border {\n        --primary-color: #396;\n        --dark-primary-color: #063;\n        --light-primary-color: #6c9;\n        --error-color: darkred;\n\n        border: 2px solid #ccc;\n        padding: 14px;\n        background: #eee;\n        border-radius: 0;\n      }\n      vaadin-upload.thick-border[dragover] {\n        border-color: #396;\n      }\n    </style>\n    <vaadin-upload\n      target$="{{uploadPath}}"\n      method="POST"\n      form-data-name="file-upload"\n    ></vaadin-upload>\n  '],['\n    <style>\n      :host {\n        display: block;\n      }\n      paper-button {\n        padding: 0;\n        margin: 0;\n        min-width: 16px;\n      }\n      vaadin-upload.thick-border {\n        --primary-color: #396;\n        --dark-primary-color: #063;\n        --light-primary-color: #6c9;\n        --error-color: darkred;\n\n        border: 2px solid #ccc;\n        padding: 14px;\n        background: #eee;\n        border-radius: 0;\n      }\n      vaadin-upload.thick-border[dragover] {\n        border-color: #396;\n      }\n    </style>\n    <vaadin-upload\n      target\\$="{{uploadPath}}"\n      method="POST"\n      form-data-name="file-upload"\n    ></vaadin-upload>\n  ']);return Jn=function(){return n},n}window.customElements.define(Nn.tag,Nn),n.Polymer({_template:n.html(Fn()),is:"lrnapp-book-progress-dashboard",properties:{routeData:{type:Object,observer:"_routeDataChanged"},requestParams:{type:Object,value:{node:null}},sourcePath:{type:String},readTimeData:{type:Object,value:[]},userData:{type:Object,value:[]},showProgress:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_showProgressChanged"}},_routeDataChanged:function(n,e){"undefined"!==Cn(n)&&(this.requestParams[n.type]=n.id,this.progressChanged&&this.$.dataajax.generateRequest())},_showProgressChanged:function(n,e){n&&"undefined"!==Cn(this.routeData)&&this.$.dataajax.generateRequest()},handleDataResponse:function(n){var e=n.detail.response.data;this.$.bodyloading.hidden=!0,this.userData=e.userdata,this.dashboardItems=this._toArray(e.items)},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(Mn()),is:"lrnapp-book",behaviors:[HAXCMSBehaviors.Theme],properties:{progressDashboardPath:{type:String},showSearch:{type:Boolean,reflectToAttribute:!0,value:!1},sourcePath:{type:String},editMode:{type:Boolean,reflectToAttribute:!0,value:!1,notify:!0,observer:"_editModeChanged"},drawerOpened:{type:Boolean,value:!0,reflectToAttribute:!0},currentTitle:{type:String},outlineTitle:{type:String},bookTitle:{type:String,value:"Course outline"},soundFinish:{type:Boolean,value:!0},sound:{type:Boolean,value:!0},completeSound:{type:String,value:""},finishedSound:{type:String,value:""},scrollPosition:{type:Number,value:0,observer:"_scrollChanged"},activePage:{type:Number,value:0,observer:"_activePageChanged"},activeOutline:{type:Number,value:0,observer:"_activeOutlineChanged"},outlineItems:{type:Array,value:[],notify:!0,observer:"_outlineItemsChanged"},bookItems:{type:Array,notify:!0},itemResponses:{type:Array,value:[]},requestParams:{type:Object,notify:!0,value:{node:null}},pageParams:{type:Object,notify:!0,value:{load:!1}},outlineData:{type:Object,notify:!0},bookData:{type:Object,notify:!0},pageData:{type:Object,notify:!0},outlinePath:{type:String},bookPath:{type:String},pagePath:{type:String},hasPrevPage:{type:Boolean,notify:!0},prevLabel:{type:String},hasNextPage:{type:Boolean,notify:!0},nextLabel:{type:String},resetScroll:{type:Boolean,value:!1},currentPageData:{type:Object,value:{},observer:"_currentPageDataUpdated"},manifest:{type:Object,value:{},observer:"_manifestChanged"},rebuildOutline:{type:Boolean,value:!1},fullWidth:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_fullWidthChanged"},_routerManifest:{type:Object,value:{}}},ready:function(n){var e=this;this.setupHAXTheme(!0,this.$.contentcontainer),window.dispatchEvent(new CustomEvent("haxcms-router-manifest-subscribe",{detail:{callback:"_haxcmsRouterManifestSubscribeHandler",scope:this,setup:!0}})),window.SimpleToast.requestAvailability(),this.$.bodyloading.hidden=!0,setTimeout(function(){e._resetScroll()},500)},attached:function(){this.$.progress.addEventListener("node-percent-milestone",this.testMilestone.bind(this)),this.$.mapmenu.addEventListener("link-clicked",this._menuItemClicked.bind(this))},detached:function(){this.setupHAXTheme(!1),this.$.progress.removeEventListener("node-percent-milestone",this.testMilestone.bind(this)),this.$.mapmenu.removeEventListener("link-clicked",this._menuItemClicked.bind(this))},_haxcmsRouterManifestSubscribeHandler:function(n){this._routerManifest={},this._routerManifest=n.detail},_menuItemClicked:function(n){var e=this.manifest.items.findIndex(function(e){return e.id===n.detail.id});this.activePage=e},_fullWidthChanged:function(n,e){this.updateStyles()},progressdashboardopen:function(n){this.$.progressdashboard.showProgress=!0},_computePageUpdatePath:function(n,e){return e.replace("%",n.id)},_editModeChanged:function(n,e){if("undefined"!==Cn(n))if(!0===n){this.$.currenttitle.contentEditable=!0,this.resetScroll=!0;new CustomEvent("simple-toast-show",{bubbles:!0,cancelable:!0,detail:{text:"Editor mode active",duration:5e3}})}else if(this.$.currenttitle.contentEditable=!1,this.resetScroll=!1,!0===e){this.$.currenttitle.innerHTML!==this.currentPageData.title&&(this.currentPageData.title=this.$.currenttitle.innerHTML);var t=new CustomEvent("simple-toast-show",{bubbles:!0,cancelable:!0,detail:{text:"Saved",duration:0}});this.dispatchEvent(t)}},_activeOutlineChanged:function(n,e){"undefined"!==Cn(n)&&"undefined"!==Cn(e)&&(this.rebuildOutline=!0)},_resetScroll:function(){this.resetScroll=!0,this.scrollPosition=0,this.$.anchor.scrollIntoView({block:"start",behavior:"smooth",inline:"nearest"})},_activePageChanged:function(n,e){var t=this;"undefined"!==Cn(n)&&("undefined"!==Cn(this.outlineItems)&&this.outlineItems.length>0&&this.fire("json-outline-schema-active-item-changed",this.outlineItems[n]),Cn(e),setTimeout(function(){t.resetScroll=!1},1e3),0==n?this.hasPrevPage=!1:(this.hasPrevPage=!0,"undefined"!==Cn(this.outlineItems)&&(this.prevLabel=this.outlineItems[n-1].title)),"undefined"!==Cn(this.outlineItems)&&n+1==this.outlineItems.length?this.hasNextPage=!1:(this.hasNextPage=!0,"undefined"!==Cn(this.outlineItems)&&(this.nextLabel=this.outlineItems[n+1].title)))},_outlineItemsChanged:function(n,e){"undefined"!==Cn(n)&&0!=n.length&&(0!=this.activePage&&(this.prevLabel=n[this.activePage-1].title),this.activePage+1!=n.length&&(this.nextLabel=n[this.activePage+1].title))},testMilestone:function(n){75==n.detail.percentage&&console.log("@todo preload the next page and present grayed out right of UI.")},_scrollChanged:function(n,e){"undefined"!==Cn(this.outlineItems)&&"undefined"!==Cn(this.outlineItems[this.activePage])&&n>this.outlineItems[this.activePage].metadata.value&&!this.resetScroll&&(n>=75?(this.outlineItems[this.activePage].metadata.value=this.outlineItems[this.activePage].metadata.max,this.set("outlineItems."+this.activePage+".metadata.value",this.outlineItems[this.activePage].metadata.max)):(this.outlineItems[this.activePage].metadata.value=n,this.set("outlineItems."+this.activePage+".metadata.value",n)))},_nextBtn:function(n){this.activePage<this.outlineItems.length-1&&(this.set("outlineItems."+this.activePage+".metadata.value",this.outlineItems[this.activePage].metadata.max),this.activePage=this.activePage+1)},_prevBtn:function(n){this.activePage>0&&(this.activePage=this.activePage-1)},toggleBook:function(n){this.$.bookdrawer.toggle(),this.fullWidth=!this.$.bookdrawer.opened},_manifestChanged:function(n,e){if("undefined"!==Cn(n)){var t=n.items,i=n.title;0!==this.activePage&&(this.activePage=0),this.set("outlineItems",[]),this.set("outlineItems",t),this.notifyPath("outlineItems.*"),this.set("bookItems",[]),this.set("bookItems",t),this.notifyPath("bookItems.*"),this.set("outlineTitle",i),this.$.outlineloading.hidden=!0,this.pageParams.load=!0}},_currentPageDataUpdated:function(n,e){"undefined"!==Cn(n)&&"undefined"!==Cn(n.content)&&(this.set("currentTitle",n.title),this._resetScroll(),this.$.bodyloading.hidden=!0,this.editMode&&!n.page.meta.canUpdate&&(this.editMode=!1))},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(Vn()),is:"lrnapp-canvas-listing",properties:{elmslnCourses:{type:Array,notify:!0},canvasCourses:{type:Array,notify:!0},roster:{type:Array,notify:!0,value:!1},queryResponse:{type:Array,notify:!0},sourcePath:{type:String,notify:!0},activeCourse:{type:String,notify:!0,reflectToAttribute:!0}},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})},collapseToggle:function(n){n.target.nextElementSibling.toggle()},_triggerDialog:function(n){this.shadowRoot.querySelector("#details-dialog").toggleDialog(),this.roster=!1,this.activeCourse=this.canvasCourses[n.target.id],this.shadowRoot.querySelector("#request").params.sis_course_id=this.activeCourse.sis_course_id,this.shadowRoot.querySelector("#request").generateRequest(),this.shadowRoot.querySelector("#loadingContent").style.display="none"},handleResponse:function(){this.elmslnCourses=this.queryResponse.data.elmslnCourses,this.canvasCourses=this.queryResponse.data.canvasCourses,this.$.loading.hidden=!0},handleRosterResponse:function(){this.roster=this.queryResponse.data,this.shadowRoot.querySelector("#loadingContent").style.display="block"}}),n.Polymer({_template:n.html(Hn()),is:"lrnapp-cis-course-card",listeners:{mouseenter:"_mouseEnter",mouseleave:"_mouseLeave"},properties:{size:{type:String},image:{type:String},icon:{type:String,value:!1},name:{type:String,value:""},title:{type:String,value:""},color:{type:String,value:"grey"},elevation:{type:Number,value:1,reflectToAttribute:!0}},_mouseEnter:function(n){this.__oldElevation=this.elevation,this.elevation+2>5?this.elevation=5:this.elevation+=2},_mouseLeave:function(n){this.elevation=this.__oldElevation}}),n.Polymer({_template:n.html(Wn()),is:"lrnapp-cis",properties:{_cisResponse:{type:Object},_courseResponse:{type:Object},_makeServiceResponse:{type:Object},courses:{type:Array,value:[],computed:"_coursesCompute(originalCourses, queryParams)"},originalCourses:{type:Array,value:[],notify:!0},programs:{type:Array,value:[]},academics:{type:Array,value:[]},sourcePath:{type:String},courseDataPath:{type:String},makeServicePath:{type:String},endPoint:{type:String,value:"/"},basePath:{type:String,value:"/"},activeCourse:{type:Array,value:null},queryParams:{type:Object,notify:!0}},listeners:{"route-change":"_routeChange"},observers:["_routeChanged(route, endPoint)"],_routeChanged:function(n,e){if("string"==typeof n.path){if("string"==typeof e&&(n.path.startsWith(e)||"/"==n.path))return;this.$.loading.hidden=!1,window.location.reload()}},_routeChange:function(n){var e=n.detail;"undefined"!==Cn(e.queryParams.course)&&this.set("queryParams.course",e.queryParams.course),"undefined"!==Cn(e.queryParams.academic)&&this.set("queryParams.academic",e.queryParams.academic),"undefined"!==Cn(e.queryParams.program)&&this.set("queryParams.program",e.queryParams.program),"undefined"!==Cn(e.data.page)&&this.set("data.page",e.data.page)},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})},_handleMakeServiceResponse:function(n){var e=this._makeServiceResponse,t=this.__addServiceLinks(e.data.course);this.set("activeCourse",[]),this.set("activeCourse",t),this.$.toast.show(e.message)},_handleCourseResponse:function(n){var e=this._courseResponse.data.course;this.__addServiceLinks(e),this.set("activeCourse",[]),this.set("activeCourse",e),this.$.loadingCourse.hidden=!0},__addServiceLinks:function(n){for(var e in"undefined"===Cn(n.topology.Network)&&(n.topology.Network={}),this.services)"undefined"===Cn(n.topology.Network[this.services[e].attributes.machine_name])&&(n.topology.Network[this.services[e].attributes.machine_name]={color:this.services[e].attributes.color,distro:this.services[e].attributes.distro,icon:this.services[e].attributes.icon,machine_name:this.services[e].attributes.machine_name,title:this.services[e].attributes.title,url:this.services[e].attributes.url,weight:this.services[e].attributes.weight,_exists:!1});return n.topology.Network=this._toArray(n.topology.Network),n.topology.Network.sort(function(n,e){return n.weight-e.weight}),n},_handleResponse:function(n){var e={},t={},i={},a={courses:[],programs:[],academics:[]},s=[],o=[],r=this._toArray(this._cisResponse.data.courses);this.set("services",this._toArray(this._cisResponse.data.services)),this.set("originalCourses",r);for(var l=0;l<r.length;l++)e=r[l],t=r[l].relationships.program,i=r[l].relationships.academic,a.programs[t.id]=t,a.academics[i.id]=i,a.courses[e.id]=e;a.programs.forEach(function(n){s.push(n)}),a.academics.forEach(function(n){o.push(n)}),this.$.loading.hidden=!0,this.set("academics",o),this.set("programs",s)},_makeService:function(n){var e=v.dom(n).localTarget.getAttribute("data-machine-name"),t=this.activeCourse.topology.Network.filter(function(n){return n.machine_name===e});t.length>0?(t=t.pop(),this.$.makeservice.params={course:this.activeCourse.attributes.machine_name,service:t.machine_name},this._activeService=t,this.$.confirm.toggleDialog()):console.log("that was not a valid service..")},_confirmBuild:function(n){this.$.makeservice.generateRequest()},attached:function(){document.body.addEventListener("lrnsys-dialog-modal-closed",this._accessibleFocus.bind(this))},_accessibleFocus:function(n){this.__rememberClick.focus()},_loadCourseUrl:function(n){this.__rememberClick=n.target,this.$.loadingCourse.hidden=!1;var e=v.dom(n).localTarget.getAttribute("data-course-id"),t=this.originalCourses.filter(function(n){return n.id===e});t.length>0&&(t=t.pop()),this.activeCourse=t,this._courseDataParams={id:this.activeCourse.id},this.$.courserequest.generateRequest(),this.$.dialog.toggleDialog()},_coursesCompute:function(n,e){var t=this;if(void 0===n)return[];var i,a=this;return i=n.filter(function(n){return(void 0===a.queryParams.course||n.id===a.queryParams.course)&&((void 0===a.queryParams.program||n.relationships.program.id===a.queryParams.program)&&(void 0===a.queryParams.academic||n.relationships.academic.id===a.queryParams.academic))}),setTimeout(function(){t.$.ironlist.fire("iron-resize")},200),i}}),n.Polymer({_template:n.html(Gn()),is:"lrnapp-gallery-grid",listeners:{click:"_triggerDialog"},properties:{sourcePath:{type:String,notify:!0},submissions:{type:Array,notify:!0},activeImage:{type:String,reflectToAttribute:!0,notify:!0},activeTitle:{type:String,reflectToAttribute:!0,notify:!0},activeAuthor:{type:String,reflectToAttribute:!0,notify:!0},activeComments:{type:String,reflectToAttribute:!0,notify:!0},activeUrl:{type:String,reflectToAttribute:!0,notify:!0}},_triggerDialog:function(n){"IMG"==n.target.nextElementSibling.nodeName&&(this.activeImage=n.target.nextElementSibling.src,this.activeTitle=n.target.parentElement.title,this.activeAuthor=n.target.parentElement.author,this.activeComments=n.target.parentElement.comments,this.activeUrl=n.target.parentElement.openUrl,this.shadowRoot.querySelector("#dialog").toggle())},_loadMoreData:function(n){this.shadowRoot.querySelector("#ajax").generateRequest(),this.shadowRoot.querySelector("#threshold").clearTriggers()},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(Yn()),is:"lrnapp-media-grid",listeners:{click:"_triggerDialog"},properties:{sourcePath:{type:String,notify:!0},images:{type:Array,notify:!0},activeImage:{type:String,reflectToAttribute:!0,notify:!0},activeTitle:{type:String,reflectToAttribute:!0,notify:!0},activeUrl:{type:String,reflectToAttribute:!0,notify:!0}},_triggerDialog:function(n){"IMG"==n.target.nextElementSibling.nodeName&&(this.activeImage=n.target.nextElementSibling.src,this.activeTitle=n.target.parentElement.title,this.activeUrl=n.target.parentElement.openUrl,this.shadowRoot.querySelector("#dialog").toggle())},_loadMoreData:function(n){this.shadowRoot.querySelector("#ajax").generateRequest(),this.shadowRoot.querySelector("#threshold").clearTriggers()},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(Xn()),is:"lrnapp-media-management",listeners:{click:"_triggerDialog"},properties:{submissions:{type:Array,notify:!0},activeImage:{type:String,reflectToAttribute:!0,notify:!0},activeTitle:{type:String,reflectToAttribute:!0,notify:!0},activeAuthor:{type:String,reflectToAttribute:!0,notify:!0},activeComments:{type:String,reflectToAttribute:!0,notify:!0},activeUrl:{type:String,reflectToAttribute:!0,notify:!0}},_triggerDialog:function(n){"IMG"==n.target.nextElementSibling.nodeName&&(this.activeImage=n.target.nextElementSibling.src,this.activeTitle=n.target.parentElement.title,this.activeAuthor=n.target.parentElement.author,this.activeComments=n.target.parentElement.comments,this.activeUrl=n.target.parentElement.openUrl,this.shadowRoot.querySelector("#dialog").toggle())},_loadMoreData:function(n){this.shadowRoot.querySelector("#ajax").generateRequest(),this.shadowRoot.querySelector("#threshold").clearTriggers()},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}});var Kn,Qn,Zn;n.Polymer({_template:n.html(Jn()),is:"lrnapp-media-upload",properties:{uploadPath:{type:String,notify:!0,reflectToAttribute:!0}}});function ne(){var n=Dn(['\n    <custom-style>\n      <style is="custom-style" include="materializecss-styles">\n        :host {\n          display: block;\n          align-content: center;\n          padding: 0.8em;\n        }\n        #loading {\n          width: 100%;\n          z-index: 1000;\n          opacity: 0.8;\n          text-align: center;\n          align-content: center;\n          justify-content: center;\n          height: 100vh;\n          position: absolute;\n          background-color: white;\n        }\n        .center-data {\n          text-align: center;\n        }\n        vaadin-grid#material {\n          height: 75vh;\n          font-family: Roboto, sans-serif;\n          --divider-color: rgba(0, 0, 0, var(--dark-divider-opacity));\n\n          --vaadin-grid-cell: {\n            padding: 0;\n          }\n\n          --vaadin-grid-header-cell: {\n            height: 3.5em;\n            color: rgba(0, 0, 0, var(--dark-secondary-opacity));\n            font-size: 1em;\n          }\n\n          --vaadin-grid-body-cell: {\n            height: 3em;\n            color: rgba(0, 0, 0, var(--dark-primary-opacity));\n            font-size: 0.8em;\n          }\n\n          --vaadin-grid-body-row-hover-cell: {\n            background-color: var(--paper-grey-200);\n          }\n\n          --vaadin-grid-body-row-selected-cell: {\n            background-color: var(--paper-grey-100);\n          }\n\n          --vaadin-grid-focused-cell: {\n            box-shadow: none;\n            font-weight: bold;\n          }\n        }\n\n        vaadin-grid#material .cell {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          padding-right: 56px;\n        }\n\n        vaadin-grid#material .cell.last {\n          padding-right: 24px;\n        }\n\n        vaadin-grid#material .cell.numeric {\n          text-align: right;\n        }\n\n        vaadin-grid#material paper-checkbox {\n          --primary-color: var(--paper-indigo-500);\n          margin: 0 24px;\n        }\n\n        vaadin-grid#material vaadin-grid-sorter {\n          --vaadin-grid-sorter-arrow: {\n            display: none !important;\n          }\n        }\n\n        vaadin-grid#material vaadin-grid-sorter .cell {\n          flex: 1;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        vaadin-grid#material vaadin-grid-sorter iron-icon {\n          transform: scale(0.8);\n        }\n\n        vaadin-grid#material vaadin-grid-sorter:not([direction]) iron-icon {\n          color: rgba(0, 0, 0, var(--dark-disabled-opacity));\n        }\n\n        vaadin-grid#material vaadin-grid-sorter[direction] {\n          color: rgba(0, 0, 0, var(--dark-primary-opacity));\n        }\n\n        vaadin-grid#material vaadin-grid-sorter[direction="desc"] iron-icon {\n          transform: scale(0.8) rotate(180deg);\n        }\n        vaadin-grid-sorter {\n          text-align: center;\n        }\n      </style>\n    </custom-style>\n    <vaadin-grid\n      column-reordering-allowed=""\n      id="material"\n      aria-label="Course list"\n      items="{{submissions}}"\n    >\n      <vaadin-grid-column resizable="">\n        <template class="header">\n          <vaadin-grid-sorter path="relationships.project.data.title"\n            >Project</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          <lrnsys-button\n            raised=""\n            on-tap="_loadProjectRoute"\n            data-project-id$="{{item.relationships.project.data.id}}"\n            data-author-id$="{{item.relationships.author.data.id}}"\n            label="[[item.relationships.project.data.title]]"\n            hover-class="amber lighten-4"\n            icon="folder"\n          ></lrnsys-button>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="">\n        <template class="header">\n          <vaadin-grid-sorter path="relationships.assignment.data.title"\n            >Assignment</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          [[item.relationships.assignment.data.title]]\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="" width="20em" flex-grow="0">\n        <template class="header">\n          <vaadin-grid-sorter path="attributes.title">Title</vaadin-grid-sorter>\n        </template>\n        <template>\n          <lrnsys-button\n            raised=""\n            on-tap="_loadSubmissionUrl"\n            data-submission-id$="{{item.id}}"\n            label="[[item.attributes.title]]"\n            hover-class="amber lighten-4"\n            icon="assignment"\n          ></lrnsys-button>\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Title"\n            path="attributes.title"\n            value="[[_filterTitle]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Title"\n              value="{{_filterTitle::input}}"\n              focus-target=""\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="">\n        <template class="header">\n          <vaadin-grid-sorter path="meta.changed">Submitted</vaadin-grid-sorter>\n        </template>\n        <template>\n          [[item.meta.humandate]]\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Submitted"\n            path="meta.changed"\n            value="[[_filterSubmitted]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Submitted"\n              value="{{_filterSubmitted::input}}"\n              focus-target=""\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="">\n        <template class="header">\n          <vaadin-grid-sorter path="relationships.author.data.display_name"\n            >Author</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          [[item.relationships.author.data.display_name]]\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="" width="[[_numWidth]]">\n        <template class="header">\n          <vaadin-grid-sorter path="meta.comment_count"\n            >Comments</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          <span class="center-data">[[item.meta.comment_count]]</span>\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Comments"\n            path="meta.comment_count"\n            value="[[_filterCommentsCount]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Comments"\n              value="{{_filterCommentsCount::input}}"\n              focus-target=""\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="" width="[[_numWidth]]">\n        <template class="header">\n          <vaadin-grid-sorter path="attributes.images.length"\n            >Images</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          <span class="center-data">[[item.attributes.images.length]]</span>\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Images"\n            path="attributes.images.length"\n            value="[[_filterImageCount]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Images"\n              value="{{_filterImageCount::input}}"\n              focus-target=""\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="" width="[[_numWidth]]">\n        <template class="header">\n          <vaadin-grid-sorter path="attributes.video.length"\n            >Video</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          <span class="center-data">[[item.attributes.video.length]]</span>\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Video"\n            path="attributes.video.length"\n            value="[[_filterVideosCount]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Video"\n              value="{{_filterVideosCount::input}}"\n              focus-target=""\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="" width="[[_numWidth]]">\n        <template class="header">\n          <vaadin-grid-sorter path="attributes.links.length"\n            >Links</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          <span class="center-data">[[item.attributes.links.length]]</span>\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Links"\n            path="attributes.links.length"\n            value="[[_filterLinksCount]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Links"\n              value="{{_filterLinksCount::input}}"\n              focus-target=""\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="" width="[[_numWidth]]">\n        <template class="header">\n          <vaadin-grid-sorter path="attributes.files.length"\n            >Files</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          <span class="center-data">[[item.attributes.files.length]]</span>\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Files"\n            path="attributes.files.length"\n            value="[[_filterFileCount]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Files"\n              value="{{_filterFileCount::input}}"\n              focus-target=""\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n    </vaadin-grid>\n  '],['\n    <custom-style>\n      <style is="custom-style" include="materializecss-styles">\n        :host {\n          display: block;\n          align-content: center;\n          padding: 0.8em;\n        }\n        #loading {\n          width: 100%;\n          z-index: 1000;\n          opacity: 0.8;\n          text-align: center;\n          align-content: center;\n          justify-content: center;\n          height: 100vh;\n          position: absolute;\n          background-color: white;\n        }\n        .center-data {\n          text-align: center;\n        }\n        vaadin-grid#material {\n          height: 75vh;\n          font-family: Roboto, sans-serif;\n          --divider-color: rgba(0, 0, 0, var(--dark-divider-opacity));\n\n          --vaadin-grid-cell: {\n            padding: 0;\n          }\n\n          --vaadin-grid-header-cell: {\n            height: 3.5em;\n            color: rgba(0, 0, 0, var(--dark-secondary-opacity));\n            font-size: 1em;\n          }\n\n          --vaadin-grid-body-cell: {\n            height: 3em;\n            color: rgba(0, 0, 0, var(--dark-primary-opacity));\n            font-size: 0.8em;\n          }\n\n          --vaadin-grid-body-row-hover-cell: {\n            background-color: var(--paper-grey-200);\n          }\n\n          --vaadin-grid-body-row-selected-cell: {\n            background-color: var(--paper-grey-100);\n          }\n\n          --vaadin-grid-focused-cell: {\n            box-shadow: none;\n            font-weight: bold;\n          }\n        }\n\n        vaadin-grid#material .cell {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          padding-right: 56px;\n        }\n\n        vaadin-grid#material .cell.last {\n          padding-right: 24px;\n        }\n\n        vaadin-grid#material .cell.numeric {\n          text-align: right;\n        }\n\n        vaadin-grid#material paper-checkbox {\n          --primary-color: var(--paper-indigo-500);\n          margin: 0 24px;\n        }\n\n        vaadin-grid#material vaadin-grid-sorter {\n          --vaadin-grid-sorter-arrow: {\n            display: none !important;\n          }\n        }\n\n        vaadin-grid#material vaadin-grid-sorter .cell {\n          flex: 1;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        vaadin-grid#material vaadin-grid-sorter iron-icon {\n          transform: scale(0.8);\n        }\n\n        vaadin-grid#material vaadin-grid-sorter:not([direction]) iron-icon {\n          color: rgba(0, 0, 0, var(--dark-disabled-opacity));\n        }\n\n        vaadin-grid#material vaadin-grid-sorter[direction] {\n          color: rgba(0, 0, 0, var(--dark-primary-opacity));\n        }\n\n        vaadin-grid#material vaadin-grid-sorter[direction="desc"] iron-icon {\n          transform: scale(0.8) rotate(180deg);\n        }\n        vaadin-grid-sorter {\n          text-align: center;\n        }\n      </style>\n    </custom-style>\n    <vaadin-grid\n      column-reordering-allowed=""\n      id="material"\n      aria-label="Course list"\n      items="{{submissions}}"\n    >\n      <vaadin-grid-column resizable="">\n        <template class="header">\n          <vaadin-grid-sorter path="relationships.project.data.title"\n            >Project</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          <lrnsys-button\n            raised=""\n            on-tap="_loadProjectRoute"\n            data-project-id\\$="{{item.relationships.project.data.id}}"\n            data-author-id\\$="{{item.relationships.author.data.id}}"\n            label="[[item.relationships.project.data.title]]"\n            hover-class="amber lighten-4"\n            icon="folder"\n          ></lrnsys-button>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="">\n        <template class="header">\n          <vaadin-grid-sorter path="relationships.assignment.data.title"\n            >Assignment</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          [[item.relationships.assignment.data.title]]\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="" width="20em" flex-grow="0">\n        <template class="header">\n          <vaadin-grid-sorter path="attributes.title">Title</vaadin-grid-sorter>\n        </template>\n        <template>\n          <lrnsys-button\n            raised=""\n            on-tap="_loadSubmissionUrl"\n            data-submission-id\\$="{{item.id}}"\n            label="[[item.attributes.title]]"\n            hover-class="amber lighten-4"\n            icon="assignment"\n          ></lrnsys-button>\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Title"\n            path="attributes.title"\n            value="[[_filterTitle]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Title"\n              value="{{_filterTitle::input}}"\n              focus-target=""\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="">\n        <template class="header">\n          <vaadin-grid-sorter path="meta.changed">Submitted</vaadin-grid-sorter>\n        </template>\n        <template>\n          [[item.meta.humandate]]\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Submitted"\n            path="meta.changed"\n            value="[[_filterSubmitted]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Submitted"\n              value="{{_filterSubmitted::input}}"\n              focus-target=""\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="">\n        <template class="header">\n          <vaadin-grid-sorter path="relationships.author.data.display_name"\n            >Author</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          [[item.relationships.author.data.display_name]]\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="" width="[[_numWidth]]">\n        <template class="header">\n          <vaadin-grid-sorter path="meta.comment_count"\n            >Comments</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          <span class="center-data">[[item.meta.comment_count]]</span>\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Comments"\n            path="meta.comment_count"\n            value="[[_filterCommentsCount]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Comments"\n              value="{{_filterCommentsCount::input}}"\n              focus-target=""\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="" width="[[_numWidth]]">\n        <template class="header">\n          <vaadin-grid-sorter path="attributes.images.length"\n            >Images</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          <span class="center-data">[[item.attributes.images.length]]</span>\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Images"\n            path="attributes.images.length"\n            value="[[_filterImageCount]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Images"\n              value="{{_filterImageCount::input}}"\n              focus-target=""\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="" width="[[_numWidth]]">\n        <template class="header">\n          <vaadin-grid-sorter path="attributes.video.length"\n            >Video</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          <span class="center-data">[[item.attributes.video.length]]</span>\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Video"\n            path="attributes.video.length"\n            value="[[_filterVideosCount]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Video"\n              value="{{_filterVideosCount::input}}"\n              focus-target=""\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="" width="[[_numWidth]]">\n        <template class="header">\n          <vaadin-grid-sorter path="attributes.links.length"\n            >Links</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          <span class="center-data">[[item.attributes.links.length]]</span>\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Links"\n            path="attributes.links.length"\n            value="[[_filterLinksCount]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Links"\n              value="{{_filterLinksCount::input}}"\n              focus-target=""\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n      <vaadin-grid-column resizable="" width="[[_numWidth]]">\n        <template class="header">\n          <vaadin-grid-sorter path="attributes.files.length"\n            >Files</vaadin-grid-sorter\n          >\n        </template>\n        <template>\n          <span class="center-data">[[item.attributes.files.length]]</span>\n        </template>\n        <template class="footer">\n          <vaadin-grid-filter\n            aria-label="Files"\n            path="attributes.files.length"\n            value="[[_filterFileCount]]"\n          >\n            <paper-input\n              slot="filter"\n              label="Files"\n              value="{{_filterFileCount::input}}"\n              focus-target=""\n            ></paper-input>\n          </vaadin-grid-filter>\n        </template>\n      </vaadin-grid-column>\n    </vaadin-grid>\n  ']);return ne=function(){return n},n}function ee(){var n=Dn(['\n    <style include="materializecss-styles"></style>\n    <style>\n      :host {\n        display: block;\n        align-content: center;\n      }\n      #loading {\n        width: 100%;\n        z-index: 1000;\n        opacity: 0.8;\n        text-align: center;\n        align-content: center;\n        justify-content: center;\n        height: 100vh;\n        position: absolute;\n        background-color: white;\n      }\n      h1.empty-title,\n      h1.project-title {\n        font-size: 2em;\n      }\n      h2.assignment-title {\n        font-size: 1.5em;\n        font-weight: bold;\n        width: 100%;\n        border-bottom: solid 1px grey;\n      }\n      .project-steps {\n        display: flex;\n        align-items: center;\n      }\n      .project-step {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        word-break: break-all;\n        word-wrap: break-word;\n      }\n    </style>\n    <template is="dom-if" if="[[!showSubmissions]]">\n      <h1 class="empty-title black-text">\n        Please select an Author and Project in order to review their portfolio\n      </h1>\n    </template>\n    <template is="dom-if" if="[[showSubmissions]]">\n      <h1 class="project-title black-text">\n        [[activeProject.attributes.title]]\n      </h1>\n      <div class="project-steps">\n        <template\n          is="dom-repeat"\n          items="[[activeProject.attributes.steps]]"\n          as="assignment"\n        >\n          <lrnsys-button\n            icon$="[[_getSubmissionIcon(assignment.id)]]"\n            icon-class$="[[_getSubmissionClass(assignment.id)]]"\n            on-tap="_scrollToTarget"\n            label="[[assignment.title]]"\n            data-assignment-id$="[[assignment.id]]"\n            class="project-step"\n            hover-class="blue white-text"\n            raised=""\n            hidden$="[[!assignment.title]]"\n          ></lrnsys-button>\n        </template>\n      </div>\n      <template is="dom-repeat" items="[[renderSubmissions]]" as="submission">\n        <a\n          name="[[submission.relationships.assignment.title]]"\n          class$="assignment-[[submission.relationships.assignment.id]]"\n          ><h2 class="assignment-title">\n            [[submission.relationships.assignment.title]]\n          </h2></a\n        >\n        <lrnapp-studio-submission-display\n          submission="[[submission]]"\n          class="ferpa-protect"\n        ></lrnapp-studio-submission-display>\n      </template>\n    </template>\n  '],['\n    <style include="materializecss-styles"></style>\n    <style>\n      :host {\n        display: block;\n        align-content: center;\n      }\n      #loading {\n        width: 100%;\n        z-index: 1000;\n        opacity: 0.8;\n        text-align: center;\n        align-content: center;\n        justify-content: center;\n        height: 100vh;\n        position: absolute;\n        background-color: white;\n      }\n      h1.empty-title,\n      h1.project-title {\n        font-size: 2em;\n      }\n      h2.assignment-title {\n        font-size: 1.5em;\n        font-weight: bold;\n        width: 100%;\n        border-bottom: solid 1px grey;\n      }\n      .project-steps {\n        display: flex;\n        align-items: center;\n      }\n      .project-step {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        word-break: break-all;\n        word-wrap: break-word;\n      }\n    </style>\n    <template is="dom-if" if="[[!showSubmissions]]">\n      <h1 class="empty-title black-text">\n        Please select an Author and Project in order to review their portfolio\n      </h1>\n    </template>\n    <template is="dom-if" if="[[showSubmissions]]">\n      <h1 class="project-title black-text">\n        [[activeProject.attributes.title]]\n      </h1>\n      <div class="project-steps">\n        <template\n          is="dom-repeat"\n          items="[[activeProject.attributes.steps]]"\n          as="assignment"\n        >\n          <lrnsys-button\n            icon\\$="[[_getSubmissionIcon(assignment.id)]]"\n            icon-class\\$="[[_getSubmissionClass(assignment.id)]]"\n            on-tap="_scrollToTarget"\n            label="[[assignment.title]]"\n            data-assignment-id\\$="[[assignment.id]]"\n            class="project-step"\n            hover-class="blue white-text"\n            raised=""\n            hidden\\$="[[!assignment.title]]"\n          ></lrnsys-button>\n        </template>\n      </div>\n      <template is="dom-repeat" items="[[renderSubmissions]]" as="submission">\n        <a\n          name="[[submission.relationships.assignment.title]]"\n          class\\$="assignment-[[submission.relationships.assignment.id]]"\n          ><h2 class="assignment-title">\n            [[submission.relationships.assignment.title]]\n          </h2></a\n        >\n        <lrnapp-studio-submission-display\n          submission="[[submission]]"\n          class="ferpa-protect"\n        ></lrnapp-studio-submission-display>\n      </template>\n    </template>\n  ']);return ee=function(){return n},n}function te(){var n=Dn(['\n    <style include="materializecss-styles"></style>\n    <style>\n      :host {\n        display: block;\n        align-content: center;\n      }\n      #loading {\n        width: 100%;\n        z-index: 1000;\n        opacity: 0.8;\n        text-align: center;\n        align-content: center;\n        justify-content: center;\n        height: 100vh;\n        position: absolute;\n        background-color: white;\n      }\n      h1.empty-title,\n      h1.assignment-title {\n        font-size: 2em;\n      }\n      .submission-title {\n        font-size: 1em;\n        font-weight: bold;\n        width: 100%;\n        margin-bottom: 2rem;\n        text-transform: none;\n      }\n      .submission-list {\n        display: flex;\n        align-items: center;\n      }\n      .submission-list-item {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        word-break: break-all;\n        word-wrap: break-word;\n      }\n    </style>\n    <template is="dom-if" if="[[!showSubmissions]]">\n      <h1 class="empty-title black-text">\n        Please select an Assignment in order to view all submissions\n      </h1>\n    </template>\n    <template is="dom-if" if="[[showSubmissions]]">\n      <h1 class="assignment-title black-text">\n        [[activeAssignment.attributes.title]]\n      </h1>\n      <div class="submission-list">\n        <template is="dom-repeat" items="[[submissions]]" as="submission">\n          <lrnsys-button\n            on-tap="_scrollToTarget"\n            raised=""\n            class="submission-list-item"\n            button-class="submission-list-item"\n            hover-class="blue white-text"\n            data-submission-id$="[[submission.id]]"\n          >\n            <span slot="button">\n              <lrndesign-avatar\n                src="[[submission.relationships.author.data.avatar]]"\n                label="[[submission.relationships.author.data.name]]"\n                style="display:inline-block;"\n                data-submission-id$="[[submission.id]]"\n              ></lrndesign-avatar>\n            </span>\n            <span slot="label"\n              >[[submission.relationships.author.data.display_name]]</span\n            >\n          </lrnsys-button>\n        </template>\n      </div>\n      <template is="dom-repeat" items="[[submissions]]" as="submission">\n        <lrnapp-studio-submission-display\n          id$="submission-[[submission.id]]"\n          submission="[[submission]]"\n          class="ferpa-protect"\n        ></lrnapp-studio-submission-display>\n        <a tabindex="-1"\n          ><paper-button\n            class="submission-title ferpa-protect"\n            on-tap="_loadSubmissionUrl"\n            data-submission-id$="[[submission.id]]"\n            >Tap to comment on[[submission.attributes.title]] by\n            [[submission.relationships.author.data.display_name]]</paper-button\n          ></a\n        >\n      </template>\n    </template>\n  '],['\n    <style include="materializecss-styles"></style>\n    <style>\n      :host {\n        display: block;\n        align-content: center;\n      }\n      #loading {\n        width: 100%;\n        z-index: 1000;\n        opacity: 0.8;\n        text-align: center;\n        align-content: center;\n        justify-content: center;\n        height: 100vh;\n        position: absolute;\n        background-color: white;\n      }\n      h1.empty-title,\n      h1.assignment-title {\n        font-size: 2em;\n      }\n      .submission-title {\n        font-size: 1em;\n        font-weight: bold;\n        width: 100%;\n        margin-bottom: 2rem;\n        text-transform: none;\n      }\n      .submission-list {\n        display: flex;\n        align-items: center;\n      }\n      .submission-list-item {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        word-break: break-all;\n        word-wrap: break-word;\n      }\n    </style>\n    <template is="dom-if" if="[[!showSubmissions]]">\n      <h1 class="empty-title black-text">\n        Please select an Assignment in order to view all submissions\n      </h1>\n    </template>\n    <template is="dom-if" if="[[showSubmissions]]">\n      <h1 class="assignment-title black-text">\n        [[activeAssignment.attributes.title]]\n      </h1>\n      <div class="submission-list">\n        <template is="dom-repeat" items="[[submissions]]" as="submission">\n          <lrnsys-button\n            on-tap="_scrollToTarget"\n            raised=""\n            class="submission-list-item"\n            button-class="submission-list-item"\n            hover-class="blue white-text"\n            data-submission-id\\$="[[submission.id]]"\n          >\n            <span slot="button">\n              <lrndesign-avatar\n                src="[[submission.relationships.author.data.avatar]]"\n                label="[[submission.relationships.author.data.name]]"\n                style="display:inline-block;"\n                data-submission-id\\$="[[submission.id]]"\n              ></lrndesign-avatar>\n            </span>\n            <span slot="label"\n              >[[submission.relationships.author.data.display_name]]</span\n            >\n          </lrnsys-button>\n        </template>\n      </div>\n      <template is="dom-repeat" items="[[submissions]]" as="submission">\n        <lrnapp-studio-submission-display\n          id\\$="submission-[[submission.id]]"\n          submission="[[submission]]"\n          class="ferpa-protect"\n        ></lrnapp-studio-submission-display>\n        <a tabindex="-1"\n          ><paper-button\n            class="submission-title ferpa-protect"\n            on-tap="_loadSubmissionUrl"\n            data-submission-id\\$="[[submission.id]]"\n            >Tap to comment on[[submission.attributes.title]] by\n            [[submission.relationships.author.data.display_name]]</paper-button\n          ></a\n        >\n      </template>\n    </template>\n  ']);return te=function(){return n},n}function ie(){var n=Dn(['\n    <style include="materializecss-styles">\n      :host {\n        display: block;\n        align-content: center;\n      }\n      #loading {\n        width: 100%;\n        z-index: 1000;\n        opacity: 0.8;\n        text-align: center;\n        align-content: center;\n        justify-content: center;\n        height: 100vh;\n        position: absolute;\n        background-color: white;\n      }\n      iron-selector {\n        line-height: 1em;\n      }\n      iron-selector lrnsys-button {\n        display: inline-flex;\n      }\n      paper-button.gallerycard-wrapper {\n        margin: 0;\n        padding: 0;\n      }\n      lrndesign-gallerycard {\n        padding: 0;\n        margin: 1em;\n        height: 15em;\n        width: 14em;\n      }\n      .gallery-grid {\n        margin: 0 auto;\n        width: 95%;\n      }\n      .iron-selected .display-mode {\n        background-color: #ff6f00;\n        color: white;\n      }\n      .iron-list-container {\n        display: flex;\n        flex-direction: column;\n        min-height: 50vh;\n      }\n      iron-list {\n        flex: 1 1 auto;\n      }\n    </style>\n    <iron-ajax\n      auto\n      url="[[sourcePath]]"\n      params=""\n      handle-as="json"\n      last-response="{{studioResponse}}"\n      on-response="_handleResponse"\n    ></iron-ajax>\n\n    <app-location\n      route="{{route}}"\n      query-params="{{queryParams}}"\n    ></app-location>\n    <app-route\n      route="{{route}}"\n      pattern="[[endPoint]]/:page"\n      data="{{data}}"\n      tail="{{tail}}"\n      query-params="{{queryParams}}"\n    >\n    </app-route>\n\n    <div id="loading">\n      <h3>Loading..</h3>\n      <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n    </div>\n    <app-toolbar class="amber lighten-3">\n      <iron-selector\n        selected="{{data.page}}"\n        attr-for-selected="name"\n        role="navigation"\n      >\n        <a tabindex="-1" name="submissions" on-tap="_submissionsClicked"\n          ><lrnsys-button\n            icon="apps"\n            label="Submission display"\n            hover-class="amber darken-4 white-text"\n            class="display-mode"\n            button-class="display-mode style-scope lrnapp-open-studio x-scope lrnsys-button-0"\n          ></lrnsys-button\n        ></a>\n        <a tabindex="-1" name="projects" on-tap="_projectsClicked"\n          ><lrnsys-button\n            icon="folder"\n            label="Project board"\n            hover-class="amber darken-4 white-text"\n            class="display-mode"\n            button-class="display-mode style-scope lrnapp-open-studio x-scope lrnsys-button-0"\n          ></lrnsys-button\n        ></a>\n        <a tabindex="-1" name="assignments" on-tap="_assignmentsClicked"\n          ><lrnsys-button\n            icon="list"\n            label="Assignment centric"\n            hover-class="amber darken-4 white-text"\n            class="display-mode"\n            button-class="display-mode style-scope lrnapp-open-studio x-scope lrnsys-button-0"\n          ></lrnsys-button\n        ></a>\n        <a tabindex="-1" name="table" on-tap="_tableClicked"\n          ><lrnsys-button\n            icon="view-list"\n            label="Table view"\n            hover-class="amber darken-4 white-text"\n            class="display-mode"\n            button-class="display-mode style-scope lrnapp-open-studio x-scope lrnsys-button-0"\n          ></lrnsys-button\n        ></a>\n      </iron-selector>\n      <span main-title></span>\n      <span top-item style="text-align:right;font-size:.5em;padding-right:1em;"\n        >Displaying [[submissions.length]] of\n        [[originalSubmissions.length]]</span\n      >\n      <paper-dropdown-menu label="Author" hidden$="[[!authors]]">\n        <paper-listbox\n          slot="dropdown-content"\n          class="dropdown-content"\n          selected="{{queryParams.author}}"\n          attr-for-selected="item-id"\n        >\n          <paper-item></paper-item>\n          <template is="dom-repeat" items="[[_toArray(authors)]]" as="author">\n            <paper-item item-id="[[author.id]]"\n              >[[author.display_name]]</paper-item\n            >\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n      <paper-dropdown-menu label="Project" hidden$="[[!projects]]">\n        <paper-listbox\n          slot="dropdown-content"\n          class="dropdown-content"\n          selected="{{queryParams.project}}"\n          attr-for-selected="item-id"\n        >\n          <paper-item></paper-item>\n          <template is="dom-repeat" items="[[_toArray(projects)]]" as="project">\n            <paper-item item-id="[[project.id]]"\n              >[[project.attributes.title]]</paper-item\n            >\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n      <paper-dropdown-menu label="Assignment" hidden$="[[!assignments]]">\n        <paper-listbox\n          slot="dropdown-content"\n          class="dropdown-content"\n          selected="{{queryParams.assignment}}"\n          attr-for-selected="item-id"\n        >\n          <paper-item></paper-item>\n          <template\n            is="dom-repeat"\n            items="[[_toArray(assignments)]]"\n            as="assignment"\n          >\n            <paper-item item-id="[[assignment.id]]"\n              >[[assignment.attributes.title]]</paper-item\n            >\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n    </app-toolbar>\n    <div class="gallery-grid">\n      <iron-pages\n        selected="{{data.page}}"\n        attr-for-selected="name"\n        fallback-selection="submissions"\n        role="main"\n      >\n        <div class="iron-list-container" name="submissions">\n          <iron-list id="ironlist" items="[[submissions]]" as="item" grid>\n            <template>\n              <paper-button\n                data-submission-id$="[[item.id]]"\n                class="gallerycard-wrapper"\n                on-tap="_loadSubmissionUrl"\n              >\n                <lrndesign-gallerycard\n                  elevation="2"\n                  data-submission-id$="[[item.id]]"\n                  title="[[item.attributes.title]]"\n                  author="[[item.relationships.author.data]]"\n                  comments="[[item.meta.comment_count]]"\n                  image="[[item.display.image]]"\n                  icon="[[item.display.icon]]"\n                  date="[[item.meta.humandate]]"\n                  class="ferpa-protect"\n                >\n                </lrndesign-gallerycard>\n              </paper-button>\n            </template>\n          </iron-list>\n        </div>\n        <lrnapp-open-studio-assignments\n          name="assignments"\n          base-path="[[basePath]]"\n          submissions="[[submissions]]"\n          assignments="[[assignments]]"\n          active-author-id="[[queryParams.author]]"\n          active-assignment-id="[[queryParams.assignment]]"\n        ></lrnapp-open-studio-assignments>\n        <lrnapp-open-studio-projects\n          name="projects"\n          base-path="[[basePath]]"\n          projects="[[projects]]"\n          submissions="[[submissions]]"\n          assignments="[[assignments]]"\n          active-author-id="[[queryParams.author]]"\n          active-project-id="[[queryParams.project]]"\n        ></lrnapp-open-studio-projects>\n        <lrnapp-open-studio-table\n          name="table"\n          base-path="[[basePath]]"\n          submissions="{{submissions}}"\n        ></lrnapp-open-studio-table>\n      </iron-pages>\n    </div>\n    <paper-toast id="toast"></paper-toast>\n  ']);return ie=function(){return n},n}function ae(){var n=Dn(['\n    <style include="materializecss-styles paper-item-styles">\n      :host {\n        display: block;\n      }\n      #loading {\n        width: 100%;\n        z-index: 1000;\n        opacity: 0.8;\n        text-align: center;\n        align-content: center;\n        justify-content: center;\n        background-color: white;\n      }\n      paper-button {\n        padding: 0;\n        margin: 0;\n        min-width: 1rem;\n        text-transform: unset;\n      }\n      .project-card {\n        width: 100%;\n        min-width: 15em;\n        max-width: 20em;\n        margin: 0 1em;\n      }\n      .button-contents {\n        display: flex;\n        align-content: center;\n      }\n      .assignment-row {\n        border: 1px solid #000000;\n        background-color: #ffffff;\n      }\n      .assignment-row .assignment-row-button.active {\n        background-color: var(--paper-amber-50);\n        font-weight: bold;\n      }\n      .assignment-row:hover .assignment-operations {\n        display: block;\n        overflow: visible;\n        margin: 0.2em;\n      }\n      .assignment-row-button {\n        width: 100%;\n        justify-content: flex-start;\n        height: 3em;\n        text-transform: none;\n      }\n      .assignment-title {\n        display: inline-flex;\n        align-items: center;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        line-height: 1em;\n      }\n      .status-indicator {\n        border-right: 1px solid grey;\n        padding: 0.5em;\n        margin: 0 0.5em 0 0;\n        display: inline-flex;\n        line-height: 3em;\n        height: 3em;\n        justify-content: center;\n        align-items: center;\n      }\n      .whole-project {\n        width: 100%;\n        margin: 0;\n        padding: 0;\n      }\n    </style>\n    <iron-ajax\n      auto=""\n      url="{{sourcePath}}"\n      handle-as="json"\n      last-response="{{response}}"\n      on-response="handleResponse"\n    ></iron-ajax>\n    <div id="loading">\n      <h3>Loading..</h3>\n      <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n    </div>\n    <template is="dom-if" if="[[hasProject]]">\n      <a tabindex="-1" href$="[[basePath]]lrnapp-studio-kanban">\n        <paper-button class="whole-project ferpa-protect">\n          <paper-card\n            id$="project-[[project.id]]"\n            class="project-card grey lighten-3"\n            heading="{{project.attributes.title}}"\n            elevation="2"\n          >\n            <div class="card-content">\n              <iron-list\n                items="[[_toArray(project.relationships.assignments)]]"\n                as="assignment"\n              >\n                <template>\n                  <div class="assignment-row" id="assignment">\n                    <lrnsys-button\n                      inner-class="no-left-padding"\n                      class="assignment-row-button"\n                      button-class="assignment-row-button"\n                      id$="assignment-[[project.id]]-[[assignment.id]]"\n                      hover-class="amber lighten-5"\n                      href$="[[basePath]]lrnapp-studio-kanban"\n                    >\n                      <span slot="button" class="button-contents">\n                        <div\n                          class$="status-indicator [[assignment.metadata.relatedSubmissions.complete.color]]"\n                        >\n                          <iron-icon\n                            icon="[[assignment.metadata.relatedSubmissions.complete.icon]]"\n                          ></iron-icon>\n                        </div>\n                        <div class="assignment-title">[[assignment.title]]</div>\n                      </span>\n                    </lrnsys-button>\n                  </div>\n                </template>\n              </iron-list>\n            </div>\n          </paper-card>\n        </paper-button>\n      </a>\n    </template>\n    <template is="dom-if" if="[[!hasProject]]">\n      <lrnsys-button\n        inner-class="no-left-padding"\n        button-class="assignment-row-button"\n        class="assignment-row-button"\n        href$="[[basePath]]lrnapp-studio-kanban"\n        hover-class="amber lighten-5"\n      >\n        <span slot="button" class="button-contents">\n          <div class="status-indicator">\n            <iron-icon icon="assignment"></iron-icon>\n          </div>\n          <div class="assignment-title">Tap to start your first project!</div>\n        </span>\n      </lrnsys-button>\n    </template>\n  '],['\n    <style include="materializecss-styles paper-item-styles">\n      :host {\n        display: block;\n      }\n      #loading {\n        width: 100%;\n        z-index: 1000;\n        opacity: 0.8;\n        text-align: center;\n        align-content: center;\n        justify-content: center;\n        background-color: white;\n      }\n      paper-button {\n        padding: 0;\n        margin: 0;\n        min-width: 1rem;\n        text-transform: unset;\n      }\n      .project-card {\n        width: 100%;\n        min-width: 15em;\n        max-width: 20em;\n        margin: 0 1em;\n      }\n      .button-contents {\n        display: flex;\n        align-content: center;\n      }\n      .assignment-row {\n        border: 1px solid #000000;\n        background-color: #ffffff;\n      }\n      .assignment-row .assignment-row-button.active {\n        background-color: var(--paper-amber-50);\n        font-weight: bold;\n      }\n      .assignment-row:hover .assignment-operations {\n        display: block;\n        overflow: visible;\n        margin: 0.2em;\n      }\n      .assignment-row-button {\n        width: 100%;\n        justify-content: flex-start;\n        height: 3em;\n        text-transform: none;\n      }\n      .assignment-title {\n        display: inline-flex;\n        align-items: center;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        line-height: 1em;\n      }\n      .status-indicator {\n        border-right: 1px solid grey;\n        padding: 0.5em;\n        margin: 0 0.5em 0 0;\n        display: inline-flex;\n        line-height: 3em;\n        height: 3em;\n        justify-content: center;\n        align-items: center;\n      }\n      .whole-project {\n        width: 100%;\n        margin: 0;\n        padding: 0;\n      }\n    </style>\n    <iron-ajax\n      auto=""\n      url="{{sourcePath}}"\n      handle-as="json"\n      last-response="{{response}}"\n      on-response="handleResponse"\n    ></iron-ajax>\n    <div id="loading">\n      <h3>Loading..</h3>\n      <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n    </div>\n    <template is="dom-if" if="[[hasProject]]">\n      <a tabindex="-1" href\\$="[[basePath]]lrnapp-studio-kanban">\n        <paper-button class="whole-project ferpa-protect">\n          <paper-card\n            id\\$="project-[[project.id]]"\n            class="project-card grey lighten-3"\n            heading="{{project.attributes.title}}"\n            elevation="2"\n          >\n            <div class="card-content">\n              <iron-list\n                items="[[_toArray(project.relationships.assignments)]]"\n                as="assignment"\n              >\n                <template>\n                  <div class="assignment-row" id="assignment">\n                    <lrnsys-button\n                      inner-class="no-left-padding"\n                      class="assignment-row-button"\n                      button-class="assignment-row-button"\n                      id\\$="assignment-[[project.id]]-[[assignment.id]]"\n                      hover-class="amber lighten-5"\n                      href\\$="[[basePath]]lrnapp-studio-kanban"\n                    >\n                      <span slot="button" class="button-contents">\n                        <div\n                          class\\$="status-indicator [[assignment.metadata.relatedSubmissions.complete.color]]"\n                        >\n                          <iron-icon\n                            icon="[[assignment.metadata.relatedSubmissions.complete.icon]]"\n                          ></iron-icon>\n                        </div>\n                        <div class="assignment-title">[[assignment.title]]</div>\n                      </span>\n                    </lrnsys-button>\n                  </div>\n                </template>\n              </iron-list>\n            </div>\n          </paper-card>\n        </paper-button>\n      </a>\n    </template>\n    <template is="dom-if" if="[[!hasProject]]">\n      <lrnsys-button\n        inner-class="no-left-padding"\n        button-class="assignment-row-button"\n        class="assignment-row-button"\n        href\\$="[[basePath]]lrnapp-studio-kanban"\n        hover-class="amber lighten-5"\n      >\n        <span slot="button" class="button-contents">\n          <div class="status-indicator">\n            <iron-icon icon="assignment"></iron-icon>\n          </div>\n          <div class="assignment-title">Tap to start your first project!</div>\n        </span>\n      </lrnsys-button>\n    </template>\n  ']);return ae=function(){return n},n}function se(){var n=Dn(['\n    <style include="paper-item-styles">\n      :host {\n        display: block;\n      }\n      paper-button {\n        width: 100%;\n      }\n    </style>\n    <iron-ajax\n      auto=""\n      url="{{sourcePath}}"\n      handle-as="json"\n      last-response="{{response}}"\n      on-response="handleResponse"\n    ></iron-ajax>\n    <div id="loading">\n      <h3>Loading..</h3>\n      <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n    </div>\n    <iron-list items="[[_toArray(response.data)]]" as="item">\n      <template>\n        <paper-button on-tap="_loadSubmissionUrl">\n          <lrndesign-gallerycard\n            data-submission-id$="[[item.id]]"\n            title="[[item.attributes.title]]"\n            author="[[item.relationships.author.data]]"\n            comments="[[item.meta.comment_count]]"\n            image="[[item.display.image]]"\n            icon="[[item.display.icon]]"\n            class="ferpa-protect"\n          >\n          </lrndesign-gallerycard>\n        </paper-button>\n      </template>\n    </iron-list>\n  '],['\n    <style include="paper-item-styles">\n      :host {\n        display: block;\n      }\n      paper-button {\n        width: 100%;\n      }\n    </style>\n    <iron-ajax\n      auto=""\n      url="{{sourcePath}}"\n      handle-as="json"\n      last-response="{{response}}"\n      on-response="handleResponse"\n    ></iron-ajax>\n    <div id="loading">\n      <h3>Loading..</h3>\n      <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n    </div>\n    <iron-list items="[[_toArray(response.data)]]" as="item">\n      <template>\n        <paper-button on-tap="_loadSubmissionUrl">\n          <lrndesign-gallerycard\n            data-submission-id\\$="[[item.id]]"\n            title="[[item.attributes.title]]"\n            author="[[item.relationships.author.data]]"\n            comments="[[item.meta.comment_count]]"\n            image="[[item.display.image]]"\n            icon="[[item.display.icon]]"\n            class="ferpa-protect"\n          >\n          </lrndesign-gallerycard>\n        </paper-button>\n      </template>\n    </iron-list>\n  ']);return se=function(){return n},n}function oe(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n\n      paper-card {\n        padding: 2em 2em 0 2em;\n        clear: right;\n      }\n\n      paper-button {\n        background-color: var(--paper-grey-100);\n        margin: 1em;\n      }\n\n      .card-content {\n        padding-left: 2em;\n        padding-right: 2em;\n        width: 100%;\n      }\n\n      .card-actions {\n        width: 100%;\n      }\n\n      .card-actions paper-button {\n        display: flex;\n      }\n\n      lrndesign-avatar {\n        float: left;\n        margin-right: 1em;\n      }\n\n      .flex-wrap {\n        @apply --layout-horizontal;\n        @apply --layout-wrap;\n      }\n\n      .inactive {\n        max-height: 4.6em;\n        overflow: hidden;\n      }\n\n      paper-button {\n        background: white;\n        width: 100%;\n        display: flex;\n      }\n\n      lrn-icon {\n        color: black;\n        width: 100%;\n      }\n\n      .hidden {\n        display: none;\n      }\n    </style>\n    <paper-card elevation="3" class="flex-wrap">\n      <div class="card-content">\n        <lrndesign-avatar\n          label="[[commentUser.name]]"\n          src="[[commentUser.avatar]]"\n        ></lrndesign-avatar>\n        <h3>[[commentUser.display_name]]</h3>\n        <div id="wrapper" class="button-wrapper">\n          <div id="comment" class="inactive"><slot></slot></div>\n          <paper-button id="btn" class="hidden">\n            <lrn-icon icon="chevron-down" id="icon"></lrn-icon>\n          </paper-button>\n        </div>\n      </div>\n      <div class="card-actions">\n        <template is="dom-if" if="[[actionView]]">\n          <a href$="[[actionView]]" tabindex="-1">\n            <paper-button raised="" id="view">View thread</paper-button>\n          </a>\n        </template>\n      </div>\n    </paper-card>\n  ']);return oe=function(){return n},n}function re(){var n=Dn(['\n    <style include="paper-item-styles">\n      :host {\n        display: block;\n      }\n    </style>\n    <div id="loading">\n      <h3>Loading..</h3>\n      <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n    </div>\n    <iron-ajax\n      auto=""\n      url="{{sourcePath}}"\n      handle-as="json"\n      last-response="{{response}}"\n      on-response="handleResponse"\n    ></iron-ajax>\n    <template is="dom-repeat" items="[[_toArray(response.data)]]" as="comment">\n      <lrnapp-block-recent-comments-comment\n        comment-user="{{comment.relationships.author.data}}"\n        comment-title="{{comment.attributes.subject}}"\n        action-view="{{_getViewLink(comment.relationships.node.data.id)}}"\n        date-updated="{{comment.attributes.changed}}"\n        class="ferpa-protect"\n      >\n        [[comment.attributes.body]]\n      </lrnapp-block-recent-comments-comment>\n    </template>\n  ']);return re=function(){return n},n}function le(){var n=Dn(['\n    <style include="paper-item-styles">\n      :host {\n        display: block;\n      }\n      paper-button {\n        width: 100%;\n      }\n    </style>\n    <iron-ajax\n      auto=""\n      url="{{sourcePath}}"\n      handle-as="json"\n      last-response="{{response}}"\n      on-response="handleResponse"\n    ></iron-ajax>\n    <div id="loading">\n      <h3>Loading..</h3>\n      <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n    </div>\n    <iron-list items="[[_toArray(response.data)]]" as="item">\n      <template>\n        <paper-button on-tap="_loadSubmissionUrl">\n          <lrndesign-gallerycard\n            data-submission-id$="[[item.id]]"\n            title="[[item.attributes.title]]"\n            author="[[item.relationships.author.data]]"\n            comments="[[item.meta.comment_count]]"\n            image="[[item.display.image]]"\n            icon="[[item.display.icon]]"\n            class="ferpa-protect"\n          >\n          </lrndesign-gallerycard>\n        </paper-button>\n      </template>\n    </iron-list>\n  '],['\n    <style include="paper-item-styles">\n      :host {\n        display: block;\n      }\n      paper-button {\n        width: 100%;\n      }\n    </style>\n    <iron-ajax\n      auto=""\n      url="{{sourcePath}}"\n      handle-as="json"\n      last-response="{{response}}"\n      on-response="handleResponse"\n    ></iron-ajax>\n    <div id="loading">\n      <h3>Loading..</h3>\n      <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n    </div>\n    <iron-list items="[[_toArray(response.data)]]" as="item">\n      <template>\n        <paper-button on-tap="_loadSubmissionUrl">\n          <lrndesign-gallerycard\n            data-submission-id\\$="[[item.id]]"\n            title="[[item.attributes.title]]"\n            author="[[item.relationships.author.data]]"\n            comments="[[item.meta.comment_count]]"\n            image="[[item.display.image]]"\n            icon="[[item.display.icon]]"\n            class="ferpa-protect"\n          >\n          </lrndesign-gallerycard>\n        </paper-button>\n      </template>\n    </iron-list>\n  ']);return le=function(){return n},n}function de(){var n=Dn(['\n    <style include="materializecss-styles">\n      :host {\n        display: block;\n        padding: 0 2em;\n      }\n      h1.title {\n        font-size: 2em;\n        color: black;\n        margin: 0;\n        padding: 0.5em 0 0 0;\n        text-transform: none;\n        text-align: left;\n      }\n      p.para {\n        margin: 0;\n        padding: 0.25em 0.5em;\n      }\n      .dashboard-row {\n        width: 100%;\n        display: inline-flex;\n      }\n      .dashboard-item {\n        width: 30%;\n      }\n    </style>\n    <h1 class="title">Welcome back [[username]]!</h1>\n    <p class="para">Here\'s what\'s been going on in the studio</p>\n    <div class="dashboard-row">\n      <paper-card heading="Your active project" class="dashboard-item">\n        <div class="card-content">\n          <lrnapp-block-recent-project\n            csrf-token="[[csrfToken]]"\n            end-point="[[_getEndPoint(basePath)]]"\n            base-path="[[basePath]]"\n            source-path="[[_getDataSource(csrfToken, basePath,\'recent-project\')]]"\n          >\n          </lrnapp-block-recent-project>\n        </div>\n      </paper-card>\n      <paper-card heading="Classmates needing feedback" class="dashboard-item">\n        <div class="card-content">\n          <lrnapp-block-need-feedback\n            csrf-token="[[csrfToken]]"\n            end-point="[[_getEndPoint(basePath)]]"\n            base-path="[[basePath]]"\n            source-path="[[_getDataSource(csrfToken, basePath,\'need-feedback\')]]"\n          >\n          </lrnapp-block-need-feedback>\n        </div>\n      </paper-card>\n      <paper-card heading="Recent Studio submissions" class="dashboard-item">\n        <div class="card-content">\n          <lrnapp-block-recent-submissions\n            csrf-token="[[csrfToken]]"\n            end-point="[[_getEndPoint(basePath)]]"\n            base-path="[[basePath]]"\n            source-path="[[_getDataSource(csrfToken, basePath,\'recent-submissions\')]]"\n          >\n          </lrnapp-block-recent-submissions>\n        </div>\n      </paper-card>\n      <paper-card heading="Recent Studio comments" class="dashboard-item">\n        <div class="card-content">\n          <lrnapp-block-recent-comments\n            csrf-token="[[csrfToken]]"\n            end-point="[[_getEndPoint(basePath)]]"\n            base-path="[[basePath]]"\n            source-path="[[_getDataSource(csrfToken, basePath,\'recent-comments\')]]"\n          >\n          </lrnapp-block-recent-comments>\n        </div>\n      </paper-card>\n    </div>\n  ']);return de=function(){return n},n}function pe(){var n=Dn(['\n  <style include="materializecss-styles">\n    :host {\n      display: block;\n      align-content: center;\n      padding: .8em;\n    }\n    vaadin-grid-table-body > vaadin-grid-cell-content {\n      height: unset !important;\n    }\n    lrnsys-dialog-toolbar {\n      top: 0;\n      position: sticky !important;\n      z-index: 1;\n    }\n    #loading {\n      width: 100%;\n      z-index: 1000;\n      opacity: .8;\n      text-align: center;\n      align-content: center;\n      justify-content: center;\n      height: 100vh;\n      position: absolute;\n      background-color: white;\n    }\n    .center-data {\n      text-align: center;\n    }\n    vaadin-grid#material {\n      height: 75vh;\n      font-family: Roboto, sans-serif;\n      --divider-color: rgba(0, 0, 0, var(--dark-divider-opacity));\n\n      --vaadin-grid-cell: {\n        padding: 0;\n      };\n\n      --vaadin-grid-header-cell: {\n        height: 3.5em;\n        color: rgba(0, 0, 0, var(--dark-secondary-opacity));\n        font-size: 1em;\n      };\n\n      --vaadin-grid-body-cell: {\n        height: 3em;\n        color: rgba(0, 0, 0, var(--dark-primary-opacity));\n        font-size: .8em;\n      };\n\n      --vaadin-grid-body-row-hover-cell: {\n        background-color: var(--paper-grey-200);\n      };\n\n      --vaadin-grid-body-row-selected-cell: {\n        background-color: var(--paper-grey-100);\n      };\n\n      --vaadin-grid-focused-cell: {\n        box-shadow: none;\n        font-weight: bold;\n      };\n    }\n\n    vaadin-grid#material .cell {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      padding-right: 56px;\n    }\n\n    vaadin-grid#material .cell.last {\n      padding-right: 24px;\n    }\n\n    vaadin-grid#material .cell.numeric {\n      text-align: right;\n    }\n\n    vaadin-grid#material paper-checkbox {\n      --primary-color: var(--paper-indigo-500);\n      margin: 0 24px;\n    }\n\n    vaadin-grid#material vaadin-grid-sorter .cell {\n      flex: 1;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n\n    vaadin-grid#material vaadin-grid-sorter iron-icon {\n      transform: scale(0.8);\n    }\n\n    vaadin-grid#material vaadin-grid-sorter:not([direction]) iron-icon {\n      color: rgba(0, 0, 0, var(--dark-disabled-opacity));\n    }\n\n    vaadin-grid#material vaadin-grid-sorter[direction] {\n      color: rgba(0, 0, 0, var(--dark-primary-opacity));\n    }\n\n    vaadin-grid#material vaadin-grid-sorter[direction=desc] iron-icon {\n      transform: scale(0.8) rotate(180deg);\n    }\n    vaadin-grid-sorter {\n      text-align: center;\n    }\n\n    lrndesign-avatar {\n      display: inline-block;\n    }\n    .avatar-label {\n      display: inline-block;\n      margin-left: .2em;\n    }\n\n    .avatar-button {\n\n    }\n    .assignment-button {\n      height: 1em;\n    }\n    .project-button {\n      height: 1em;\n    }\n    paper-badge {\n      top: 0 !important;\n      left: unset !important;\n      right: 0;\n      z-index: 1;\n    }\n    .avatar-link {\n      color: black;\n    }\n    .avatar-link paper-button {\n      text-transform: unset;\n    }\n    #selectedproject {\n      display: inline-block;\n    }\n    #datatype {\n      display: inline-block;\n      vertical-align: middle;\n      --paper-toggle-button-checked-bar-color:  var(--paper-green-500);\n      --paper-toggle-button-checked-button-color:  var(--paper-green-500);\n      --paper-toggle-button-checked-ink-color: var(--paper-green-500);\n      --paper-toggle-button-unchecked-bar-color:  var(--paper-amber-900);\n      --paper-toggle-button-unchecked-button-color:  var(--paper-amber-900);\n      --paper-toggle-button-unchecked-ink-color: var(--paper-amber-900);\n    }\n    .comment-list {\n      list-style-image: none;\n      display: inline-block;\n      padding: 0;\n      margin: 0;\n    }\n    .stats-text {\n      font-size: .8em;\n      font-style: italic;\n      line-height: 1em;\n      padding: 0 0 0 2em;\n      display: inline-block;\n      text-align: right;\n    }\n  </style>\n  <app-location route="{{route}}"></app-location>\n  <app-route\n      route="{{route}}"\n      pattern="[[endPoint]]/submissions/:submission"\n      data="{{data}}"\n      tail="{{tail}}">\n  </app-route>\n  <iron-ajax auto\n    id="projectrequest"\n    url="[[sourceProjectPath]]"\n    params=""\n    handle-as="json"\n    last-response="{{_projectData}}"\n    on-response="_handleProjectResponse"></iron-ajax>\n  <iron-ajax\n    id="studentrequest"\n    url="[[sourceStudentPath]]"\n    params=\'[[studentParams]]\'\n    handle-as="json"\n    last-response="{{_studentData}}"\n    on-response="_handleStudentResponse"></iron-ajax>\n  <div id="loading">\n    <h3>Loading..</h3>\n    <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n  </div>\n  <div hidden$="[[activeProject]]">Select a project to begin reviewing work</div>\n  <dropdown-select id="selectedproject" label="Project">\n    <template is="dom-repeat" items="[[_toArray(projects)]]" as="project">\n      <paper-item value$="[[project.id]]">[[project.attributes.title]]</paper-item>\n    </template>\n  </dropdown-select>\n  <paper-toggle-button id="datatype" checked="{{dataType}}" disabled>\n    [[dataTypeText]]\n  </paper-toggle-button>\n  <lrnsys-dialog id="statsdialog" disabled>\n    <span slot="button"><iron-icon icon="editor:show-chart"></iron-icon> Statistics (beta)</span>\n    <span slot="toolbar-primary">\n      [[stats.header]]\n    </span>\n  <span slot="content">\n      <div style="padding: 2em 4em;">\n        <span class="stats-text">[[stats.overview]]</span>\n        <dropdown-select id="selectedchart" label="Graph style">\n          <paper-item value="byassignment-submissions">Submissions by Assignment</paper-item>\n          <paper-item value="byassignment-comments">Comments by Assignment</paper-item>\n          <paper-item value="byassignment-commenters">Commenters by Assignment</paper-item>\n        </dropdown-select>\n        <lrndesign-bar chart-title="[[activeChart.title]]" chart-desc="[[activeChart.description]]" data="[[activeChart.data]]"></lrndesign-bar>\n      </div>\n    </span>\n  </lrnsys-dialog>\n  <vaadin-grid hidden$="[[!students]]" id="material" aria-label="Student project list" items="[[_toArray(students)]]">\n    <vaadin-grid-column resizable>\n      <template class="header">\n        <vaadin-grid-sorter id="sorter" path="sis.sortable_name">Student</vaadin-grid-sorter>\n      </template>\n      <template>\n        <a href$="[[basePath]]lrnapp-open-studio/projects?author=[[item.id]]&project=[[activeProject]]" tabindex="-1" target="_blank" class="avatar-link ferpa-protect">\n          <paper-button class="avatar-button">\n            <lrndesign-avatar label="[[item.name]]" src="[[item.avatar]]"></lrndesign-avatar>\n            <span class="avatar-label">[[item.sis.sortable_name]]</span>\n          </paper-button>\n        </a>\n      </template>\n      <template class="footer">\n        <vaadin-grid-filter aria-label="Student" path="sis.sortable_name" value="[[_filterName]]">\n          <paper-input slot="filter" label="Student" value="{{_filterName::input}}" focus-target></paper-input>\n        </vaadin-grid-filter>\n      </template>\n    </vaadin-grid-column>\n    <template is="dom-repeat" items="[[_toArray(assignments)]]" as="assignment">\n      <vaadin-grid-column resizable>\n        <template class="header">\n          <span>[[assignment.title]]</span>\n        </template>\n        <template>\n          <template is="dom-if" if="[[_submissionStatus(item, assignment, dataType)]]">\n            <template is="dom-if" if="[[!dataType]]">\n              <lrnsys-button icon="[[_submissionPiece(item, assignment, \'icon\')]]" id$="student-[[item.id]]-assignment-[[assignment.id]]-submission-[[_submissionID(item, assignment)]]" label="[[_submissionPiece(item, assignment, \'title\')]]" on-tap="_setActiveSubmission">\n              </lrnsys-button>\n            </template>\n            <template is="dom-if" if="[[dataType]]">\n              <ul class="comment-list">\n              <template is="dom-repeat" items="[[_submissionPiece(item, assignment, \'comments\')]]" as="commented">\n                <li>\n                  <lrnsys-button icon="communication:comment" id$="student-[[item.id]]-assignment-[[assignment.id]]-submission-[[commented]]" label="#[[_commentIndex(index)]]" on-tap="_setActiveComment">\n                  </lrnsys-button>\n                </li>\n              </template>\n              </ul>\n            </template>\n          </template>\n          <template is="dom-if" if="[[!_submissionStatus(item, assignment, dataType)]]">\n            <paper-button disabled class="project-button" id$="student-[[item.id]]-assignment-[[assignment.id]]-submission-null">X</paper-button>\n          </template>\n          <template is="dom-if" if="[[_commentCount(item, assignment, dataType)]]">\n            <paper-badge id$="student-[[item.id]]-assignment-[[assignment.id]]-tip" for="student-[[item.id]]-assignment-[[assignment.id]]" label="[[_commentCount(item, assignment, dataType)]]"></paper-badge>\n            <paper-tooltip for="student-[[item.id]]-assignment-[[assignment.id]]-tip">Comments left on classmates [[assignment.title]]</paper-badge>\n          </template>\n        </template>\n      </vaadin-grid-column>\n    </template>\n  </vaadin-grid>\n  <lrnsys-dialog id="dialog" style="overflow: visible;">\n    <span slot="toolbar-primary">\n      <span style="width:15em;">\n        <paper-icon-button on-tap="_changeActiveItem" id="prevstudent" icon="arrow-upward" title="previous student"></paper-icon-button>\n        <paper-icon-button on-tap="_changeActiveItem" id="nextstudent" icon="arrow-downward" title="next student"></paper-icon-button>\n        <lrndesign-avatar class="ferpa-protect" label="[[activeData.student.name]]" src="[[activeData.student.avatar]]" style="display:inline-block;vertical-align:middle;"></lrndesign-avatar>\n        <span class="avatar-label ferpa-protect" style="margin-left:1em;">[[activeData.student.sis.sortable_name]]</span>\n      </span>\n      <paper-icon-button on-tap="_changeActiveItem" id="prevassignment" icon="arrow-back" title="previous assignment" style="margin-left:1em;"></paper-icon-button>\n      <paper-icon-button on-tap="_changeActiveItem" id="nextassignment" icon="arrow-forward" title="next assignment"></paper-icon-button>\n      <span style="font-weight:bold;">Assignment: [[activeData.assignment.title]]</span>\n    </span>\n    <span slot="content">\n      <template is="dom-if" if="[[activeData.submission]]">\n        <lrnapp-studio-submission-page base-path="[[basePath]]" route="{{tail}}" id="[[data.submission]]" end-point="[[basePath]]lrnapp-studio-submission" csrf-token="[[csrfToken]]" data="[[data]]" hide-menu-bar></lrnapp-studio-submission-page>\n      </template>\n      <template is="dom-if" if="[[!activeData.submission]]">\n        <div>\n          <h3>No submission for this assignment</h3>\n          <p>This student has not submitted anything for this assignment at this time.</p>\n        </div>\n      </template>\n    </span>\n  </lrnsys-dialog>  \n']);return pe=function(){return n},n}function ce(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <template is="dom-if" if="[[createProjectsUrl]]">\n      <lrnsys-button\n        raised=""\n        class$="[[classes]]"\n        button-class$="[[classes]]"\n        icon="[[icon]]"\n        on-tap="_createProject"\n        label="Create project"\n      ></lrnsys-button>\n      <iron-ajax\n        id="ajaxCreateStub"\n        url="[[createProjectsUrl]]"\n        method="POST"\n        handle-as="json"\n        on-response="_ajaxCreateStubHandler"\n      ></iron-ajax>\n    </template>\n    <template is="dom-if" if="[[displayErrors]]">\n      <paper-toast id="toast"></paper-toast>\n    </template>\n  '],['\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <template is="dom-if" if="[[createProjectsUrl]]">\n      <lrnsys-button\n        raised=""\n        class\\$="[[classes]]"\n        button-class\\$="[[classes]]"\n        icon="[[icon]]"\n        on-tap="_createProject"\n        label="Create project"\n      ></lrnsys-button>\n      <iron-ajax\n        id="ajaxCreateStub"\n        url="[[createProjectsUrl]]"\n        method="POST"\n        handle-as="json"\n        on-response="_ajaxCreateStubHandler"\n      ></iron-ajax>\n    </template>\n    <template is="dom-if" if="[[displayErrors]]">\n      <paper-toast id="toast"></paper-toast>\n    </template>\n  ']);return ce=function(){return n},n}function me(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <lrnsys-button\n      on-tap="_createAssignment"\n      icon-class="[[iconClass]]"\n      alt="[[alt]]"\n      class$="[[classes]]"\n      button-class$="[[classes]]"\n      hover-class="[[hoverClass]]"\n      icon="[[icon]]"\n    ></lrnsys-button>\n    <iron-ajax\n      id="ajaxCreateStub"\n      url="[[createAssignmentUrl]]"\n      method="POST"\n      body="[[projectId]]"\n      handle-as="json"\n      on-response="_ajaxCreateStubHandler"\n    ></iron-ajax>\n    <template is="dom-if" if="[[displayErrors]]">\n      <paper-toast id="toast"></paper-toast>\n    </template>\n  '],['\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <lrnsys-button\n      on-tap="_createAssignment"\n      icon-class="[[iconClass]]"\n      alt="[[alt]]"\n      class\\$="[[classes]]"\n      button-class\\$="[[classes]]"\n      hover-class="[[hoverClass]]"\n      icon="[[icon]]"\n    ></lrnsys-button>\n    <iron-ajax\n      id="ajaxCreateStub"\n      url="[[createAssignmentUrl]]"\n      method="POST"\n      body="[[projectId]]"\n      handle-as="json"\n      on-response="_ajaxCreateStubHandler"\n    ></iron-ajax>\n    <template is="dom-if" if="[[displayErrors]]">\n      <paper-toast id="toast"></paper-toast>\n    </template>\n  ']);return me=function(){return n},n}function ue(){var n=Dn(['\n    <style include="materializecss-styles">\n      :host {\n        display: block;\n      }\n\n      #loading {\n        width: 100%;\n        z-index: 1000;\n        opacity: 0.8;\n        text-align: center;\n        align-content: center;\n        justify-content: center;\n        height: 100vh;\n        position: absolute;\n        background-color: white;\n      }\n\n      .projects-container {\n        -webkit-box-pack: start;\n        -ms-flex-pack: start;\n        justify-content: flex-start;\n        -webkit-box-align: start;\n        -ms-flex-align: start;\n        align-items: flex-start;\n        min-height: 30em;\n        width: 150vw;\n        padding-top: 1em;\n      }\n\n      .projects-window {\n        width: 100vw;\n        overflow-x: scroll;\n        overflow-y: hidden;\n        scrollbar-face-color: #833900;\n        scrollbar-shadow-color: #ffc107;\n        scrollbar-highlight-color: #ffc107;\n        scrollbar-3dlight-color: #ffc107;\n        scrollbar-darkshadow-color: #ffc107;\n        scrollbar-track-color: #ffc107;\n        scrollbar-arrow-color: #ffc107;\n      }\n\n      .projects-window::-webkit-scrollbar-track {\n        background-color: #833900;\n      }\n      /* the new scrollbar will have a flat appearance with the set background color */\n\n      .projects-window::-webkit-scrollbar-thumb {\n        background-color: #ffc107;\n      }\n      /* this will style the thumb, ignoring the track */\n\n      .projects-window::-webkit-scrollbar-button {\n        background-color: #833900;\n      }\n      /* optionally, you can style the top and the bottom buttons (left and right for horizontal bars) */\n\n      .projects-window::-webkit-scrollbar-corner {\n        background-color: #833900;\n      }\n      /* if both the vertical and the horizontal bars appear, then perhaps the right bottom corner*/\n\n      .projects-window::-webkit-scrollbar {\n        width: 1rem;\n        height: 1rem;\n      }\n      /* this targets the default scrollbar (compulsory) */\n\n      paper-button {\n        padding: 0;\n        margin: 0;\n        min-width: 1rem;\n      }\n\n      .project-card {\n        width: 100%;\n        min-width: 20em;\n        max-width: 20em;\n        margin: 0;\n        height: 100%;\n        min-height: 10em;\n      }\n      .project-container {\n        padding: 1em;\n      }\n      .project-card .card-content {\n        height: 100%;\n        min-height: 8em;\n        max-height: 10em;\n        overflow: scroll;\n      }\n\n      .project-operations {\n        position: absolute;\n        top: 0;\n        right: 0;\n        padding: 1em;\n      }\n\n      .project-operations .operation {\n        display: inline-flex;\n        height: 2.5em;\n        width: 2.5em;\n      }\n      .project-operations .operation[hidden] {\n        display: none;\n      }\n\n      .assignment-row {\n        border: 1px solid #000000;\n        background-color: #ffffff;\n      }\n\n      .assignment-row .assignment-row-button.active {\n        background-color: var(--paper-amber-50);\n        font-weight: bold;\n      }\n\n      .assignment-row:hover .assignment-operations {\n        display: block;\n        overflow: visible;\n        margin: 0.2em;\n      }\n\n      .assignment-row-button {\n        width: 100%;\n        justify-content: flex-start;\n        height: 3em;\n        text-transform: none;\n      }\n\n      .status-indicator {\n        border-right: 1px solid grey;\n        padding: 0.5em;\n        margin: 0 0.5em 0 0;\n        display: inline-flex;\n        line-height: 2em;\n        height: 2em;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .button-contents {\n        display: flex;\n        align-content: center;\n      }\n\n      .assignment-title {\n        display: inline-flex;\n        align-items: center;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        line-height: 1em;\n      }\n\n      .assignment-operations {\n        position: absolute;\n        top: 0;\n        right: 0;\n        padding: 0;\n        display: none;\n      }\n\n      .assignment-operations.show {\n        display: block;\n        overflow: visible;\n      }\n\n      .assignment-operations .operation {\n        display: inline-flex;\n        width: 2.5em;\n        height: 2.5em;\n      }\n      .assignment-operations .operation[hidden] {\n        display: none;\n      }\n\n      lrnapp-studio-project-button {\n        margin: 0em auto 1em;\n        max-width: 20em;\n      }\n    </style>\n    <iron-ajax\n      auto=""\n      id="projectbackend"\n      url="[[sourcePath]]"\n      handle-as="json"\n      last-response="{{projectResponse}}"\n      on-response="_handleProjectResponse"\n    >\n    </iron-ajax>\n    <iron-ajax\n      id="backend"\n      url="[[sourcePath]]"\n      params=""\n      handle-as="json"\n      last-response="{{backendResponse}}"\n      on-response="_handleUpdateResponse"\n    >\n    </iron-ajax>\n\n    <app-location\n      route="{{route}}"\n      query-params="{{queryParams}}"\n    ></app-location>\n    <app-route\n      route="{{route}}"\n      pattern="[[endPoint]]/:page"\n      data="{{data}}"\n      tail="{{tail}}"\n      query-params="{{queryParams}}"\n    >\n    </app-route>\n    <div id="loading">\n      <h3>Loading..</h3>\n      <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n    </div>\n    <lrnapp-studio-project-button\n      hidden$="[[!projectResponse.data.canCreateProjects]]"\n      classes="amber darken-3 white-text"\n      end-point="[[endPoint]]"\n      csrf-token="[[csrfToken]]"\n      icon="add"\n    ></lrnapp-studio-project-button>\n    <div class="projects-window">\n      <iron-list\n        items="[[_toArray(projectResponse.data.projects)]]"\n        as="project"\n        class="projects-container"\n        grid=""\n      >\n        <template class="projects-container-items">\n          <div class="project-container">\n            <paper-card\n              id$="project-[[project.id]]"\n              class="project-card grey lighten-3"\n              heading="{{project.attributes.title}}"\n              elevation="2"\n            >\n              <div class="project-operations">\n                <lrnsys-button\n                  icon-class="no-margin"\n                  id$="project-[[project.id]]-edit"\n                  alt="Edit project"\n                  class="circle operation"\n                  hover-class="amber lighten-2"\n                  hidden="[[!project.meta.canUpdate]]"\n                  icon="create"\n                  on-tap="_makeProjectEditLink"\n                >\n                </lrnsys-button>\n                <lrnapp-studio-assignment-button\n                  project-id="[[project.id]]"\n                  icon-class="no-margin"\n                  id$="project-[[project.id]]-add"\n                  alt="Add assignment"\n                  class="circle operation"\n                  hover-class="amber lighten-2"\n                  hidden="[[!project.meta.canUpdate]]"\n                  icon="add"\n                  end-point="[[endPoint]]"\n                  csrf-token="[[csrfToken]]"\n                >\n                </lrnapp-studio-assignment-button>\n                <lrnsys-button\n                  id$="project-[[project.id]]-delete"\n                  alt="Delete project!"\n                  class="circle operation"\n                  hover-class="red darken-2 white-text"\n                  header="Delete project!"\n                  hidden="[[!project.meta.canDelete]]"\n                  icon="delete-forever"\n                  on-tap="_deleteProjectDialog"\n                  icon-class="no-margin"\n                >\n                </lrnsys-button>\n              </div>\n              <div class="card-content">\n                <iron-list\n                  items="[[_toArray(project.relationships.assignments)]]"\n                  as="assignment"\n                >\n                  <template>\n                    <div class="assignment-row" id="assignment">\n                      <lrnsys-dialog\n                        body-append=""\n                        on-focusin="assignmentFocusIn"\n                        class="assignment-row-button"\n                        id$="assignment-[[project.id]]-[[assignment.id]]"\n                        header="[[assignment.attributes.title]]"\n                        hover-class="amber lighten-5"\n                      >\n                        <span slot="button" class="button-contents">\n                          <div\n                            class$="status-indicator [[assignment.meta.relatedSubmissions.complete.color]]"\n                          >\n                            <iron-icon\n                              icon="[[assignment.meta.relatedSubmissions.complete.icon]]"\n                              disabled$="[[!assignment.meta.relatedSubmissions.canCreate]]"\n                            ></iron-icon>\n                          </div>\n                          <div class="assignment-title">\n                            [[assignment.attributes.title]]\n                          </div>\n                        </span>\n                        <div slot="content">\n                          <app-toolbar\n                            class$="[[assignment.meta.relatedSubmissions.complete.color]]"\n                          >\n                            <div>\n                              <iron-icon\n                                icon="[[assignment.meta.relatedSubmissions.complete.icon]]"\n                                disabled$="[[!assignment.meta.relatedSubmissions.canCreate]]"\n                              ></iron-icon>\n                              [[assignment.meta.relatedSubmissions.complete.submission.title]]\n                            </div>\n                            <div\n                              spacer=""\n                              class="comment-box"\n                              hidden$="[[!assignment.meta.relatedSubmissions.complete.submission.id]]"\n                            >\n                              <paper-button\n                                id$="assignment-[[project.id]]-[[assignment.id]]-comments"\n                                style="margin:0;padding:.25em;text-transform:none;"\n                              >\n                                <iron-icon\n                                  icon="communication:forum"\n                                ></iron-icon>\n                                [[assignment.meta.relatedSubmissions.complete.submission.meta.comments.count]]\n                                Comments\n                              </paper-button>\n                              <paper-badge\n                                hidden$="[[displayNewBadge(assignment.meta.relatedSubmissions.complete.submission.meta.new)]]"\n                                for$="assignment-[[project.id]]-[[assignment.id]]-comments"\n                                label$="[[assignment.meta.relatedSubmissions.complete.submission.meta.comments.new]]"\n                              ></paper-badge>\n                            </div>\n\n                            <lrnapp-studio-submission-button\n                              spacer=""\n                              auto=""\n                              assignment-id="[[assignment.id]]"\n                              submission="{{submission}}"\n                              end-point="[[buildSubmissionPath(basePath)]]"\n                              csrf-token="[[csrfToken]]"\n                              submission-id="[[assignment.meta.relatedSubmissions.complete.submission.id]]"\n                            ></lrnapp-studio-submission-button>\n                            <div main-title=""></div>\n                            <paper-toggle-button\n                              id$="assignment-[[project.id]]-[[assignment.id]]-toggle"\n                              on-tap="statusToggle"\n                            ></paper-toggle-button>\n                            <span\n                              id$="assignment-[[project.id]]-[[assignment.id]]-toggle-text"\n                            ></span>\n                            <div bottom-item="" class="status-rationale">\n                              [[assignment.meta.relatedSubmissions.complete.rationale.text]]\n                            </div>\n                          </app-toolbar>\n                          <lrnsys-render-html\n                            style="padding:2em;"\n                            html="[[assignment.attributes.body]]"\n                          ></lrnsys-render-html>\n                        </div>\n                      </lrnsys-dialog>\n                      <span class="assignment-operations">\n                        <lrnsys-button\n                          id$="assignment-[[project.id]]-[[assignment.id]]-add-critique"\n                          icon="editor:insert-comment"\n                          alt="Add critique"\n                          class="circle operation"\n                          hover-class="green lighten-2"\n                          hidden="[[!assignment.meta.canCritique]]"\n                          href$="[[assignment.meta.critiqueLink]]"\n                          icon-class="no-margin"\n                        ></lrnsys-button>\n                        <lrnsys-button\n                          id$="assignment-[[project.id]]-[[assignment.id]]-edit"\n                          icon="editor:mode-edit"\n                          alt="Edit"\n                          class="circle operation"\n                          hover-class="amber lighten-4"\n                          hidden="[[!assignment.meta.canUpdate]]"\n                          on-tap="_makeAssignmentEditLink"\n                          icon-class="no-margin green-text text-darken-4"\n                        ></lrnsys-button>\n                        <lrnsys-button\n                          id$="assignment-[[project.id]]-[[assignment.id]]-delete"\n                          icon="delete"\n                          alt="Delete"\n                          class="circle operation"\n                          hover-class="amber lighten-4"\n                          hidden="[[!assignment.meta.canDelete]]"\n                          on-tap="_deleteAssignmentDialog"\n                          icon-class="no-margin red-text text-darken-4"\n                        ></lrnsys-button>\n                      </span>\n                    </div>\n                  </template>\n                </iron-list>\n              </div>\n            </paper-card>\n          </div>\n        </template>\n      </iron-list>\n    </div>\n    <paper-toast text="Updated" id="toast"></paper-toast>\n    <paper-dialog id="delete" modal="">\n      <h3>[[_deleteTitle]]</h3>\n      <p>[[_deleteText]]</p>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Decline</paper-button>\n        <paper-button\n          id="deleteaccept"\n          on-tap="_handleDelete"\n          dialog-confirm=""\n          autofocus=""\n          >Accept</paper-button\n        >\n      </div>\n    </paper-dialog>\n  '],['\n    <style include="materializecss-styles">\n      :host {\n        display: block;\n      }\n\n      #loading {\n        width: 100%;\n        z-index: 1000;\n        opacity: 0.8;\n        text-align: center;\n        align-content: center;\n        justify-content: center;\n        height: 100vh;\n        position: absolute;\n        background-color: white;\n      }\n\n      .projects-container {\n        -webkit-box-pack: start;\n        -ms-flex-pack: start;\n        justify-content: flex-start;\n        -webkit-box-align: start;\n        -ms-flex-align: start;\n        align-items: flex-start;\n        min-height: 30em;\n        width: 150vw;\n        padding-top: 1em;\n      }\n\n      .projects-window {\n        width: 100vw;\n        overflow-x: scroll;\n        overflow-y: hidden;\n        scrollbar-face-color: #833900;\n        scrollbar-shadow-color: #ffc107;\n        scrollbar-highlight-color: #ffc107;\n        scrollbar-3dlight-color: #ffc107;\n        scrollbar-darkshadow-color: #ffc107;\n        scrollbar-track-color: #ffc107;\n        scrollbar-arrow-color: #ffc107;\n      }\n\n      .projects-window::-webkit-scrollbar-track {\n        background-color: #833900;\n      }\n      /* the new scrollbar will have a flat appearance with the set background color */\n\n      .projects-window::-webkit-scrollbar-thumb {\n        background-color: #ffc107;\n      }\n      /* this will style the thumb, ignoring the track */\n\n      .projects-window::-webkit-scrollbar-button {\n        background-color: #833900;\n      }\n      /* optionally, you can style the top and the bottom buttons (left and right for horizontal bars) */\n\n      .projects-window::-webkit-scrollbar-corner {\n        background-color: #833900;\n      }\n      /* if both the vertical and the horizontal bars appear, then perhaps the right bottom corner*/\n\n      .projects-window::-webkit-scrollbar {\n        width: 1rem;\n        height: 1rem;\n      }\n      /* this targets the default scrollbar (compulsory) */\n\n      paper-button {\n        padding: 0;\n        margin: 0;\n        min-width: 1rem;\n      }\n\n      .project-card {\n        width: 100%;\n        min-width: 20em;\n        max-width: 20em;\n        margin: 0;\n        height: 100%;\n        min-height: 10em;\n      }\n      .project-container {\n        padding: 1em;\n      }\n      .project-card .card-content {\n        height: 100%;\n        min-height: 8em;\n        max-height: 10em;\n        overflow: scroll;\n      }\n\n      .project-operations {\n        position: absolute;\n        top: 0;\n        right: 0;\n        padding: 1em;\n      }\n\n      .project-operations .operation {\n        display: inline-flex;\n        height: 2.5em;\n        width: 2.5em;\n      }\n      .project-operations .operation[hidden] {\n        display: none;\n      }\n\n      .assignment-row {\n        border: 1px solid #000000;\n        background-color: #ffffff;\n      }\n\n      .assignment-row .assignment-row-button.active {\n        background-color: var(--paper-amber-50);\n        font-weight: bold;\n      }\n\n      .assignment-row:hover .assignment-operations {\n        display: block;\n        overflow: visible;\n        margin: 0.2em;\n      }\n\n      .assignment-row-button {\n        width: 100%;\n        justify-content: flex-start;\n        height: 3em;\n        text-transform: none;\n      }\n\n      .status-indicator {\n        border-right: 1px solid grey;\n        padding: 0.5em;\n        margin: 0 0.5em 0 0;\n        display: inline-flex;\n        line-height: 2em;\n        height: 2em;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .button-contents {\n        display: flex;\n        align-content: center;\n      }\n\n      .assignment-title {\n        display: inline-flex;\n        align-items: center;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        line-height: 1em;\n      }\n\n      .assignment-operations {\n        position: absolute;\n        top: 0;\n        right: 0;\n        padding: 0;\n        display: none;\n      }\n\n      .assignment-operations.show {\n        display: block;\n        overflow: visible;\n      }\n\n      .assignment-operations .operation {\n        display: inline-flex;\n        width: 2.5em;\n        height: 2.5em;\n      }\n      .assignment-operations .operation[hidden] {\n        display: none;\n      }\n\n      lrnapp-studio-project-button {\n        margin: 0em auto 1em;\n        max-width: 20em;\n      }\n    </style>\n    <iron-ajax\n      auto=""\n      id="projectbackend"\n      url="[[sourcePath]]"\n      handle-as="json"\n      last-response="{{projectResponse}}"\n      on-response="_handleProjectResponse"\n    >\n    </iron-ajax>\n    <iron-ajax\n      id="backend"\n      url="[[sourcePath]]"\n      params=""\n      handle-as="json"\n      last-response="{{backendResponse}}"\n      on-response="_handleUpdateResponse"\n    >\n    </iron-ajax>\n\n    <app-location\n      route="{{route}}"\n      query-params="{{queryParams}}"\n    ></app-location>\n    <app-route\n      route="{{route}}"\n      pattern="[[endPoint]]/:page"\n      data="{{data}}"\n      tail="{{tail}}"\n      query-params="{{queryParams}}"\n    >\n    </app-route>\n    <div id="loading">\n      <h3>Loading..</h3>\n      <elmsln-loading color="grey-text" size="large"></elmsln-loading>\n    </div>\n    <lrnapp-studio-project-button\n      hidden\\$="[[!projectResponse.data.canCreateProjects]]"\n      classes="amber darken-3 white-text"\n      end-point="[[endPoint]]"\n      csrf-token="[[csrfToken]]"\n      icon="add"\n    ></lrnapp-studio-project-button>\n    <div class="projects-window">\n      <iron-list\n        items="[[_toArray(projectResponse.data.projects)]]"\n        as="project"\n        class="projects-container"\n        grid=""\n      >\n        <template class="projects-container-items">\n          <div class="project-container">\n            <paper-card\n              id\\$="project-[[project.id]]"\n              class="project-card grey lighten-3"\n              heading="{{project.attributes.title}}"\n              elevation="2"\n            >\n              <div class="project-operations">\n                <lrnsys-button\n                  icon-class="no-margin"\n                  id\\$="project-[[project.id]]-edit"\n                  alt="Edit project"\n                  class="circle operation"\n                  hover-class="amber lighten-2"\n                  hidden="[[!project.meta.canUpdate]]"\n                  icon="create"\n                  on-tap="_makeProjectEditLink"\n                >\n                </lrnsys-button>\n                <lrnapp-studio-assignment-button\n                  project-id="[[project.id]]"\n                  icon-class="no-margin"\n                  id\\$="project-[[project.id]]-add"\n                  alt="Add assignment"\n                  class="circle operation"\n                  hover-class="amber lighten-2"\n                  hidden="[[!project.meta.canUpdate]]"\n                  icon="add"\n                  end-point="[[endPoint]]"\n                  csrf-token="[[csrfToken]]"\n                >\n                </lrnapp-studio-assignment-button>\n                <lrnsys-button\n                  id\\$="project-[[project.id]]-delete"\n                  alt="Delete project!"\n                  class="circle operation"\n                  hover-class="red darken-2 white-text"\n                  header="Delete project!"\n                  hidden="[[!project.meta.canDelete]]"\n                  icon="delete-forever"\n                  on-tap="_deleteProjectDialog"\n                  icon-class="no-margin"\n                >\n                </lrnsys-button>\n              </div>\n              <div class="card-content">\n                <iron-list\n                  items="[[_toArray(project.relationships.assignments)]]"\n                  as="assignment"\n                >\n                  <template>\n                    <div class="assignment-row" id="assignment">\n                      <lrnsys-dialog\n                        body-append=""\n                        on-focusin="assignmentFocusIn"\n                        class="assignment-row-button"\n                        id\\$="assignment-[[project.id]]-[[assignment.id]]"\n                        header="[[assignment.attributes.title]]"\n                        hover-class="amber lighten-5"\n                      >\n                        <span slot="button" class="button-contents">\n                          <div\n                            class\\$="status-indicator [[assignment.meta.relatedSubmissions.complete.color]]"\n                          >\n                            <iron-icon\n                              icon="[[assignment.meta.relatedSubmissions.complete.icon]]"\n                              disabled\\$="[[!assignment.meta.relatedSubmissions.canCreate]]"\n                            ></iron-icon>\n                          </div>\n                          <div class="assignment-title">\n                            [[assignment.attributes.title]]\n                          </div>\n                        </span>\n                        <div slot="content">\n                          <app-toolbar\n                            class\\$="[[assignment.meta.relatedSubmissions.complete.color]]"\n                          >\n                            <div>\n                              <iron-icon\n                                icon="[[assignment.meta.relatedSubmissions.complete.icon]]"\n                                disabled\\$="[[!assignment.meta.relatedSubmissions.canCreate]]"\n                              ></iron-icon>\n                              [[assignment.meta.relatedSubmissions.complete.submission.title]]\n                            </div>\n                            <div\n                              spacer=""\n                              class="comment-box"\n                              hidden\\$="[[!assignment.meta.relatedSubmissions.complete.submission.id]]"\n                            >\n                              <paper-button\n                                id\\$="assignment-[[project.id]]-[[assignment.id]]-comments"\n                                style="margin:0;padding:.25em;text-transform:none;"\n                              >\n                                <iron-icon\n                                  icon="communication:forum"\n                                ></iron-icon>\n                                [[assignment.meta.relatedSubmissions.complete.submission.meta.comments.count]]\n                                Comments\n                              </paper-button>\n                              <paper-badge\n                                hidden\\$="[[displayNewBadge(assignment.meta.relatedSubmissions.complete.submission.meta.new)]]"\n                                for\\$="assignment-[[project.id]]-[[assignment.id]]-comments"\n                                label\\$="[[assignment.meta.relatedSubmissions.complete.submission.meta.comments.new]]"\n                              ></paper-badge>\n                            </div>\n\n                            <lrnapp-studio-submission-button\n                              spacer=""\n                              auto=""\n                              assignment-id="[[assignment.id]]"\n                              submission="{{submission}}"\n                              end-point="[[buildSubmissionPath(basePath)]]"\n                              csrf-token="[[csrfToken]]"\n                              submission-id="[[assignment.meta.relatedSubmissions.complete.submission.id]]"\n                            ></lrnapp-studio-submission-button>\n                            <div main-title=""></div>\n                            <paper-toggle-button\n                              id\\$="assignment-[[project.id]]-[[assignment.id]]-toggle"\n                              on-tap="statusToggle"\n                            ></paper-toggle-button>\n                            <span\n                              id\\$="assignment-[[project.id]]-[[assignment.id]]-toggle-text"\n                            ></span>\n                            <div bottom-item="" class="status-rationale">\n                              [[assignment.meta.relatedSubmissions.complete.rationale.text]]\n                            </div>\n                          </app-toolbar>\n                          <lrnsys-render-html\n                            style="padding:2em;"\n                            html="[[assignment.attributes.body]]"\n                          ></lrnsys-render-html>\n                        </div>\n                      </lrnsys-dialog>\n                      <span class="assignment-operations">\n                        <lrnsys-button\n                          id\\$="assignment-[[project.id]]-[[assignment.id]]-add-critique"\n                          icon="editor:insert-comment"\n                          alt="Add critique"\n                          class="circle operation"\n                          hover-class="green lighten-2"\n                          hidden="[[!assignment.meta.canCritique]]"\n                          href\\$="[[assignment.meta.critiqueLink]]"\n                          icon-class="no-margin"\n                        ></lrnsys-button>\n                        <lrnsys-button\n                          id\\$="assignment-[[project.id]]-[[assignment.id]]-edit"\n                          icon="editor:mode-edit"\n                          alt="Edit"\n                          class="circle operation"\n                          hover-class="amber lighten-4"\n                          hidden="[[!assignment.meta.canUpdate]]"\n                          on-tap="_makeAssignmentEditLink"\n                          icon-class="no-margin green-text text-darken-4"\n                        ></lrnsys-button>\n                        <lrnsys-button\n                          id\\$="assignment-[[project.id]]-[[assignment.id]]-delete"\n                          icon="delete"\n                          alt="Delete"\n                          class="circle operation"\n                          hover-class="amber lighten-4"\n                          hidden="[[!assignment.meta.canDelete]]"\n                          on-tap="_deleteAssignmentDialog"\n                          icon-class="no-margin red-text text-darken-4"\n                        ></lrnsys-button>\n                      </span>\n                    </div>\n                  </template>\n                </iron-list>\n              </div>\n            </paper-card>\n          </div>\n        </template>\n      </iron-list>\n    </div>\n    <paper-toast text="Updated" id="toast"></paper-toast>\n    <paper-dialog id="delete" modal="">\n      <h3>[[_deleteTitle]]</h3>\n      <p>[[_deleteText]]</p>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Decline</paper-button>\n        <paper-button\n          id="deleteaccept"\n          on-tap="_handleDelete"\n          dialog-confirm=""\n          autofocus=""\n          >Accept</paper-button\n        >\n      </div>\n    </paper-dialog>\n  ']);return ue=function(){return n},n}function ge(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n\n    <app-location\n      route="{{route}}"\n      query-params="{{queryParams}}"\n    ></app-location>\n    <app-route\n      route="{{route}}"\n      pattern="[[basePath]]/:page"\n      data="{{data}}"\n      tail="{{tail}}"\n      query-params="{{queryParams}}"\n    >\n    </app-route>\n\n    <iron-selector\n      selected="{{data.page}}"\n      attr-for-selected="name"\n      role="navigation"\n    >\n      <a tabindex="-1" name="lrnapp-studio-dashboard" on-tap="_dashboardClicked"\n        >A</a\n      >\n      <a tabindex="-1" name="lrnapp-studio-kanban" on-tap="_kanbanClicked">B</a>\n      <a tabindex="-1" name="lrnapp-open-studio" on-tap="_openstudioClicked"\n        >C</a\n      >\n    </iron-selector>\n\n    <iron-pages\n      selected="{{data.page}}"\n      attr-for-selected="name"\n      fallback-selection="lrnapp-studio-dashboard"\n      role="main"\n    >\n      <lrnapp-studio-dashboard\n        name="lrnapp-studio-dashboard"\n        csrf-token="[[csrfToken]]"\n        end-point="[[_endPoint(\'lrnapp-studio-dashboard\')]]"\n        base-path="[[basePath]]"\n        elmsln-course="[[elmslnCourse]]"\n        elmsln-section="[[elmslnSection]]"\n        route="[[tail]]"\n      >\n      </lrnapp-studio-dashboard>\n      <lrnapp-studio-kanban\n        name="lrnapp-studio-kanban"\n        csrf-token="[[csrfToken]]"\n        end-point="[[_endPoint(\'lrnapp-studio-dashboard\')]]"\n        base-path="[[basePath]]"\n        source-path="[[_sourcePath(\'lrnapp-studio-kanban/kanban-data\')]]"\n        elmsln-course="[[elmslnCourse]]"\n        elmsln-section="[[elmslnSection]]"\n        route="[[tail]]"\n      ></lrnapp-studio-kanban>\n      <lrnapp-open-studio\n        name="lrnapp-open-studio"\n        csrf-token="[[csrfToken]]"\n        end-point="[[_endPoint(\'lrnapp-open-studio\')]]"\n        base-path="[[basePath]]"\n        source-path="[[_sourcePath(\'lrnapp-open-studio/data\')]]"\n        elmsln-course="[[elmslnCourse]]"\n        elmsln-section="[[elmslnSection]]"\n        route="[[tail]]"\n      >\n      </lrnapp-open-studio>\n    </iron-pages>\n  ']);return ge=function(){return n},n}function he(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n      p {\n        font-size: 14px;\n        line-height: 18px;\n      }\n      h1,\n      h2,\n      h3 {\n        margin: 0;\n        text-align: left;\n      }\n      iron-selector {\n        line-height: 1em;\n      }\n      iron-selector lrnsys-button {\n        display: inline-flex;\n      }\n      marked-element {\n        display: block;\n        margin: 0 5em 0 5em;\n      }\n      iron-image {\n        margin: 0 0.5em;\n      }\n      lrnsys-dialog {\n        display: inline;\n      }\n      .contain {\n        width: 10em;\n        height: 10em;\n        background: #ddd;\n      }\n      .center {\n        margin: auto;\n        width: 100%;\n      }\n      .title {\n        color: #222;\n        font-size: 2rem;\n        font-weight: 600;\n        line-height: 2.5rem;\n        padding: 0.25rem 0;\n        white-space: nowrap;\n        overflow-x: hidden;\n        text-overflow: ellipsis;\n        margin-top: 1rem;\n        text-align: center;\n      }\n      .author {\n        color: #555;\n        font-size: 1rem;\n        font-weight: 500;\n        font-style: normal;\n        line-height: 1rem;\n        padding: 0.25rem 0 0.5rem 0;\n        margin: 0;\n        text-transform: capitalize;\n      }\n      .date {\n        color: #555;\n        font-size: 16px;\n        font-style: normal;\n        padding: 0.25rem 0 0.5rem 0;\n        margin: 0;\n      }\n      .flex-wrap {\n        display: flex;\n      }\n      .submission-page-card {\n        width: 100%;\n        margin: 0;\n      }\n      :host([edit-page]) .submission-page {\n        width: 100%;\n      }\n      .image-dialog-header {\n        display: flex;\n      }\n      app-toolbar {\n        width: 36em;\n        background: #ddd;\n      }\n      lrnsys-button {\n        padding: 0.75em;\n      }\n      .top {\n        top: 8em;\n      }\n    </style>\n    <div class="submission-page">\n      <paper-card class="submission-page-card ferpa-protect">\n        <div class="card-content">\n          <lrndesign-avatar\n            class="center"\n            label="{{submission.relationships.author.data.name}}"\n            src="{{submission.relationships.author.data.avatar}}"\n          ></lrndesign-avatar>\n          <div class="author center">\n            {{submission.relationships.author.data.display_name}}\n          </div>\n          <h2 class="title center">{{submission.attributes.title}}</h2>\n          <div class="date center">\n            Created: [[date(submission.meta.created)]]\n          </div>\n          <div class="date center">\n            Last updated: [[date(submission.meta.changed)]]\n          </div>\n          \x3c!-- ----- Text Submission ----- --\x3e\n          <template is="dom-if" if="[[submission.attributes.body]]">\n            <word-count\n              ><marked-element\n                markdown="[[submission.attributes.body]]"\n              ></marked-element\n            ></word-count>\n          </template>\n          \x3c!-- ----- Images Submission ----- --\x3e\n          <template is="dom-if" if="[[submission.attributes.images]]">\n            <lrndesign-contentblock class="center">\n              <template\n                is="dom-repeat"\n                items="[[_toArray(submission.attributes.images)]]"\n                as="image"\n              >\n                <lrnsys-dialog alt="View Image" dynamic-images="">\n                  <div class="image-dialog-header"></div>\n                  <span slot="button">\n                    <iron-image\n                      style="width:200px; height:200px; background-color: lightgray;"\n                      sizing="contain"\n                      class="contain"\n                      src="[[image.thumbnail]]"\n                      preload=""\n                      fade=""\n                    ></iron-image>\n                  </span>\n                  <div style="text-align: center;">\n                    <template is="dom-if" if="[[!_isGif(image.url)]]">\n                      <image-inspector src="[[image.url]]">\n                        <span slot="toolbar">\n                          <lrnsys-button\n                            alt="Download all images"\n                            icon="icons:file-download"\n                            href="[[submission.attributes.download_files]]"\n                            target="_blank"\n                          ></lrnsys-button>\n                        </span>\n                      </image-inspector>\n                    </template>\n                    <template is="dom-if" if="[[_isGif(image.url)]]">\n                      <iron-image\n                        style="width:500px; height:500px; background-color: lightgray;"\n                        sizing="contain"\n                        class="contain"\n                        src="[[image.url]]"\n                        preload=""\n                        fade=""\n                      ></iron-image>\n                    </template>\n                  </div>\n                </lrnsys-dialog>\n              </template>\n            </lrndesign-contentblock>\n          </template>\n          \x3c!-- ----- Video Submission ----- --\x3e\n          <template is="dom-if" if="[[submission.attributes.video]]">\n            <lrndesign-contentblock class="center">\n              <template\n                is="dom-repeat"\n                items="[[_toArray(submission.attributes.video)]]"\n                as="video"\n              >\n                <iframe\n                  width="460"\n                  height="249"\n                  src="[[video.video_src]]"\n                ></iframe>\n              </template>\n            </lrndesign-contentblock>\n          </template>\n          \x3c!-- ----- Links Submission ----- --\x3e\n          <template is="dom-if" if="[[submission.attributes.links]]">\n            <lrndesign-contentblock>\n              <template\n                is="dom-repeat"\n                items="[[_toArray(submission.attributes.links)]]"\n                as="link"\n              >\n                <p>\n                  <strong>[[link.title]]:</strong>\n                  <a class="link" href="[[link.url]]" target="_blank"\n                    >[[link.url]]</a\n                  >\n                </p>\n              </template>\n            </lrndesign-contentblock>\n          </template>\n          \x3c!-- ----- Files Submission ----- --\x3e\n          <template is="dom-if" if="[[submission.attributes.files]]">\n            <lrndesign-contentblock title="Files Submitted">\n              <template\n                is="dom-repeat"\n                items="[[_toArray(submission.attributes.files)]]"\n                as="file"\n              >\n                <p>\n                  <strong>[[file.filename]]:</strong>\n                  <a class="link" href="[[file.url]]" target="_blank"\n                    >[[file.url]]</a\n                  >\n                </p>\n              </template>\n            </lrndesign-contentblock>\n          </template>\n        </div>\n      </paper-card>\n    </div>\n  ']);return he=function(){return n},n}function be(){var n=Dn(['\n    <style>\n      :host {\n        display: flex;\n        align-items: stretch;\n        justify-content: stretch;\n      }\n\n      .wrapper {\n        position: relative;\n        z-index: 1;\n        overflow: hidden;\n        display: flex;\n        align-items: center;\n      }\n\n      .actions {\n        overflow: hidden;\n        position: absolute;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        top: 0;\n        left: 0;\n        z-index: 5;\n        color: white;\n        background: rgba(0, 0, 0, 0.7);\n        height: 100%;\n        width: 100%;\n        transition: all 0.2s ease-in-out;\n        transform: translateY(-100%);\n      }\n\n      .wrapper:hover .actions {\n        transform: translateY(0);\n      }\n\n      paper-dialog {\n        width: 50%;\n        width: 50vmax;\n        padding: 1em;\n      }\n    </style>\n\n    <div class="wrapper">\n      <slot></slot>\n      <div class="actions">\n        <template is="dom-if" if="[[embedcode]]">\n          <paper-icon-button\n            icon="code"\n            class="embed"\n            on-click="_embedClicked"\n          ></paper-icon-button>\n        </template>\n        <paper-icon-button\n          icon="delete"\n          class="delete"\n          on-click="_deleteClicked"\n        ></paper-icon-button>\n        <paper-ripple></paper-ripple>\n      </div>\n    </div>\n\n    <template is="dom-if" if="[[embedcode]]">\n      <paper-dialog\n        id="dialog"\n        entry-animation="scale-up-animation"\n        exit-animation="fade-out-animation"\n        with-backdrop=""\n      >\n        <h2>Embed Code</h2>\n        <p>Paste this into the text area and your image will appear.</p>\n        <paper-dialog-scrollable>\n          <pre>{{embedcode}}</pre>\n        </paper-dialog-scrollable>\n      </paper-dialog>\n    </template>\n  ']);return be=function(){return n},n}function ve(){var n=Dn(['\n    <style>\n      :host {\n        cursor: pointer;\n      }\n      :host([display="box"]) {\n        display: block;\n        width: 200px;\n        height: 200px;\n        background: lightgray;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        position: relative;\n      }\n      :host([display="pill"]) {\n        display: block;\n        background: lightgray;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        position: relative;\n      }\n      iron-icon {\n        color: gray;\n        --iron-icon-height: 50px;\n        --iron-icon-width: 50px;\n      }\n      :host([display="pill"]) iron-icon {\n        --iron-icon-height: 50px;\n        --iron-icon-width: 50px;\n      }\n    </style>\n    <paper-button>\n      <iron-icon icon="[[icon]]"></iron-icon>\n      <paper-ripple></paper-ripple>\n    </paper-button>\n  ']);return ve=function(){return n},n}function ye(){var n=Dn(['\n    <custom-style>\n      <style is="custom-style">\n        :host {\n          display: inline-flex;\n          justify-content: space-around;\n          min-height: 100px;\n          position: relative;\n        }\n\n        iron-image {\n          --iron-image-height: 200px;\n          display: block;\n        }\n      </style>\n    </custom-style>\n    <lrnapp-studio-submission-media-editoverlay\n      on-delete="_delete"\n      data-index$="[[index]]"\n      embedcode="{{embedcode}}"\n    >\n      <iron-image\n        src="[[thumbnail]]"\n        style="width:200px; height:200px; background-color: lightgray;"\n        sizing="contain"\n        class="contain"\n        preload=""\n        fade=""\n      ></iron-image>\n    </lrnapp-studio-submission-media-editoverlay>\n  '],['\n    <custom-style>\n      <style is="custom-style">\n        :host {\n          display: inline-flex;\n          justify-content: space-around;\n          min-height: 100px;\n          position: relative;\n        }\n\n        iron-image {\n          --iron-image-height: 200px;\n          display: block;\n        }\n      </style>\n    </custom-style>\n    <lrnapp-studio-submission-media-editoverlay\n      on-delete="_delete"\n      data-index\\$="[[index]]"\n      embedcode="{{embedcode}}"\n    >\n      <iron-image\n        src="[[thumbnail]]"\n        style="width:200px; height:200px; background-color: lightgray;"\n        sizing="contain"\n        class="contain"\n        preload=""\n        fade=""\n      ></iron-image>\n    </lrnapp-studio-submission-media-editoverlay>\n  ']);return ye=function(){return n},n}function fe(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n        position: relative;\n        min-height: 200px;\n      }\n      #pages {\n        display: block;\n      }\n      .images__images {\n        display: flex;\n        flex-wrap: wrap;\n      }\n      .images__images > * {\n        margin-right: 16px;\n        min-width: 200px;\n      }\n      neon-animated-pages .iron-selected {\n        position: static;\n      }\n      paper-dialog {\n        width: 50%;\n        width: 50vmax;\n        padding: 16px;\n      }\n    </style>\n    <div class="images__images">\n      <template is="dom-repeat" items="{{images}}" as="image">\n        <lrnapp-studio-submission-edit-image\n          image="{{image}}"\n          on-deleted="_deleteImage"\n          data-index$="[[index]]"\n        ></lrnapp-studio-submission-edit-image>\n      </template>\n      <lrnapp-studio-submission-edit-add-asset\n        on-click="_addImage"\n        icon="image:photo-library"\n      ></lrnapp-studio-submission-edit-add-asset>\n    </div>\n    <paper-dialog\n      id="dialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n      with-backdrop=""\n    >\n      <h2>Add Image(s)</h2>\n      <paper-dialog-scrollable>\n        <div class="images__upload">\n          <template is="dom-if" if="[[uploadUrl]]">\n            <vaadin-upload\n              accept="[[fileTypes]]"\n              target="[[uploadUrl]]"\n              method="POST"\n              form-data-name="file-upload"\n              on-upload-success="_handleImageUploadSuccess"\n            >\n              <div class="images__drop-label">\n                <iron-icon icon="description"></iron-icon>\n                Upload files here:\n              </div>\n            </vaadin-upload>\n          </template>\n        </div>\n      </paper-dialog-scrollable>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Cancel</paper-button>\n      </div>\n    </paper-dialog>\n  '],['\n    <style>\n      :host {\n        display: block;\n        position: relative;\n        min-height: 200px;\n      }\n      #pages {\n        display: block;\n      }\n      .images__images {\n        display: flex;\n        flex-wrap: wrap;\n      }\n      .images__images > * {\n        margin-right: 16px;\n        min-width: 200px;\n      }\n      neon-animated-pages .iron-selected {\n        position: static;\n      }\n      paper-dialog {\n        width: 50%;\n        width: 50vmax;\n        padding: 16px;\n      }\n    </style>\n    <div class="images__images">\n      <template is="dom-repeat" items="{{images}}" as="image">\n        <lrnapp-studio-submission-edit-image\n          image="{{image}}"\n          on-deleted="_deleteImage"\n          data-index\\$="[[index]]"\n        ></lrnapp-studio-submission-edit-image>\n      </template>\n      <lrnapp-studio-submission-edit-add-asset\n        on-click="_addImage"\n        icon="image:photo-library"\n      ></lrnapp-studio-submission-edit-add-asset>\n    </div>\n    <paper-dialog\n      id="dialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n      with-backdrop=""\n    >\n      <h2>Add Image(s)</h2>\n      <paper-dialog-scrollable>\n        <div class="images__upload">\n          <template is="dom-if" if="[[uploadUrl]]">\n            <vaadin-upload\n              accept="[[fileTypes]]"\n              target="[[uploadUrl]]"\n              method="POST"\n              form-data-name="file-upload"\n              on-upload-success="_handleImageUploadSuccess"\n            >\n              <div class="images__drop-label">\n                <iron-icon icon="description"></iron-icon>\n                Upload files here:\n              </div>\n            </vaadin-upload>\n          </template>\n        </div>\n      </paper-dialog-scrollable>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Cancel</paper-button>\n      </div>\n    </paper-dialog>\n  ']);return fe=function(){return n},n}function xe(){var n=Dn(['\n    <style>\n      :host {\n        display: inline-flex;\n        justify-content: space-around;\n        align-items: stretch;\n        min-height: 100px;\n        width: 100px;\n        position: relative;\n        background: lightgray;\n        color: #333333;\n      }\n\n      lrnapp-studio-submission-media-editoverlay {\n        display: flex;\n      }\n\n      .file_url {\n        margin: 1em;\n      }\n    </style>\n\n    <lrnapp-studio-submission-media-editoverlay\n      on-delete="_delete"\n      data-index$="[[index]]"\n      embedcode="{{embedcode}}"\n    >\n      <div class="file_url">[[file.filename]]</div>\n    </lrnapp-studio-submission-media-editoverlay>\n  '],['\n    <style>\n      :host {\n        display: inline-flex;\n        justify-content: space-around;\n        align-items: stretch;\n        min-height: 100px;\n        width: 100px;\n        position: relative;\n        background: lightgray;\n        color: #333333;\n      }\n\n      lrnapp-studio-submission-media-editoverlay {\n        display: flex;\n      }\n\n      .file_url {\n        margin: 1em;\n      }\n    </style>\n\n    <lrnapp-studio-submission-media-editoverlay\n      on-delete="_delete"\n      data-index\\$="[[index]]"\n      embedcode="{{embedcode}}"\n    >\n      <div class="file_url">[[file.filename]]</div>\n    </lrnapp-studio-submission-media-editoverlay>\n  ']);return xe=function(){return n},n}function we(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n        position: relative;\n        min-height: 200px;\n      }\n\n      #pages {\n        display: block;\n      }\n\n      .files__files {\n        display: flex;\n        flex-wrap: wrap;\n      }\n\n      .files__files > * {\n        margin-right: 16px;\n        min-width: 200px;\n      }\n\n      neon-animated-pages .iron-selected {\n        position: static;\n      }\n\n      paper-dialog {\n        width: 50%;\n        width: 50vmax;\n        padding: 16px;\n      }\n    </style>\n\n    <div class="files__files">\n      <template is="dom-repeat" items="{{files}}" as="file">\n        <lrnapp-studio-submission-edit-file\n          file="{{file}}"\n          on-deleted="_deleteImage"\n          data-index$="[[index]]"\n        ></lrnapp-studio-submission-edit-file>\n      </template>\n      <lrnapp-studio-submission-edit-add-asset\n        on-click="_addImage"\n        icon="editor:attach-file"\n      ></lrnapp-studio-submission-edit-add-asset>\n    </div>\n\n    <paper-dialog\n      id="dialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n      with-backdrop=""\n    >\n      <h2>Add Files(s)</h2>\n      <paper-dialog-scrollable>\n        <div class="files__upload">\n          <template is="dom-if" if="[[uploadUrl]]">\n            <vaadin-upload\n              accept="[[fileTypes]]"\n              target="[[uploadUrl]]"\n              method="POST"\n              form-data-name="file-upload"\n              on-upload-success="_handleImageUploadSuccess"\n            >\n              <div class="files__drop-label">\n                <iron-icon icon="description"></iron-icon>\n                Upload files here:\n              </div>\n            </vaadin-upload>\n          </template>\n        </div>\n      </paper-dialog-scrollable>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Cancel</paper-button>\n      </div>\n    </paper-dialog>\n  '],['\n    <style>\n      :host {\n        display: block;\n        position: relative;\n        min-height: 200px;\n      }\n\n      #pages {\n        display: block;\n      }\n\n      .files__files {\n        display: flex;\n        flex-wrap: wrap;\n      }\n\n      .files__files > * {\n        margin-right: 16px;\n        min-width: 200px;\n      }\n\n      neon-animated-pages .iron-selected {\n        position: static;\n      }\n\n      paper-dialog {\n        width: 50%;\n        width: 50vmax;\n        padding: 16px;\n      }\n    </style>\n\n    <div class="files__files">\n      <template is="dom-repeat" items="{{files}}" as="file">\n        <lrnapp-studio-submission-edit-file\n          file="{{file}}"\n          on-deleted="_deleteImage"\n          data-index\\$="[[index]]"\n        ></lrnapp-studio-submission-edit-file>\n      </template>\n      <lrnapp-studio-submission-edit-add-asset\n        on-click="_addImage"\n        icon="editor:attach-file"\n      ></lrnapp-studio-submission-edit-add-asset>\n    </div>\n\n    <paper-dialog\n      id="dialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n      with-backdrop=""\n    >\n      <h2>Add Files(s)</h2>\n      <paper-dialog-scrollable>\n        <div class="files__upload">\n          <template is="dom-if" if="[[uploadUrl]]">\n            <vaadin-upload\n              accept="[[fileTypes]]"\n              target="[[uploadUrl]]"\n              method="POST"\n              form-data-name="file-upload"\n              on-upload-success="_handleImageUploadSuccess"\n            >\n              <div class="files__drop-label">\n                <iron-icon icon="description"></iron-icon>\n                Upload files here:\n              </div>\n            </vaadin-upload>\n          </template>\n        </div>\n      </paper-dialog-scrollable>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Cancel</paper-button>\n      </div>\n    </paper-dialog>\n  ']);return we=function(){return n},n}function ke(){var n=Dn(['\n    <style>\n      :host {\n        display: flex;\n        position: relative;\n        align-items: stretch;\n      }\n\n      :host * {\n        background: lightgray;\n        display: flex;\n        align-items: center;\n        margin-right: 1em;\n      }\n\n      iframe {\n        display: block;\n      }\n\n      .videosfield__create {\n        display: block;\n        height: 250px;\n        width: 300px;\n      }\n\n      paper-dialog {\n        width: 50%;\n        width: 50vmax;\n        padding: 1em;\n      }\n    </style>\n\n    <template is="dom-repeat" items="{{videos}}" as="video">\n      <lrnapp-studio-submission-media-editoverlay\n        on-delete="_videoDelete"\n        data-index$="[[index]]"\n      >\n        <iframe class="videosfield__iframe" src="{{video.video_src}}"></iframe>\n      </lrnapp-studio-submission-media-editoverlay>\n    </template>\n\n    <lrnapp-studio-submission-edit-add-asset\n      icon="av:video-library"\n      on-click="_openDialog"\n    ></lrnapp-studio-submission-edit-add-asset>\n\n    <paper-dialog\n      id="dialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n      with-backdrop=""\n    >\n      <h2>Add Video</h2>\n      <paper-dialog-scrollable>\n        <paper-input label="Video URL" value="{{newvideo}}"></paper-input>\n      </paper-dialog-scrollable>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Cancel</paper-button>\n        <paper-button dialog-confirm="" on-click="_addImage"\n          >Add Video</paper-button\n        >\n      </div>\n    </paper-dialog>\n\n    <template is="dom-if" if="[[videoGenerateSourceUrl]]">\n      \x3c!-- Generate Video Source Url for preview --\x3e\n      <iron-ajax\n        id="videoGenerateSourceUrl"\n        url="[[videoGenerateSourceUrl]]"\n        method="POST"\n        body="[[newvideo]]"\n        content-type="application/json"\n        handle-as="json"\n        on-response="_addImage"\n      ></iron-ajax>\n    </template>\n  '],['\n    <style>\n      :host {\n        display: flex;\n        position: relative;\n        align-items: stretch;\n      }\n\n      :host * {\n        background: lightgray;\n        display: flex;\n        align-items: center;\n        margin-right: 1em;\n      }\n\n      iframe {\n        display: block;\n      }\n\n      .videosfield__create {\n        display: block;\n        height: 250px;\n        width: 300px;\n      }\n\n      paper-dialog {\n        width: 50%;\n        width: 50vmax;\n        padding: 1em;\n      }\n    </style>\n\n    <template is="dom-repeat" items="{{videos}}" as="video">\n      <lrnapp-studio-submission-media-editoverlay\n        on-delete="_videoDelete"\n        data-index\\$="[[index]]"\n      >\n        <iframe class="videosfield__iframe" src="{{video.video_src}}"></iframe>\n      </lrnapp-studio-submission-media-editoverlay>\n    </template>\n\n    <lrnapp-studio-submission-edit-add-asset\n      icon="av:video-library"\n      on-click="_openDialog"\n    ></lrnapp-studio-submission-edit-add-asset>\n\n    <paper-dialog\n      id="dialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n      with-backdrop=""\n    >\n      <h2>Add Video</h2>\n      <paper-dialog-scrollable>\n        <paper-input label="Video URL" value="{{newvideo}}"></paper-input>\n      </paper-dialog-scrollable>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Cancel</paper-button>\n        <paper-button dialog-confirm="" on-click="_addImage"\n          >Add Video</paper-button\n        >\n      </div>\n    </paper-dialog>\n\n    <template is="dom-if" if="[[videoGenerateSourceUrl]]">\n      \x3c!-- Generate Video Source Url for preview --\x3e\n      <iron-ajax\n        id="videoGenerateSourceUrl"\n        url="[[videoGenerateSourceUrl]]"\n        method="POST"\n        body="[[newvideo]]"\n        content-type="application/json"\n        handle-as="json"\n        on-response="_addImage"\n      ></iron-ajax>\n    </template>\n  ']);return ke=function(){return n},n}function _e(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n\n      .item {\n        display: flex;\n        margin: auto;\n      }\n\n      .info {\n        flex: 1 1 auto;\n      }\n\n      .create {\n        display: flex;\n        align-items: center;\n      }\n\n      .input {\n        flex: 1 1 auto;\n      }\n\n      paper-dialog {\n        width: 50%;\n        width: 50vmax;\n        padding: 1em;\n      }\n    </style>\n\n    <template is="dom-repeat" items="{{links}}" as="link">\n      <div class="item">\n        <div class="info"><div class="linksfield__url">{{link.url}}</div></div>\n        <div class="linksfield__actions">\n          <paper-icon-button\n            icon="delete"\n            class="linksfield__delete"\n            data-index$="{{index}}"\n            on-click="_deleteLink"\n          ></paper-icon-button>\n        </div>\n      </div>\n    </template>\n    <lrnapp-studio-submission-edit-add-asset\n      icon="link"\n      display="pill"\n      on-click="_openDialog"\n    ></lrnapp-studio-submission-edit-add-asset>\n\n    <paper-dialog\n      id="dialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n      with-backdrop=""\n    >\n      <h2>Add Link</h2>\n      <paper-dialog-scrollable>\n        <paper-input\n          id="link-input"\n          class="input"\n          label="URL"\n          value="{{newlink}}"\n        ></paper-input>\n      </paper-dialog-scrollable>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Cancel</paper-button>\n        <paper-button dialog-confirm="" on-click="_createLink"\n          >Add Link</paper-button\n        >\n      </div>\n    </paper-dialog>\n  '],['\n    <style>\n      :host {\n        display: block;\n      }\n\n      .item {\n        display: flex;\n        margin: auto;\n      }\n\n      .info {\n        flex: 1 1 auto;\n      }\n\n      .create {\n        display: flex;\n        align-items: center;\n      }\n\n      .input {\n        flex: 1 1 auto;\n      }\n\n      paper-dialog {\n        width: 50%;\n        width: 50vmax;\n        padding: 1em;\n      }\n    </style>\n\n    <template is="dom-repeat" items="{{links}}" as="link">\n      <div class="item">\n        <div class="info"><div class="linksfield__url">{{link.url}}</div></div>\n        <div class="linksfield__actions">\n          <paper-icon-button\n            icon="delete"\n            class="linksfield__delete"\n            data-index\\$="{{index}}"\n            on-click="_deleteLink"\n          ></paper-icon-button>\n        </div>\n      </div>\n    </template>\n    <lrnapp-studio-submission-edit-add-asset\n      icon="link"\n      display="pill"\n      on-click="_openDialog"\n    ></lrnapp-studio-submission-edit-add-asset>\n\n    <paper-dialog\n      id="dialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n      with-backdrop=""\n    >\n      <h2>Add Link</h2>\n      <paper-dialog-scrollable>\n        <paper-input\n          id="link-input"\n          class="input"\n          label="URL"\n          value="{{newlink}}"\n        ></paper-input>\n      </paper-dialog-scrollable>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Cancel</paper-button>\n        <paper-button dialog-confirm="" on-click="_createLink"\n          >Add Link</paper-button\n        >\n      </div>\n    </paper-dialog>\n  ']);return _e=function(){return n},n}function je(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <lrn-markdown-editor content="{{content}}"></lrn-markdown-editor>\n  ']);return je=function(){return n},n}function Pe(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n        padding: 16px;\n      }\n      .field {\n        padding-bottom: 16px;\n      }\n      .actions {\n        display: flex;\n        border-top: 2px solid gainsboro;\n        margin-top: 16px;\n      }\n      .actions .spacer {\n        flex: 1 1 auto;\n      }\n      iron-icon {\n        margin-right: 6px;\n        --iron-icon-height: 32px;\n        --iron-icon-width: 32px;\n      }\n      .imagesfiled__image_delete {\n        position: absolute;\n        top: 0;\n        right: 0;\n      }\n    </style>\n    <template is="dom-if" if="{{submission}}">\n      <div class="field">\n        <paper-input\n          label="Title"\n          value="{{submission.attributes.title}}"\n        ></paper-input>\n      </div>\n      \x3c!-- Body --\x3e\n      <div class="field">\n        <label>Submission Text</label>\n        <lrnapp-studio-submission-edit-textarea\n          content="{{submission.attributes.body}}"\n        ></lrnapp-studio-submission-edit-textarea>\n      </div>\n\n      \x3c!-- Images --\x3e\n      <div class="imagesfield field">\n        <label for="image-upload">Images</label>\n        <lrnapp-studio-submission-edit-images\n          images="{{submission.attributes.images}}"\n          file-types="[[submission.meta.imagefieldTypes]]"\n        ></lrnapp-studio-submission-edit-images>\n      </div>\n\n      \x3c!-- Files --\x3e\n      <div class="filesfield field">\n        <label for="file-upload">Files</label>\n        <lrnapp-studio-submission-edit-files\n          files="{{submission.attributes.files}}"\n          file-types="[[submission.meta.filefieldTypes]]"\n        >\n        </lrnapp-studio-submission-edit-files>\n      </div>\n\n      \x3c!-- Links --\x3e\n      <div id="linksfield" class="linksfield field">\n        <label for="links-input">Links</label>\n        <lrnapp-studio-submission-edit-links\n          links="{{submission.attributes.links}}"\n        ></lrnapp-studio-submission-edit-links>\n      </div>\n\n      \x3c!-- Videos --\x3e\n      <div id="videosfield" class="videosfield field">\n        <label for="videos-input">Videos</label>\n        <lrnapp-studio-submission-edit-video\n          videos="{{submission.attributes.video}}"\n          end-point="[[endPoint]]"\n          csrf-token="[[csrfToken]]"\n        ></lrnapp-studio-submission-edit-video>\n      </div>\n\n      <div class="actions">\n        <lrnsys-button\n          id="publish"\n          icon="check"\n          label="Publish to Studio"\n          on-click="_publishClicked"\n          hover-class="amber lighten-5 green-text text-darken-4"\n          icon-class="green-text"\n        ></lrnsys-button>\n        <lrnsys-button\n          id="save-draft"\n          icon="drafts"\n          label="Save Draft"\n          on-click="_saveDraftClicked"\n          hover-class="amber lighten-5 amber-text text-darken-4"\n          icon-class="amber-text text-darken-4"\n        ></lrnsys-button>\n        <span class="spacer"></span>\n        <lrnsys-button\n          id="delete"\n          label="Delete"\n          icon="delete"\n          on-click="_deleteClicked"\n          hover-class="amber lighten-5 red-text"\n          icon-class="red-text text-darken-4"\n        >\n        </lrnsys-button>\n      </div>\n    </template>\n  ']);return Pe=function(){return n},n}function Se(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n        font-size: 12px;\n      }\n      .studio-block__header {\n        padding: 16px;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        border: 1px solid lightgray;\n        border-bottom: none;\n      }\n      .studio-block__content {\n        padding: 0 16px;\n        border: 1px solid lightgray;\n      }\n      .studio-block__icon-wrapper {\n        width: 32px;\n      }\n      .studio-block__header h3 {\n        margin: 0;\n        font-style: none;\n        font-size: inherit;\n      }\n    </style>\n    <div class="studio-block__header">\n      <div class="studio-block__icon-wrapper">\n        <iron-icon icon="[[icon]]" hidden$="[[!icon]]"></iron-icon>\n      </div>\n      <h3 hidden$="[[!title]]">[[title]]</h3>\n    </div>\n    <div class="studio-block__content"><slot></slot></div>\n  '],['\n    <style>\n      :host {\n        display: block;\n        font-size: 12px;\n      }\n      .studio-block__header {\n        padding: 16px;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        border: 1px solid lightgray;\n        border-bottom: none;\n      }\n      .studio-block__content {\n        padding: 0 16px;\n        border: 1px solid lightgray;\n      }\n      .studio-block__icon-wrapper {\n        width: 32px;\n      }\n      .studio-block__header h3 {\n        margin: 0;\n        font-style: none;\n        font-size: inherit;\n      }\n    </style>\n    <div class="studio-block__header">\n      <div class="studio-block__icon-wrapper">\n        <iron-icon icon="[[icon]]" hidden\\$="[[!icon]]"></iron-icon>\n      </div>\n      <h3 hidden\\$="[[!title]]">[[title]]</h3>\n    </div>\n    <div class="studio-block__content"><slot></slot></div>\n  ']);return Se=function(){return n},n}function Ce(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n      .field {\n        padding-top: 32px;\n        padding-bottom: 32px;\n      }\n\n      .actions {\n        display: flex;\n        border-top: 2px solid gainsboro;\n        margin-top: 16px;\n        font-size: 14px;\n      }\n\n      .actions .spacer {\n        flex: 1 1 auto;\n      }\n\n      .submission-critique-outline + .submission-critique-outline {\n        margin-top: 16px;\n      }\n\n      :host([edit]) .submission-critique-outline--feedback lrnapp-studio-block {\n        padding: 0;\n      }\n    </style>\n    \x3c!-- Body --\x3e\n    <div class="field">\n      <div class="submission-critique-outline">\n        <lrnapp-studio-block title="Directions" icon="info-outline">\n          <marked-element\n            markdown="[[submission.relationships.assignment.attributes.critiqueOutline]]"\n          ></marked-element>\n        </lrnapp-studio-block>\n      </div>\n      <div\n        class="submission-critique-outline submission-critique-outline--feedback"\n      >\n        <lrnapp-studio-block title="Feedback" icon="communication:comment">\n          <template is="dom-if" if="[[edit]]">\n            <lrnapp-studio-submission-edit-textarea\n              content="{{submission.attributes.body}}"\n            ></lrnapp-studio-submission-edit-textarea>\n          </template>\n          <template is="dom-if" if="[[!edit]]">\n            <marked-element\n              markdown="{{submission.attributes.body}}"\n            ></marked-element>\n          </template>\n        </lrnapp-studio-block>\n      </div>\n    </div>\n    <template is="dom-if" if="[[edit]]">\n      <div class="actions">\n        <lrnsys-button\n          id="publish"\n          icon="check"\n          label="Publish Feedback"\n          on-click="_publishClicked"\n          hover-class="amber lighten-5 green-text text-darken-4"\n          icon-class="green-text"\n        ></lrnsys-button>\n        <lrnsys-button\n          id="save-draft"\n          icon="drafts"\n          label="Save Draft"\n          on-click="_saveDraftClicked"\n          hover-class="amber lighten-5 amber-text text-darken-4"\n          icon-class="amber-text text-darken-4"\n        ></lrnsys-button>\n        <span class="spacer"></span>\n        <lrnsys-button\n          id="delete"\n          label="Delete Feedback"\n          icon="delete"\n          on-click="_deleteClicked"\n          hover-class="amber lighten-5 red-text"\n          icon-class="red-text text-darken-4"\n        >\n        </lrnsys-button>\n      </div>\n    </template>\n  ']);return Ce=function(){return n},n}function qe(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n\n      .submission-critique {\n        display: flex;\n        justify-content: space-around;\n      }\n\n      .submission-critique-panel {\n        flex: 1 1 auto;\n        width: 100%;\n        flex-wrap: nowrap;\n        margin: 0.3em;\n      }\n    </style>\n    <template is="dom-if" if="{{submission}}">\n      <template is="dom-if" if="[[!edit]]">\n        <div class="submission-critique">\n          \x3c!-- critique panel --\x3e\n          <div class="submission-critique-panel" id="crititque-panel">\n            <lrnapp-studio-submission-display\n              submission="[[submission.relationships.relatedSubmission]]"\n            ></lrnapp-studio-submission-display>\n          </div>\n          \x3c!-- critique panel --\x3e\n          <div class="submission-critique-panel">\n            <lrnapp-studio-submission-critique-panel\n              submission="[[submission]]"\n              edit="[[edit]]"\n            ></lrnapp-studio-submission-critique-panel>\n          </div>\n        </div>\n      </template>\n      <template is="dom-if" if="[[edit]]">\n        <vaadin-split-layout class="submission-critique">\n          \x3c!-- critique panel --\x3e\n          <div class="submission-critique-panel" id="crititque-panel">\n            <lrnapp-studio-submission-display\n              submission="[[submission.relationships.relatedSubmission]]"\n            ></lrnapp-studio-submission-display>\n          </div>\n          \x3c!-- critique panel --\x3e\n          <div class="submission-critique-panel">\n            <lrnapp-studio-submission-critique-panel\n              submission="{{submission}}"\n              edit="[[edit]]"\n            ></lrnapp-studio-submission-critique-panel>\n          </div>\n        </vaadin-split-layout>\n      </template>\n    </template>\n  ']);return qe=function(){return n},n}function $e(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <iron-pages selected="[[selectedPage]]">\n      <lrnapp-studio-submission-display\n        submission="{{submission}}"\n      ></lrnapp-studio-submission-display>\n      <lrnapp-studio-submission-edit\n        submission="{{submission}}"\n      ></lrnapp-studio-submission-edit>\n      <lrnapp-studio-submission-critique\n        submission="{{submission}}"\n        edit="[[edit]]"\n      ></lrnapp-studio-submission-critique>\n    </iron-pages>\n  ']);return $e=function(){return n},n}function Te(){var n=Dn(['\n    <style>\n      :host {\n        display: flex;\n      }\n      paper-card {\n        margin: 20px;\n        padding: 16px;\n      }\n      h1,\n      h2,\n      h3,\n      h4 {\n        text-align: left;\n      }\n      p {\n        font-size: 14px;\n        line-height: 18px;\n        text-align: left;\n      }\n      .nowrap p {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n      .right-actions {\n        float: right;\n      }\n      .paper-card-length-1 {\n        width: 85%;\n        margin-bottom: 8px;\n      }\n      .paper-card-length-2 {\n        width: 81%;\n        margin-top: 0;\n        margin-bottom: 8px;\n      }\n      .paper-card-length-3 {\n        width: 77%;\n        margin-top: 0;\n        margin-bottom: 8px;\n      }\n      .comment-depth-2 {\n        margin: 8px;\n      }\n      .comment-depth-3 {\n        margin: 16px;\n      }\n      .comment-depth-4 {\n        margin: 16px;\n      }\n      .comment-depth-5 {\n        margin: 16px;\n      }\n      .comment-depth-6 {\n        margin: 16px;\n      }\n      .center {\n        padding: 0;\n      }\n    </style>\n    <div class$="center comment-depth-[[comment.attributes.threadDepth]]">\n      <lrndesign-avatar\n        label="[[comment.relationships.author.data.name]]"\n        class="float-left"\n      ></lrndesign-avatar>\n    </div>\n    <paper-card class$="paper-card-length-[[comment.attributes.threadDepth]]">\n      <div id="body" class="comment-body nowrap">\n        <h4>\n          [[comment.relationships.author.data.name]]\n          <span class="grey-said"> said:</span>\n        </h4>\n        <word-count>[[comment.attributes.body]]</word-count>\n      </div>\n      <div class$="card-actions">\n        <paper-icon-button\n          class="right-actions"\n          id="reply"\n          icon="icons:reply"\n        ></paper-icon-button>\n        <paper-tooltip for="reply" animation-delay="0">Reply</paper-tooltip>\n        <paper-icon-button\n          class="right-actions"\n          id="edit"\n          icon="icons:create"\n        ></paper-icon-button>\n        <paper-tooltip for="edit" animation-delay="0">Edit</paper-tooltip>\n        <paper-icon-button\n          class="right-actions"\n          id="delete"\n          icon="icons:delete-forever"\n        ></paper-icon-button>\n        <paper-tooltip for="delete" animation-delay="0">Delete</paper-tooltip>\n      </div>\n    </paper-card>\n  '],['\n    <style>\n      :host {\n        display: flex;\n      }\n      paper-card {\n        margin: 20px;\n        padding: 16px;\n      }\n      h1,\n      h2,\n      h3,\n      h4 {\n        text-align: left;\n      }\n      p {\n        font-size: 14px;\n        line-height: 18px;\n        text-align: left;\n      }\n      .nowrap p {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n      .right-actions {\n        float: right;\n      }\n      .paper-card-length-1 {\n        width: 85%;\n        margin-bottom: 8px;\n      }\n      .paper-card-length-2 {\n        width: 81%;\n        margin-top: 0;\n        margin-bottom: 8px;\n      }\n      .paper-card-length-3 {\n        width: 77%;\n        margin-top: 0;\n        margin-bottom: 8px;\n      }\n      .comment-depth-2 {\n        margin: 8px;\n      }\n      .comment-depth-3 {\n        margin: 16px;\n      }\n      .comment-depth-4 {\n        margin: 16px;\n      }\n      .comment-depth-5 {\n        margin: 16px;\n      }\n      .comment-depth-6 {\n        margin: 16px;\n      }\n      .center {\n        padding: 0;\n      }\n    </style>\n    <div class\\$="center comment-depth-[[comment.attributes.threadDepth]]">\n      <lrndesign-avatar\n        label="[[comment.relationships.author.data.name]]"\n        class="float-left"\n      ></lrndesign-avatar>\n    </div>\n    <paper-card class\\$="paper-card-length-[[comment.attributes.threadDepth]]">\n      <div id="body" class="comment-body nowrap">\n        <h4>\n          [[comment.relationships.author.data.name]]\n          <span class="grey-said"> said:</span>\n        </h4>\n        <word-count>[[comment.attributes.body]]</word-count>\n      </div>\n      <div class\\$="card-actions">\n        <paper-icon-button\n          class="right-actions"\n          id="reply"\n          icon="icons:reply"\n        ></paper-icon-button>\n        <paper-tooltip for="reply" animation-delay="0">Reply</paper-tooltip>\n        <paper-icon-button\n          class="right-actions"\n          id="edit"\n          icon="icons:create"\n        ></paper-icon-button>\n        <paper-tooltip for="edit" animation-delay="0">Edit</paper-tooltip>\n        <paper-icon-button\n          class="right-actions"\n          id="delete"\n          icon="icons:delete-forever"\n        ></paper-icon-button>\n        <paper-tooltip for="delete" animation-delay="0">Delete</paper-tooltip>\n      </div>\n    </paper-card>\n  ']);return Te=function(){return n},n}function Ae(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <template is="dom-if" if="[[submission.relationships.comments]]">\n      <template\n        is="dom-repeat"\n        items="[[_toArray(submission.relationships.comments.data)]]"\n        as="comment"\n      >\n        <lrnapp-studio-submission-comment\n          comment="{{comment}}"\n        ></lrnapp-studio-submission-comment>\n      </template>\n    </template>\n  ']);return Ae=function(){return n},n}function ze(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n        position: relative;\n      }\n\n      p {\n        font-size: 14px;\n        line-height: 18px;\n      }\n\n      h1 {\n        margin: 0;\n        text-align: left;\n      }\n\n      iron-selector {\n        line-height: 1em;\n      }\n\n      iron-selector lrnsys-button {\n        display: inline-flex;\n      }\n\n      iron-image {\n        margin: 0 0.5em;\n      }\n\n      lrnsys-dialog {\n        display: inline;\n      }\n\n      .contain {\n        width: 10em;\n        height: 10em;\n        background: #ddd;\n      }\n\n      .center {\n        margin: auto;\n        width: 100%;\n      }\n\n      .title {\n        color: #222;\n        font-size: 2rem;\n        font-weight: 600;\n        line-height: 2.5rem;\n        padding: 0.25rem 0;\n        white-space: nowrap;\n        overflow-x: hidden;\n        text-overflow: ellipsis;\n        margin-top: 1rem;\n        text-transform: uppercase;\n        text-align: left;\n      }\n\n      .author {\n        color: #555;\n        font-size: 1rem;\n        font-weight: 500;\n        font-style: normal;\n        line-height: 1rem;\n        padding: 0.25rem 0 0.5rem 0;\n        margin: 0;\n        text-transform: capitalize;\n      }\n\n      .comments {\n        text-align: right;\n        margin: 0;\n        font-size: 1.5em;\n      }\n\n      .submission-page-wrapper {\n        padding: 0;\n        --vaadin-split-layout-splitter: {\n          min-width: 0.4em;\n          background: var(--paper-amber-200);\n        }\n      }\n\n      .submission-page {\n        width: 70vw;\n      }\n\n      .submission-page-card {\n        width: 100%;\n        margin: 0;\n        padding: 0 0 2em 1em;\n      }\n\n      .submission-comments {\n        overflow-y: hidden;\n        padding: 0;\n        margin: 0;\n      }\n\n      elmsln-loading {\n        position: absolute;\n        display: none;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(255, 255, 255, 0.8);\n        z-index: 10;\n        align-items: flex-end;\n        justify-content: center;\n      }\n\n      :host([saving]) elmsln-loading {\n        display: block;\n      }\n\n      elmsln-loading {\n        top: calc(50% - 5vmax);\n        left: calc(50% - 5vmax);\n        position: fixed;\n        transform-origin: center center;\n        width: 10vmax !important;\n        height: 10vmax !important;\n      }\n\n      iron-pages {\n        width: 100%;\n      }\n\n      paper-dialog {\n        width: 50%;\n        width: 50vmax;\n        padding: 1em;\n        z-index: 99999;\n      }\n\n      lrnapp-studio-submission-object {\n        width: 100%;\n      }\n\n      .assignment-body {\n        padding: 2em;\n      }\n\n      iron-icon {\n        margin: 0.2em;\n      }\n    </style>\n\n    <app-route\n      route="{{route}}"\n      pattern="/edit"\n      tail="{{tail}}"\n      active="{{editPage}}"\n    >\n    </app-route>\n\n    <iron-ajax\n      id="ajaxRequest"\n      auto=""\n      url="[[reqUrl]]"\n      method="GET"\n      params="[[reqParams]]"\n      content-type="application/json"\n      handle-as="json"\n      on-response="_handleResponse"\n    ></iron-ajax>\n    \x3c!-- Update Submission Node --\x3e\n    <iron-ajax\n      id="ajaxUpdateRequest"\n      url="[[reqUrl]]"\n      method="PUT"\n      body="[[submission]]"\n      params="[[reqParams]]"\n      content-type="application/json"\n      handle-as="json"\n      on-response="_handleUpdateResponse"\n    ></iron-ajax>\n    \x3c!-- Delete Submission Node --\x3e\n    <iron-ajax\n      id="ajaxDeleteRequest"\n      url="[[reqUrl]]"\n      method="DELETE"\n      params="[[reqParams]]"\n      content-type="application/json"\n      handle-as="json"\n      on-response="_handleDeleteResponse"\n    ></iron-ajax>\n\n    <app-toolbar class="amber lighten-3" hidden$="[[hideMenuBar]]">\n      <template is="dom-if" if="[[showComments]]">\n        <lrnsys-button\n          on-tap="_backToStudio"\n          icon="arrow-back"\n          label="See in studio"\n          hover-class="amber darken-4 white-text"\n        ></lrnsys-button>\n      </template>\n      <template is="dom-if" if="[[!showComments]]">\n        <lrnsys-button\n          on-tap="_backToKanban"\n          icon="arrow-back"\n          label="Back to project management"\n          hover-class="amber darken-4 white-text"\n        ></lrnsys-button>\n      </template>\n      <div spacer="" main-title="">[[submission.attributes.title]]</div>\n      <div spacer="">\n        <lrnsys-dialog\n          body-append=""\n          header="[[submission.relationships.assignment.attributes.title]]"\n        >\n          <span slot="button"\n            ><iron-icon icon="icons:assignment"></iron-icon>Assignment\n            Details</span\n          >\n          <div class="assignment-body">\n            <marked-element\n              id="assignment-body"\n              markdown="[[submission.relationships.assignment.attributes.body]]"\n            ></marked-element>\n          </div>\n        </lrnsys-dialog>\n      </div>\n      <div>\n        <paper-button\n          id="comment-count"\n          style="margin:0;padding:.25em;text-transform:none;"\n        >\n          <iron-icon icon="communication:forum"></iron-icon>\n          [[submission.meta.comment_count]] Comments\n        </paper-button>\n        <paper-badge\n          hidden$="[[displayNewBadge(submission.meta.comment_new)]]"\n          for="comment-count"\n          label$="[[submission.meta.comment_new]]"\n        ></paper-badge>\n      </div>\n      <div hidden$="[[editPage]]">\n        <lrnsys-button\n          on-tap="_setEditRoute"\n          icon="create"\n          label="Edit"\n          hover-class="amber darken-4 white-text"\n          hidden$="[[!submission.meta.canUpdate]]"\n        ></lrnsys-button>\n      </div>\n      <div hidden$="[[!editPage]]">\n        <lrnsys-button\n          on-tap="_resetRoute"\n          icon="cancel"\n          label="Cancel"\n          hover-class="amber darken-4 white-text"\n          hidden$="[[!submission.meta.canUpdate]]"\n        ></lrnsys-button>\n      </div>\n    </app-toolbar>\n\n    <vaadin-split-layout class="submission-page-wrapper">\n      <div\n        id="commentcolumn"\n        class="submission-comments"\n        style="min-width: 25%; max-width: 40%; width:30%;"\n      >\n        <template is="dom-if" if="[[showComments]]">\n          <lrnsys-comment-list\n            comment-ops-base="{{commentOpsBase}}"\n            csrf-token="[[csrfToken]]"\n            source-path="{{commentsUrl}}"\n            create-stub-url="{{createStubUrl}}"\n          ></lrnsys-comment-list>\n        </template>\n      </div>\n      <div id="submissioncolumn" style="width:70%;">\n        <lrnapp-studio-submission-object\n          submission="{{submission}}"\n          edit="[[editPage]]"\n        ></lrnapp-studio-submission-object>\n      </div>\n      <iron-icon class="splitter-handle" icon="more-vert"></iron-icon>\n    </vaadin-split-layout>\n\n    <elmsln-loading></elmsln-loading>\n\n    <paper-dialog\n      id="deletedialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n      with-backdrop=""\n    >\n      <h2>Delete submission?</h2>\n      <p>Are you sure you want to delete this submission?</p>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Cancel</paper-button>\n        <paper-button dialog-confirm="" on-click="_submissionDeleteConfirmed"\n          >Delete</paper-button\n        >\n      </div>\n    </paper-dialog>\n    <paper-dialog\n      id="publishdialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n      with-backdrop=""\n    >\n      <h2>Ready to publish?</h2>\n      <p>\n        By publishing, the author of this submission will be able to view your\n        feedback. Are you ready to publish?\n      </p>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Cancel</paper-button>\n        <paper-button dialog-confirm="" on-click="_submissionPublishConfirmed"\n          >Yes Publish</paper-button\n        >\n      </div>\n    </paper-dialog>\n\n    <paper-toast id="toast"></paper-toast>\n  '],['\n    <style>\n      :host {\n        display: block;\n        position: relative;\n      }\n\n      p {\n        font-size: 14px;\n        line-height: 18px;\n      }\n\n      h1 {\n        margin: 0;\n        text-align: left;\n      }\n\n      iron-selector {\n        line-height: 1em;\n      }\n\n      iron-selector lrnsys-button {\n        display: inline-flex;\n      }\n\n      iron-image {\n        margin: 0 0.5em;\n      }\n\n      lrnsys-dialog {\n        display: inline;\n      }\n\n      .contain {\n        width: 10em;\n        height: 10em;\n        background: #ddd;\n      }\n\n      .center {\n        margin: auto;\n        width: 100%;\n      }\n\n      .title {\n        color: #222;\n        font-size: 2rem;\n        font-weight: 600;\n        line-height: 2.5rem;\n        padding: 0.25rem 0;\n        white-space: nowrap;\n        overflow-x: hidden;\n        text-overflow: ellipsis;\n        margin-top: 1rem;\n        text-transform: uppercase;\n        text-align: left;\n      }\n\n      .author {\n        color: #555;\n        font-size: 1rem;\n        font-weight: 500;\n        font-style: normal;\n        line-height: 1rem;\n        padding: 0.25rem 0 0.5rem 0;\n        margin: 0;\n        text-transform: capitalize;\n      }\n\n      .comments {\n        text-align: right;\n        margin: 0;\n        font-size: 1.5em;\n      }\n\n      .submission-page-wrapper {\n        padding: 0;\n        --vaadin-split-layout-splitter: {\n          min-width: 0.4em;\n          background: var(--paper-amber-200);\n        }\n      }\n\n      .submission-page {\n        width: 70vw;\n      }\n\n      .submission-page-card {\n        width: 100%;\n        margin: 0;\n        padding: 0 0 2em 1em;\n      }\n\n      .submission-comments {\n        overflow-y: hidden;\n        padding: 0;\n        margin: 0;\n      }\n\n      elmsln-loading {\n        position: absolute;\n        display: none;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(255, 255, 255, 0.8);\n        z-index: 10;\n        align-items: flex-end;\n        justify-content: center;\n      }\n\n      :host([saving]) elmsln-loading {\n        display: block;\n      }\n\n      elmsln-loading {\n        top: calc(50% - 5vmax);\n        left: calc(50% - 5vmax);\n        position: fixed;\n        transform-origin: center center;\n        width: 10vmax !important;\n        height: 10vmax !important;\n      }\n\n      iron-pages {\n        width: 100%;\n      }\n\n      paper-dialog {\n        width: 50%;\n        width: 50vmax;\n        padding: 1em;\n        z-index: 99999;\n      }\n\n      lrnapp-studio-submission-object {\n        width: 100%;\n      }\n\n      .assignment-body {\n        padding: 2em;\n      }\n\n      iron-icon {\n        margin: 0.2em;\n      }\n    </style>\n\n    <app-route\n      route="{{route}}"\n      pattern="/edit"\n      tail="{{tail}}"\n      active="{{editPage}}"\n    >\n    </app-route>\n\n    <iron-ajax\n      id="ajaxRequest"\n      auto=""\n      url="[[reqUrl]]"\n      method="GET"\n      params="[[reqParams]]"\n      content-type="application/json"\n      handle-as="json"\n      on-response="_handleResponse"\n    ></iron-ajax>\n    \x3c!-- Update Submission Node --\x3e\n    <iron-ajax\n      id="ajaxUpdateRequest"\n      url="[[reqUrl]]"\n      method="PUT"\n      body="[[submission]]"\n      params="[[reqParams]]"\n      content-type="application/json"\n      handle-as="json"\n      on-response="_handleUpdateResponse"\n    ></iron-ajax>\n    \x3c!-- Delete Submission Node --\x3e\n    <iron-ajax\n      id="ajaxDeleteRequest"\n      url="[[reqUrl]]"\n      method="DELETE"\n      params="[[reqParams]]"\n      content-type="application/json"\n      handle-as="json"\n      on-response="_handleDeleteResponse"\n    ></iron-ajax>\n\n    <app-toolbar class="amber lighten-3" hidden\\$="[[hideMenuBar]]">\n      <template is="dom-if" if="[[showComments]]">\n        <lrnsys-button\n          on-tap="_backToStudio"\n          icon="arrow-back"\n          label="See in studio"\n          hover-class="amber darken-4 white-text"\n        ></lrnsys-button>\n      </template>\n      <template is="dom-if" if="[[!showComments]]">\n        <lrnsys-button\n          on-tap="_backToKanban"\n          icon="arrow-back"\n          label="Back to project management"\n          hover-class="amber darken-4 white-text"\n        ></lrnsys-button>\n      </template>\n      <div spacer="" main-title="">[[submission.attributes.title]]</div>\n      <div spacer="">\n        <lrnsys-dialog\n          body-append=""\n          header="[[submission.relationships.assignment.attributes.title]]"\n        >\n          <span slot="button"\n            ><iron-icon icon="icons:assignment"></iron-icon>Assignment\n            Details</span\n          >\n          <div class="assignment-body">\n            <marked-element\n              id="assignment-body"\n              markdown="[[submission.relationships.assignment.attributes.body]]"\n            ></marked-element>\n          </div>\n        </lrnsys-dialog>\n      </div>\n      <div>\n        <paper-button\n          id="comment-count"\n          style="margin:0;padding:.25em;text-transform:none;"\n        >\n          <iron-icon icon="communication:forum"></iron-icon>\n          [[submission.meta.comment_count]] Comments\n        </paper-button>\n        <paper-badge\n          hidden\\$="[[displayNewBadge(submission.meta.comment_new)]]"\n          for="comment-count"\n          label\\$="[[submission.meta.comment_new]]"\n        ></paper-badge>\n      </div>\n      <div hidden\\$="[[editPage]]">\n        <lrnsys-button\n          on-tap="_setEditRoute"\n          icon="create"\n          label="Edit"\n          hover-class="amber darken-4 white-text"\n          hidden\\$="[[!submission.meta.canUpdate]]"\n        ></lrnsys-button>\n      </div>\n      <div hidden\\$="[[!editPage]]">\n        <lrnsys-button\n          on-tap="_resetRoute"\n          icon="cancel"\n          label="Cancel"\n          hover-class="amber darken-4 white-text"\n          hidden\\$="[[!submission.meta.canUpdate]]"\n        ></lrnsys-button>\n      </div>\n    </app-toolbar>\n\n    <vaadin-split-layout class="submission-page-wrapper">\n      <div\n        id="commentcolumn"\n        class="submission-comments"\n        style="min-width: 25%; max-width: 40%; width:30%;"\n      >\n        <template is="dom-if" if="[[showComments]]">\n          <lrnsys-comment-list\n            comment-ops-base="{{commentOpsBase}}"\n            csrf-token="[[csrfToken]]"\n            source-path="{{commentsUrl}}"\n            create-stub-url="{{createStubUrl}}"\n          ></lrnsys-comment-list>\n        </template>\n      </div>\n      <div id="submissioncolumn" style="width:70%;">\n        <lrnapp-studio-submission-object\n          submission="{{submission}}"\n          edit="[[editPage]]"\n        ></lrnapp-studio-submission-object>\n      </div>\n      <iron-icon class="splitter-handle" icon="more-vert"></iron-icon>\n    </vaadin-split-layout>\n\n    <elmsln-loading></elmsln-loading>\n\n    <paper-dialog\n      id="deletedialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n      with-backdrop=""\n    >\n      <h2>Delete submission?</h2>\n      <p>Are you sure you want to delete this submission?</p>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Cancel</paper-button>\n        <paper-button dialog-confirm="" on-click="_submissionDeleteConfirmed"\n          >Delete</paper-button\n        >\n      </div>\n    </paper-dialog>\n    <paper-dialog\n      id="publishdialog"\n      entry-animation="scale-up-animation"\n      exit-animation="fade-out-animation"\n      with-backdrop=""\n    >\n      <h2>Ready to publish?</h2>\n      <p>\n        By publishing, the author of this submission will be able to view your\n        feedback. Are you ready to publish?\n      </p>\n      <div class="buttons">\n        <paper-button dialog-dismiss="">Cancel</paper-button>\n        <paper-button dialog-confirm="" on-click="_submissionPublishConfirmed"\n          >Yes Publish</paper-button\n        >\n      </div>\n    </paper-dialog>\n\n    <paper-toast id="toast"></paper-toast>\n  ']);return ze=function(){return n},n}function De(){var n=Dn(['\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n\n    <template is="dom-if" if="[[!submissionId]]">\n      <lrnsys-button\n        raised=""\n        on-tap="_createSubmission"\n        label="Create submission"\n      ></lrnsys-button>\n      <iron-ajax\n        id="ajaxCreateStub"\n        url="[[createStubUrl]]"\n        method="POST"\n        body="[[assignmentId]]"\n        handle-as="json"\n        on-response="_ajaxCreateStubHandler"\n      ></iron-ajax>\n    </template>\n    <template is="dom-if" if="[[submissionId]]">\n      <lrnsys-button\n        raised=""\n        label="View submission"\n        show-href="[[_submissionUrl(submissionId)]]"\n        href="[[_submissionUrl(submissionId)]]"\n      ></lrnsys-button>\n    </template>\n\n    <template is="dom-if" if="[[displayErrors]]">\n      <paper-toast id="toast"></paper-toast>\n    </template>\n  ']);return De=function(){return n},n}function Re(){var n=Dn(['\n    <style include="materializecss-styles">\n      :host {\n        display: block;\n      }\n      paper-button {\n        padding: 0;\n        margin: 0;\n        min-width: 1rem;\n      }\n    </style>\n    <app-location route="{{route}}"></app-location>\n    <app-route\n      route="{{route}}"\n      pattern="[[endPoint]]/submissions/:submission"\n      data="{{data}}"\n      tail="{{tail}}"\n    >\n    </app-route>\n\n    <template is="dom-if" if="[[data.submission]]">\n      <lrnapp-studio-submission-page\n        base-path="{{basePath}}"\n        route="{{tail}}"\n        id="[[data.submission]]"\n        end-point="[[endPoint]]"\n        csrf-token="[[csrfToken]]"\n        data="{{data}}"\n      ></lrnapp-studio-submission-page>\n    </template>\n    <template is="dom-if" if="[[!data.submission]]">\n      This is the lrnapp-studio-submission page.\n    </template>\n\n    <paper-toast id="toast"></paper-toast>\n  ']);return Re=function(){return n},n}function Oe(){var n=Dn(['\n    <style include="materializecss-styles">\n      :host {\n        display: block;\n        font-size: 16px;\n        box-sizing: content-box;\n      }\n      :host([loading]) #content {\n        opacity: .2;\n      }\n      #content {\n        opacity: 1;\n        visibility: visible;\n        transition: all .4s ease;\n      }\n    </style>\n    <div id="hackycontainer"><style id="hackycsspotterhates"></style></div>\n    <iron-ajax\n      id="fulloutlinepath"\n      url="[[fullOutlinePath]]"\n      handle-as="json"\n      on-response="handleOutlineResponse"\n      last-response="{{outlineData}}"></iron-ajax>\n    <iron-ajax\n      id="pageajax"\n      params="[[requestParams]]"\n      url="[[sourcePath]]"\n      handle-as="json"\n      on-response="handleResponse"\n      last-response="{{pageData}}"\n      loading="{{_loading}}"></iron-ajax>\n    <app-location route="{{route}}" query-params="{{queryParams}}"></app-location>\n    <app-route\n      route="{{route}}"\n      pattern="[[endPoint]]/:type/:id"\n      data="{{data}}"\n      tail="{{tail}}"\n      query-params="{{queryParams}}">\n    </app-route>\n    <main id="etb-tool-nav" data-offcanvas="">\n      <div id="anchor"></div>\n      <div class="inner-wrap">\n        <section class="main-section etb-book" style="min-height: 318px;">\n          <h2 class="element-invisible">Content navigation</h2>\n          <div class="r-header row">\n            <div class="r-header__left">\n              <div class="book-navigation-header book-sibling-nav-container book-navigation-header-2">\n                <div class="book-navigation-header book-sibling-nav-container book-navigation-header-<?php print $count ?>">\n                  <lrnsys-dialog id="outlinepopover" data-voicecommand="open outline" class="black-text" hover-class="grey darken-3 white-text" label="Outline" header="Outline">\n                    <span slot="button">\n                      <iron-icon icon="explore"></iron-icon>\n                      Outline\n                    </span>\n                    <div class="elmsln-modal-content" id="block-mooc-helper-mooc-helper-toc-nav-modal">\n                      <div id="outlinemodal" on-tap="_modalTap"><slot name="outlinemodal"></slot></div>\n                    </div>\n                  </lrnsys-dialog>\n                  <div id="navigation"><slot name="navigation"></slot></div>\n                </div>\n              </div>\n            </div>\n            <div id="options" class="r-header__right">\n              <slot name="options"></slot>\n            </div>\n          </div>\n          <div class="elmsln-content-wrap" role="main">\n          <responsive-grid-row gutter="4">\n            <responsive-grid-col xl="3" lg="3" md="3" sm="4" xs="12">\n              <section id="block-mooc-nav-block-mooc-nav-nav" class="mooc-nav-block-left block block-mooc-nav-block contextual-links-region block-mooc-nav-block-mooc-nav column" role="navigation" aria-label$="[[outlineTitle]]">\n                <div class="block-mooc-nav-block-mooc-title black white-text">[[outlineTitle]]</div>\n                <div id="outline"><slot name="outline"></slot></div>\n              </section>\n              <div id="blocks"><slot name="blocks"></slot></div>\n            </responsive-grid-col>\n            <responsive-grid-col xl="8" lg="8" md="9" sm="7" xs="12">\n              <a id="main-content" class="scrollspy" data-scrollspy="scrollspy"></a>\n              <div class="column">\n                <div id="content"><slot name="content"></slot></div>\n              </div>\n            </responsive-grid-col>\n          </responsive-grid-row>\n        </section>\n        <a class="exit-off-canvas"></a>\n      </div>\n    </main>']);return Oe=function(){return n},n}n.Polymer({_template:n.html(ne()),is:"lrnapp-open-studio-table",properties:{submissions:{type:Array,notify:!0},_numWidth:{type:String,value:"2.25em"},sourcePath:{type:String,notify:!0},basePath:{type:String,notify:!0},activeSubmission:{type:String,value:null,notify:!0}},_loadProjectRoute:function(n){var e=v.dom(n).localTarget,t=e.getAttribute("data-project-id"),i=e.getAttribute("data-author-id");this.fire("route-change",{data:{page:"projects"},queryParams:{author:i,project:t}})},_loadSubmissionUrl:function(n){var e=v.dom(n).localTarget.getAttribute("data-submission-id");window.location.href=this.basePath+"lrnapp-studio-submission/submissions/"+e},_handleResponse:function(n){this.$.loading.hidden=!0},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(ee()),is:"lrnapp-open-studio-projects",properties:{projects:{type:Array,notify:!0},submissions:{type:Array,notify:!0},renderSubmissions:{type:Array,notify:!0,computed:"_renderSubmissionsCompute(submissions, activeProject, activeAuthorId)"},activeProjectId:{type:String,reflectToAttribute:!0,value:null},activeProject:{type:Object,computed:"_activeProjectCompute(activeProjectId, projects)"},activeAuthorId:{type:String,reflectToAttribute:!0,value:null},showSubmissions:{type:Boolean,computed:"_showSubmissions(activeProjectId, activeAuthorId)",value:!1},sourcePath:{type:String,notify:!0},basePath:{type:String,notify:!0}},_renderSubmissionsCompute:function(n,e,t){if(!n||!e||!t)return null;var i=[],a=e.attributes.steps.map(function(n){return n.id});return(i=n.filter(function(n){return a.includes(n.relationships.assignment.id)})).sort(function(n,t){for(index=0;index<e.attributes.steps.length;index++){if(e.attributes.steps[index].id==n.relationships.assignment.id)return-1;if(e.attributes.steps[index].id==t.relationships.assignment.id)return 1}return 0}),i},_activeProjectCompute:function(n,e){var t=null;return e&&(t=e.find(function(e){return e.id===n})),t},_showSubmissions:function(n,e){return!(!n||!e)},_getSubmissionIcon:function(n){for(var e=0;e<this.renderSubmissions.length;e++)if(this.renderSubmissions[e].relationships.assignment.id==n)return"check";return"assignment"},_getSubmissionClass:function(n){for(var e=0;e<this.renderSubmissions.length;e++)if(this.renderSubmissions[e].relationships.assignment.id==n)return"green-text text-darken-2";return"grey-text"},_scrollToTarget:function(n){var e=v.dom(n).localTarget.getAttribute("data-assignment-id");this.shadowRoot.querySelector(".assignment-"+e).scrollIntoView({block:"end",behavior:"smooth"})},_handleResponse:function(n){this.$.loading.hidden=!0},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(te()),is:"lrnapp-open-studio-assignments",properties:{assignments:{type:Array,notify:!0},submissions:{type:Array,notify:!0},activeAssignmentId:{type:String,reflectToAttribute:!0,value:null,notify:!0},activeAssignment:{type:Object,notify:!0,computed:"_activeAssignmentCompute(activeAssignmentId, assignments)"},activeAuthorId:{type:String,reflectToAttribute:!0,value:null,notify:!0},showSubmissions:{type:Boolean,computed:"_showSubmissions(activeAssignmentId)",value:!1,notify:!0},sourcePath:{type:String,notify:!0},basePath:{type:String,notify:!0}},_loadSubmissionUrl:function(n){var e=v.dom(n).localTarget.getAttribute("data-submission-id");window.location.href=this.basePath+"lrnapp-studio-submission/submissions/"+e},_activeAssignmentCompute:function(n,e){var t=null;return e&&(t=e.find(function(e){return e.id==n})),t},_showSubmissions:function(n){return!!n},_scrollToTarget:function(n){var e=v.dom(n).localTarget.getAttribute("data-submission-id");this.shadowRoot.querySelector("#submission-"+e).scrollIntoView({block:"start",behavior:"smooth"})},_handleResponse:function(n){this.$.loading.hidden=!0},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(ie()),is:"lrnapp-open-studio",properties:{studioResponse:{type:Object,notify:!0},submissions:{type:Object,notify:!0,computed:"_submissionsCompute(originalSubmissions, queryParams)"},originalSubmissions:{type:Object,notify:!0},projects:{type:Array,notify:!0,value:[]},assignments:{type:Array,notify:!0,value:[]},authors:{type:Array,notify:!0,value:[]},sourcePath:{type:String,notify:!0},endPoint:{type:String,notify:!0},basePath:{type:String,notify:!0},activeSubmission:{type:String,value:null,notify:!0},queryParams:{type:Object,notify:!0},_blockcycle:{type:Boolean,value:!1}},listeners:{"route-change":"_routeChange"},observers:["_routeChanged(route, endPoint)","_deleteToast(queryParams.deletetoast)","_assignmentFilterChanged(queryParams.assignment)","_projectFilterChanged(queryParams.project)"],_routeChanged:function(n,e){if("string"==typeof n.path){if("string"==typeof e&&n.path.startsWith(e))return;window.location.reload()}},_routeChange:function(n){var e=n.detail;"undefined"!==Cn(e.queryParams.assignment)&&this.set("queryParams.assignment",e.queryParams.assignment),"undefined"!==Cn(e.queryParams.project)&&this.set("queryParams.project",e.queryParams.project),"undefined"!==Cn(e.queryParams.author)&&this.set("queryParams.author",e.queryParams.author),"undefined"!==Cn(e.data.page)&&this.set("data.page",e.data.page)},_submissionsCompute:function(n,e){var t=this;if(void 0===n)return[];var i,a=this;return i=n.filter(function(n){return(void 0===a.queryParams.author||n.relationships.author.data.id===a.queryParams.author)&&((void 0===a.queryParams.project||n.relationships.project.data.id===a.queryParams.project)&&(void 0===a.queryParams.assignment||n.relationships.assignment.id===a.queryParams.assignment))}),setTimeout(function(){t.$.ironlist.fire("iron-resize")},200),i},_deleteToast:function(n,e){"undefined"!==Cn(n)&&("error"==n?this.$.toast.show("That submission on longer exists!"):this.$.toast.show("Submission deleted successfully!"),this.set("queryParams.deletetoast",void 0),this.notifyPath("queryParams.deletetoast"))},_assignmentFilterChanged:function(n){"undefined"===Cn(n)||this._blockcycle?this._blockcycle=!1:(this._blockcycle=!0,this.set("queryParams.project",void 0),this.notifyPath("queryParams.project"),this.set("queryParams.assignment",n),this.notifyPath("queryParams.assignment"))},_projectFilterChanged:function(n){"undefined"===Cn(n)||this._blockcycle?this._blockcycle=!1:(this._blockcycle=!0,this.set("queryParams.project",n),this.notifyPath("queryParams.project"),this.set("queryParams.assignment",void 0),this.notifyPath("queryParams.assignment"))},_loadSubmissionUrl:function(n){var e=v.dom(n).localTarget.getAttribute("data-submission-id");window.location.href=this.basePath+"lrnapp-studio-submission/submissions/"+e},_handleResponse:function(n){var e={},t={},i={authors:[],assignments:[]},a={},s=[],o=[],r=this._toArray(this.studioResponse.data.submissions),l=this._toArray(this.studioResponse.data.projects);this.set("projects",l),this.set("originalSubmissions",r);for(var d=0;d<r.length;d++)e=r[d].relationships.author.data,i.authors[e.id]=e,t=r[d].relationships.project.data,a=r[d].relationships.assignment,i.assignments[a.id]=a,i.assignments[a.id].project=t.id;i.authors.forEach(function(n){o.push(n)}),i.assignments.forEach(function(n){s.push(n)}),this.$.loading.hidden=!0,this.set("assignments",s),this.set("authors",o)},_submissionsClicked:function(n){this.set("route.path",this.endPoint+"/submissions"),this.notifyPath("route.path")},_projectsClicked:function(n){this.set("route.path",this.endPoint+"/projects"),this.notifyPath("route.path")},_assignmentsClicked:function(n){this.set("route.path",this.endPoint+"/assignments"),this.notifyPath("route.path")},_tableClicked:function(n){this.set("route.path",this.endPoint+"/table"),this.notifyPath("route.path")},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(ae()),is:"lrnapp-block-recent-project",properties:{sourcePath:{type:String,notify:!0},response:{type:Object,notify:!0},project:{type:Object,notify:!0},hasProject:{type:Boolean,notify:!0,reflectToAttribute:!0,computed:"_getHasProject(project)"}},_getHasProject:function(n){return"undefined"!==Cn(n.id)},handleResponse:function(n){this.$.loading.hidden=!0,this.project=this.response.data},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(se()),is:"lrnapp-block-recent-submissions",properties:{sourcePath:{type:String,notify:!0},response:{type:Array,notify:!0}},_loadSubmissionUrl:function(n){var e=v.dom(n).localTarget.getAttribute("data-submission-id");window.location.href=this.basePath+"lrnapp-studio-submission/submissions/"+e},handleResponse:function(n){this.$.loading.hidden=!0},_getViewLink:function(n){return this.basePath+"lrnapp-studio-submission/submissions/"+n},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(oe()),is:"lrnapp-block-recent-comments-comment",behaviors:[gn.IronResizableBehavior],listeners:{"iron-resize":"onHeightChange"},onHeightChange:function(){this.$.comment.offsetHeight>80&&this.$.btn.classList.toggle("hidden",this.hidden)},properties:{commentTitle:{type:String,value:"Comment title",reflectToAttribute:!0,notify:!0},actionView:{type:String,reflectToAttribute:!0,notify:!0},dateUpdated:{type:String,reflectToAttribute:!0,notify:!0},commentUser:{type:Object,value:{},reflectToAttribute:!0,notify:!0}},attached:function(){this.$.wrapper.addEventListener("click",function(n){this.$.comment.classList.toggle("inactive",this.inactive)})},detached:function(){this.$.wrapper.removeEventListener("click",function(n){this.$.comment.classList.toggle("inactive",this.inactive)})}}),n.Polymer({_template:n.html(re()),is:"lrnapp-block-recent-comments",properties:{sourcePath:{type:String,notify:!0},response:{type:Array,notify:!0}},handleResponse:function(n){this.$.loading.hidden=!0},_getViewLink:function(n){return this.basePath+"lrnapp-studio-submission/submissions/"+n},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(le()),is:"lrnapp-block-need-feedback",properties:{sourcePath:{type:String,notify:!0},response:{type:Array,notify:!0}},_loadSubmissionUrl:function(n){var e=v.dom(n).localTarget.getAttribute("data-submission-id");window.location.href=this.basePath+"lrnapp-studio-submission/submissions/"+e},handleResponse:function(n){this.$.loading.hidden=!0},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(de()),is:"lrnapp-studio-dashboard",properties:{username:{type:String,reflectToAttribute:!0},basePath:{type:String,notify:!0,reflectToAttribute:!0},csrfToken:{type:String,notify:!0,reflectToAttribute:!0},sourcePath:{type:String,notify:!0,reflectToAttribute:!0}},_getEndPoint:function(n){return n+"lrnapp-studio-dashboard/blocks"},_getDataSource:function(n,e,t){return e+"lrnapp-studio-dashboard/blocks/"+t+"?token="+n},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(pe()),is:"lrnapp-studio-instructor",observers:["_routeChanged(route, endPoint)","_activeDataChanged(activeData.student, activeData.assignment)"],properties:{dataType:{type:Boolean,value:!1,observer:"_dataTypeChanged"},dataTypeText:{type:String,value:"Submissions"},projects:{type:Object,notify:!0},assignments:{type:Object,notify:!0},students:{type:Object,notify:!0,value:!1},_projectData:{type:Object,value:{}},studentParams:{type:Object,value:{projectId:null,type:"submission"}},_studentData:{type:Object},_numWidth:{type:String,value:"2.25em"},sourcePath:{type:String,notify:!0},basePath:{type:String,notify:!0},route:{type:String},csrfToken:{type:String},elmslnCourse:{type:String},elmslnSection:{type:String},data:{type:Object},activeProject:{type:Number,value:!1},activeData:{type:Object,value:{student:{},assignment:{},submission:{}}},stats:{type:Object,value:{}},activeChart:{type:Object,value:{}}},_chartChanged:function(n){this.set("activeChart.title",n.detail.value),this.notifyPath("activeChart.title"),this.set("activeChart.description","Chart of values relative to "+n.detail.value),this.notifyPath("activeChart.description"),this.set("activeChart.data",this._formatChartData(n.detail.value)),this.notifyPath("activeChart.data")},_formatChartData:function(n){var e=[],t=[[]],i=this.stats.stats,a=this._toArray(this.assignments),s=n.split("-");if("undefined"!==Cn(i[s[0]])&&"undefined"!==Cn(i[s[0]][s[1]]))for(var o in a){var r=a[o].title;"undefined"!==Cn(i[s[0]][s[1]][a[o].id])?(t[0].push(i[s[0]][s[1]][a[o].id]),r+=" (".concat(i[s[0]][s[1]][a[o].id],")")):(t[0].push(0),r+=" (0)"),e.push(r)}return{labels:e,series:t}},_dataTypeChanged:function(n,e){"undefined"!==Cn(e)&&(this.dataTypeText=n?"Comments (beta)":"Submissions")},_commentIndex:function(n){return n+1},_routeChanged:function(n,e){if("string"==typeof n.path){if("string"==typeof e&&n.path.startsWith(e))return;window.location.reload()}},_activeDataChanged:function(n,e){"undefined"!==Cn(n.id)&&(-1==this._getObjectByPosition(this.students,n.id,-1)?this.$.prevstudent.disabled=!0:this.$.prevstudent.disabled=!1,-1==this._getObjectByPosition(this.students,n.id,1)?this.$.nextstudent.disabled=!0:this.$.nextstudent.disabled=!1,-1==this._getObjectByPosition(this.assignments,e.id,-1)?this.$.prevassignment.disabled=!0:this.$.prevassignment.disabled=!1,-1==this._getObjectByPosition(this.assignments,e.id,1)?this.$.nextassignment.disabled=!0:this.$.nextassignment.disabled=!1)},_projectChanged:function(n){this.$.loading.hidden=!1,this.__rememberClick=this.$.statsdialog,this.$.statsdialog.disabled=!1,this.$.datatype.disabled=!1,this.activeProject=n.detail.value,this.studentParams.projectId=this.activeProject,this.$.studentrequest.generateRequest()},attached:function(){document.body.addEventListener("lrnsys-dialog-modal-closed",this._accessibleFocus.bind(this)),this.$.selectedproject.addEventListener("change",this._projectChanged.bind(this)),this.$.selectedchart.addEventListener("change",this._chartChanged.bind(this))},detached:function(){document.body.removeEventListener("lrnsys-dialog-modal-closed",this._accessibleFocus.bind(this)),this.$.selectedproject.removeEventListener("change",this._projectChanged.bind(this)),this.$.selectedchart.removeEventListener("change",this._chartChanged.bind(this))},_accessibleFocus:function(n){document.body.classList.remove("scroll-disabled"),this.__rememberClick.focus()},_handleProjectResponse:function(n){this.$.loading.hidden=!0,this.set("projects",this._projectData.data.projects)},_handleStudentResponse:function(n){var e=this;this.$.loading.hidden=!0,this.set("students",[]),this.set("students",this._studentData.data.students),this.set("assignments",[]),this.set("assignments",this._studentData.data.assignments),this.stats=this._studentData.data.stats,this.set("stats.header","Statistics for "+this.projects["project-"+this.activeProject].attributes.title),setTimeout(function(){e.shadowRoot.querySelector("#sorter").direction="asc"},200)},_changeActiveItem:function(n){var e,t;switch(document.body.classList.add("scroll-disabled"),v.dom(n).localTarget.id){case"prevstudent":-1!=(e=this._getObjectByPosition(this.students,this.activeData.student.id,-1))&&"undefined"!==Cn(e.assignments[this.activeData.assignment.id])&&(this.set("activeData.student",{}),this.set("activeData.student",e),this.set("activeData.submission",{}),this.set("activeData.submission",e.assignments[this.activeData.assignment.id]),this.set("route.path",this.endPoint+"/submissions/"+this.activeData.submission.id));break;case"nextstudent":-1!=(e=this._getObjectByPosition(this.students,this.activeData.student.id,1))&&"undefined"!==Cn(e.assignments[this.activeData.assignment.id])&&(this.set("activeData.student",{}),this.set("activeData.student",e),this.set("activeData.submission",{}),this.set("activeData.submission",e.assignments[this.activeData.assignment.id]),this.set("route.path",this.endPoint+"/submissions/"+this.activeData.submission.id));break;case"prevassignment":-1!=(t=this._getObjectByPosition(this.assignments,this.activeData.assignment.id,-1))&&(this.set("activeData.assignment",{}),this.set("activeData.assignment",t),"undefined"!==Cn(this.activeData.student.assignments[t.id].id)?(this.set("activeData.submission",this.activeData.student.assignments[t.id]),this.set("activeData.submission",{}),this.set("route.path",this.endPoint+"/submissions/"+this.activeData.student.assignments[t.id].id)):this.set("activeData.submission",!1));break;case"nextassignment":-1!=(t=this._getObjectByPosition(this.assignments,this.activeData.assignment.id,1))&&(this.set("activeData.assignment",{}),this.set("activeData.assignment",t),"undefined"!==Cn(this.activeData.student.assignments[t.id].id)?(this.set("activeData.submission",{}),this.set("activeData.submission",this.activeData.student.assignments[t.id]),this.set("route.path",this.endPoint+"/submissions/"+this.activeData.student.assignments[t.id].id)):this.set("activeData.submission",!1))}},_getObjectByPosition:function(n,e,t){var i=Object.keys(n).sort(function(e,t){return"undefined"!==Cn(n[e].sis)?n[e].sis.sortable_name>n[t].sis.sortable_name?1:n[e].sis.sortable_name<n[t].sis.sortable_name?-1:0:e-t});void 0!==e&&(e=e.toString());var a=i.indexOf(e);return-1==a&&(a=i.indexOf(parseInt(e))),-1==t&&a>0||1==t&&a<i.length-1?n[i[a+t]]:-1},_submissionStatus:function(n,e,t){if(null!=n){if(!t&&"undefined"!==Cn(n.assignments[e.id])&&"undefined"!==Cn(n.assignments[e.id].id))return!0;if(t&&"undefined"!==Cn(n.assignmentComments[e.id])&&this._toArray(n.assignmentComments[e.id]).length>0)return!0}return!1},_submissionID:function(n,e){return null!=n&&"undefined"!==Cn(n.assignments[e.id])&&"undefined"!==Cn(n.assignments[e.id].id)&&n.assignments[e.id].id},_submissionPiece:function(n,e,t){if(null!=n&&"undefined"!==Cn(n.assignments[e.id])&&"undefined"!==Cn(n.assignments[e.id].id)){var i=n.assignments[e.id];switch(t){case"url":return this.basePath+"lrnapp-studio-submission/submissions/"+i.id;case"title":return i.attributes.title;case"icon":return i.meta.state_icon;case"color":return i.meta.state_color;case"comments":return this._toArray(n.assignmentComments[e.id])}}return""},_commentCount:function(n,e,t){return!t&&null!=n&&"undefined"!==Cn(n.assignmentComments[e.id])&&this._toArray(n.assignmentComments[e.id]).length},_setActiveSubmission:function(n){var e=v.dom(n).localTarget;this.__rememberClick=e;var t=e.id.split("-");this.set("activeData.student",this.students[t[1]]),this.set("activeData.assignment",this.assignments[t[3]]),this.set("activeData.submission",this.students[t[1]].assignments[t[3]]),this.set("route.path",this.endPoint+"/submissions/"+t[t.length-1]),document.body.classList.add("scroll-disabled"),this.$.dialog.toggleDialog()},_setActiveComment:function(n){this.$.nextassignment.disabled=!0,this.$.prevassignment.disabled=!0,this.$.nextstudent.disabled=!0,this.$.prevstudent.disabled=!0;var e=v.dom(n).localTarget;this.__rememberClick=e;var t=e.id.split("-");this.set("activeData.student",this.students[t[1]]),this.set("activeData.assignment",this.assignments[t[3]]),this.set("activeData.submission",this.students[t[1]].assignments[t[3]]),this.set("route.path",this.endPoint+"/submissions/"+t[t.length-1]),document.body.classList.add("scroll-disabled"),this.$.dialog.toggleDialog()},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(ce()),is:"lrnapp-studio-project-button",properties:{auto:{type:Boolean,reflectToAttribute:!0,value:!1,notify:!0},displayErrors:{type:Boolean,value:!0},createProjectsUrl:{type:String,value:null},classes:{type:String,value:""},icon:{type:String,value:""}},ready:function(n){this.createProjectsUrl=this.endPoint+"/api/projects/create-stub?token="+this.csrfToken},_createProject:function(){this.shadowRoot.querySelector("#ajaxCreateStub").generateRequest()},_ajaxCreateStubHandler:function(n){var e=n.detail.response.status,t=n.detail.response;if(201===e){var i=n.detail.response.data;i&&this.fire("project-created",{project:i})}if(void 0!==t.errors){document.createElement("ul");var a="";t.errors.forEach(function(n){a=a+" "+n}),this.shadowRoot.querySelector("#toast").show(a)}}}),n.Polymer({_template:n.html(me()),is:"lrnapp-studio-assignment-button",properties:{auto:{type:Boolean,reflectToAttribute:!0,value:!1,notify:!0},displayErrors:{type:Boolean,value:!0},projectId:{type:String},createAssignmentUrl:{type:String,value:null},iconClass:{type:String,value:null},alt:{type:String,value:null},classes:{type:String,value:null},hoverClass:{type:String,value:null},icon:{type:String,value:null},endPoint:String,csrfToken:String},ready:function(n){this.createAssignmentUrl=this.endPoint+"/api/assignments/create-stub?token="+this.csrfToken},_createAssignment:function(){this.shadowRoot.querySelector("#ajaxCreateStub").generateRequest()},_ajaxCreateStubHandler:function(n){var e=n.detail.response.status,t=n.detail.response;if(201===e){var i=n.detail.response.data;i&&this.fire("assignment-created",{assignment:i})}if(void 0!==t.errors){document.createElement("ul");var a="";t.errors.forEach(function(n){a=a+" "+n}),this.shadowRoot.querySelector("#toast").show(a)}}}),n.Polymer({_template:n.html(ue()),is:"lrnapp-studio-kanban",properties:{activeAssignment:{type:String,value:null,notify:!0},projectToDelete:{type:String,value:null,notify:!0},assignmentToDelete:{type:String,value:null,notify:!0},sourcePath:{type:String,notify:!0},submission:{type:Object,notify:!0},projectResponse:{type:Object,notify:!0},backendResponse:{type:Object,notify:!0}},listeners:{"project-created":"_handleProjectCreated","assignment-created":"_handleAssignmentCreated"},observers:["_routeChanged(route, endPoint)","_deleteToast(queryParams.deletetoast)"],_routeChanged:function(n,e){if("string"==typeof n.path){if("string"==typeof e&&n.path.startsWith(e))return;window.location=n.path}},_deleteToast:function(n,e){"undefined"!==Cn(n)&&("error"==n?this.$.toast.show("That submission on longer exists!"):this.$.toast.show("Submission deleted successfully!"),this.set("queryParams.deletetoast",void 0),this.notifyPath("queryParams.deletetoast"))},_makeProjectEditLink:function(n){var e=v.dom(n).localTarget.id.split("-");window.location.href=this.basePath+"../node/"+e[1]+"/edit?destination=apps/lrnapp-studio-kanban"},_makeAssignmentEditLink:function(n){var e=v.dom(n).localTarget.id.split("-");window.location.href=this.basePath+"../node/"+e[2]+"/edit?destination=apps/lrnapp-studio-kanban"},_deleteProjectDialog:function(n){var e=v.dom(n).localTarget.id.split("-");this.projectToDelete=e[1],this._deleteTitle="Delete project",this._deleteText="Are you sure you want to delete this project and all related assignments!?",this._deleteType="project",this.$.delete.open()},_handleDelete:function(){"project"==this._deleteType?(this.$.backend.method="DELETE",this.$.backend.body=this.projectToDelete,this.$.backend.url=this.endPoint+"/api/projects/"+this.projectToDelete+"?token="+this.csrfToken,this.$.backend.generateRequest()):"assignment"==this._deleteType&&(this.$.backend.method="DELETE",this.$.backend.body=this.assignmentToDelete,this.$.backend.url=this.endPoint+"/api/assignments/"+this.assignmentToDelete+"?token="+this.csrfToken,this.$.backend.generateRequest())},_deleteAssignmentDialog:function(n){var e=v.dom(n).localTarget.id.split("-");this.assignmentToDelete=e[2],this._deleteTitle="Delete assignment",this._deleteText="Are you sure you want to delete this assignment?",this._deleteType="assignment",this.$.delete.open()},displayNewBadge:function(n){return 0==n},statusToggle:function(n){var e=this.$.backend,t=this.activeAssignment.split("-"),i=this.projectResponse.data.projects["project-"+t[1]].relationships.assignments["assignment-"+t[2]].meta.relatedSubmissions.complete;this.shadowRoot.querySelector("#"+this.activeAssignment+"-toggle").disabled||(this.$.loading.hidden=!1,e.params={submissionid:i.submission.id,status:this.shadowRoot.querySelector("#"+this.activeAssignment+"-toggle").checked},e.generateRequest())},assignmentFocusIn:function(n){var e=v.dom(n).localTarget;null!=this.activeAssignment&&this.activeAssignment!=e.id&&(this.shadowRoot.querySelector("#"+this.activeAssignment).nextElementSibling.classList.remove("show"),this.shadowRoot.querySelector("#"+this.activeAssignment).classList.remove("active")),this.activeAssignment=e.id,this._setToggle(!1),e.nextElementSibling.classList.add("show"),e.classList.add("active")},_handleProjectResponse:function(n){this.$.loading.hidden=!0,this._setToggle(!0)},buildSubmissionPath:function(n){return n+"lrnapp-studio-submission"},_handleUpdateResponse:function(n){200==this.backendResponse.status?(this.$.toast.text="Updated successfully",this.$.toast.toggle(),this.$.projectbackend.generateRequest()):this.$.loading.hidden=!0},_setToggle:function(n){if(null!=this.activeAssignment){var e=this.activeAssignment.split("-"),t=this.projectResponse.data.projects["project-"+e[1]].relationships.assignments["assignment-"+e[2]].meta.relatedSubmissions.complete;0==t.status&&0==t.submission.length?(n||(this.shadowRoot.querySelector("#"+this.activeAssignment+"-toggle").disabled=!0,this.shadowRoot.querySelector("#"+this.activeAssignment+"-toggle").checked=!1),this.shadowRoot.querySelector("#"+this.activeAssignment+"-toggle").title="Submission not started",this.shadowRoot.querySelector("#"+this.activeAssignment+"-toggle-text").textContent="Submission not started"):0==t.status?(n||(this.shadowRoot.querySelector("#"+this.activeAssignment+"-toggle").disabled=!1,this.shadowRoot.querySelector("#"+this.activeAssignment+"-toggle").checked=!1),this.shadowRoot.querySelector("#"+this.activeAssignment+"-toggle").title="Submission started",this.shadowRoot.querySelector("#"+this.activeAssignment+"-toggle-text").textContent="Submission in progress"):(n||(this.shadowRoot.querySelector("#"+this.activeAssignment+"-toggle").disabled=!1,this.shadowRoot.querySelector("#"+this.activeAssignment+"-toggle").checked=!0),this.shadowRoot.querySelector("#"+this.activeAssignment+"-toggle").title="Submission ready",this.shadowRoot.querySelector("#"+this.activeAssignment+"-toggle-text").textContent="Submission ready")}},_handleProjectCreated:function(n){this.$.toast.text="Project added",this.$.toast.toggle(),this.$.projectbackend.generateRequest()},_handleAssignmentCreated:function(n){this.$.toast.text="Assignment added",this.$.toast.toggle(),this.$.projectbackend.generateRequest()},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(ge()),is:"lrnapp-studio-root",properties:{sourcePath:{type:String,notify:!0,reflectToAttribute:!0},elmslnSection:{type:String,notify:!0,reflectToAttribute:!0},elmslnCourse:{type:String,notify:!0,reflectToAttribute:!0},csrfToken:{type:String,notify:!0,reflectToAttribute:!0},basePath:{type:String,notify:!0},_endPoint:function(n){return this.basePath+n},_sourcePath:function(n){return this.basePath+n+"?token="+this.csrfToken},listeners:{"route-change":"_routeChange"},observers:["_routeChanged(route, basePath)","_deleteToast(queryParams.deletetoast)"],_routeChanged:function(n,e){if("string"==typeof n.path){if("string"==typeof e&&n.path.startsWith(e))return;window.location.reload()}},_routeChange:function(n){var e=n.detail;"undefined"!==Cn(e.queryParams.assignment)&&(this.set("queryParams.assignment",e.queryParams.assignment),this.notifyPath("queryParams.assignment")),"undefined"!==Cn(e.queryParams.project)&&(this.set("queryParams.project",e.queryParams.project),this.notifyPath("queryParams.project")),"undefined"!==Cn(e.queryParams.author)&&(this.set("queryParams.author",e.queryParams.author),this.notifyPath("queryParams.author")),"undefined"!==Cn(e.data.page)&&(this.set("data.page",e.data.page),this.notifyPath("data.path"))},_deleteToast:function(n,e){"undefined"!==Cn(n)&&("error"==n?this.$.toast.show("That submission on longer exists!"):this.$.toast.show("Submission deleted successfully!"),this.set("queryParams.deletetoast",void 0),this.notifyPath("queryParams.deletetoast"))},_dashboardClicked:function(n){this.set("route.path",this.basePath+"/lrnapp-studio-dashboard"),this.notifyPath("route.path")},_kanbanClicked:function(n){this.set("route.path",this.basePath+"/lrnapp-studio-kanban"),this.notifyPath("route.path")},_openstudioClicked:function(n){this.set("route.path",this.basePath+"/lrnapp-open-studio"),this.notifyPath("route.path")},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}}),n.Polymer({_template:n.html(he()),is:"lrnapp-studio-submission-display",properties:{submission:{type:Object,notify:!0}},date:function(n){if(n){var e=n.split("-"),t=n.split("T"),i=e[2].split("T");return t=t[1].split("-"),e[1]+"/"+i[0]+" - "+t[0]}},_toArray:function(n){return"object"===Cn(n)&&null!==n?Object.keys(n).map(function(e){return n[e]}):[]},_isGif:function(n){return-1!=n.indexOf(".gif")}}),n.Polymer({_template:n.html(be()),is:"lrnapp-studio-submission-media-editoverlay",properties:{embedcode:{type:String}},_embedClicked:function(n){this.shadowRoot.querySelector("#dialog").open()},_deleteClicked:function(n){this.fire("delete")}}),n.Polymer({_template:n.html(ve()),is:"lrnapp-studio-submission-edit-add-asset",properties:{icon:{type:String,value:"add"},display:{type:String,value:"box",reflectToAttribute:!0}}}),n.Polymer({_template:n.html(ye()),is:"lrnapp-studio-submission-edit-image",properties:{image:{type:Object,notify:!0},thumbnail:{type:String,notify:!0,computed:"_getThumbnail(image)"},embedcode:{type:String,computed:"_computeEmbedCode(image)"}},_getThumbnail:function(n){return n.url},_computeEmbedCode:function(n){return"![Alternative Text Here]("+n.url+")"},_delete:function(n){this.fire("deleted")}}),n.Polymer({_template:n.html(fe()),is:"lrnapp-studio-submission-edit-images",behaviors:[SecureRequest.xhr],properties:{images:{type:Array,notify:!0,value:[]},selectedPage:{type:String,value:0},uploadUrl:{type:String,value:null}},_addImage:function(n){this.$.dialog.open()},_selectPage:function(n){var e=dom(n).localTarget.getAttribute("data-page");this.set("selectedPage",e)},_handleImageUploadSuccess:function(n){this.set("selectedPage",0);var e=[],t=n.detail.xhr.response;if((t=JSON.parse(t)).data.file){var i=t.data.file,a=!1;this.images&&(e=this.images.map(function(n){return n.fid===i.fid?(a=!0,i):n})),a||e.push(i),this.set("images",[]),this.set("images",e),this.$.dialog.close()}},_deleteImage:function(n){var e=dom(n).localTarget.getAttribute("data-index");this.splice("images",e,1)},attached:function(){var n=this.generateUrl("/api/files");null!==n&&this.set("uploadUrl",n)}}),n.Polymer({_template:n.html(xe()),is:"lrnapp-studio-submission-edit-file",properties:{file:{type:Object},embedcode:{type:String,computed:"_computeEmbedCode(file)"}},observers:[],_computeEmbedCode:function(n){return"[Alternative Text Here]("+n.url+")"},_delete:function(n){this.fire("deleted")}}),n.Polymer({_template:n.html(we()),is:"lrnapp-studio-submission-edit-files",behaviors:[SecureRequest.xhr],properties:{files:{type:Array,notify:!0,value:null},selectedPage:{type:String,value:0},uploadUrl:{type:String,value:null,observer:"log"},fileTypes:{type:String,value:""}},observers:["_filesChanged(files)"],_filesChanged:function(n){},_addImage:function(n){this.$.dialog.open()},_selectPage:function(n){var e=dom(n).localTarget.getAttribute("data-page");this.set("selectedPage",e)},_handleImageUploadSuccess:function(n){this.set("selectedPage",0);var e=n.detail.xhr.response;if((e=JSON.parse(e)).data.file){var t=e.data.file;null===this.files&&this.set("files",[]),this.push("files",t),this.$.dialog.close()}},_deleteImage:function(n){var e=dom(n).localTarget.getAttribute("data-index");this.splice("files",Number(e),1)},_canUpload:function(){return null!==this.uploadUrl},log:function(n){},attached:function(){var n=this.generateUrl("/api/files");null!==n&&this.set("uploadUrl",n)}}),n.Polymer({_template:n.html(ke()),is:"lrnapp-studio-submission-edit-video",behaviors:[SecureRequest.xhr],properties:{videos:{type:Array,value:[],notify:!0},selectedPage:{type:String,value:"0"},newvideo:{type:String,value:""},videoGenerateSourceUrl:{type:String,value:null}},_openDialog:function(n){this.$.dialog.open()},_addImage:function(n){this.newvideo;if("IRON-AJAX"===dom(n).localTarget.tagName){var e=n.detail.response.data;"[object Array]"!=Object.prototype.toString.call(this.videos)&&(this.videos=[]),this.push("videos",{video_url:this.newvideo,video_src:e}),this.newvideo=""}else this.shadowRoot.querySelector("#videoGenerateSourceUrl").generateRequest()},_videoDelete:function(n){var e=dom(n).localTarget.getAttribute("data-index");this.splice("videos",e,1)},ready:function(){var n=this.generateUrl("/api/video/generate-source-url");this.set("videoGenerateSourceUrl",n)}}),n.Polymer({_template:n.html(_e()),is:"lrnapp-studio-submission-edit-links",properties:{links:{type:Array,value:null,notify:!0},newlink:{type:String,value:""}},_openDialog:function(){this.$.dialog.open()},_createLink:function(n){null===this.links&&this.set("links",[]),this.push("links",{url:this.newlink}),this.newlink=""},_deleteLink:function(n){var e=dom(n).localTarget.getAttribute("data-index");this.splice("links",e,1)}}),n.Polymer({_template:n.html(je()),is:"lrnapp-studio-submission-edit-textarea",properties:{content:{type:String,notify:!0}}}),n.Polymer({_template:n.html(Pe()),is:"lrnapp-studio-submission-edit",properties:(Kn={submission:{type:Object,notify:!0},uploadFilesUrl:{type:String},newlink:{type:String},newvideo:{type:String},videoGenerateSourceUrl:{type:String}},Qn="submission",Zn={type:Object,notify:!0},Qn in Kn?Object.defineProperty(Kn,Qn,{value:Zn,enumerable:!0,configurable:!0,writable:!0}):Kn[Qn]=Zn,Kn),observers:["_bodyChanged(title)"],_publishClicked:function(n){this.set("submission.attributes.state","submission_ready"),this.notifyPath("submission.attributes.state"),this.fire("submissionPublishClicked")},_saveDraftClicked:function(n){this.set("submission.attributes.state","submission_in_progress"),this.notifyPath("submission.attributes.state"),this.fire("submissionSaveDraftClicked")},_deleteClicked:function(n){this.fire("submissionDeleteClicked")},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(Se()),is:"lrnapp-studio-block",properties:{title:{type:String,value:null},icons:{type:String,value:null}}}),n.Polymer({_template:n.html(Ce()),is:"lrnapp-studio-submission-critique-panel",properties:{submission:{type:Object,notify:!0},edit:{type:Boolean,value:!1,reflectToAttribute:!0}},_publishClicked:function(n){this.set("submission.attributes.state","submission_ready"),this.notifyPath("submission.attributes.state"),this.fire("submissionPublishClicked")},_saveDraftClicked:function(n){this.set("submission.attributes.state","submission_in_progress"),this.notifyPath("submission.attributes.state"),this.fire("submissionSaveDraftClicked")},_deleteClicked:function(n){this.fire("submissionDeleteClicked")}}),n.Polymer({_template:n.html(qe()),is:"lrnapp-studio-submission-critique",properties:{submission:{type:Object,notify:!0},edit:{type:Boolean,value:!1,reflectToAttribute:!0}},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html($e()),is:"lrnapp-studio-submission-object",properties:{submission:{type:Object,value:null,notify:!0},edit:{type:Boolean,value:!1},selectedPage:{type:Number,value:0}},observers:["_selectedPageChanged(edit, submission.meta.submissionType)"],_selectedPageChanged:function(n,e){var t=0;if(n)switch(e){case"default":t=1;break;case"critique":t=2}else switch(e){case"default":t=0;break;case"critique":t=2}this.set("selectedPage",t)}}),n.Polymer({_template:n.html(Te()),is:"lrnapp-studio-submission-comment",properties:{comment:{type:Object}},attached:function(){var n=this;this.$.body.addEventListener("click",function(e){n.$.body.classList.toggle("nowrap")})},detached:function(){var n=this;this.$.body.removeEventListener("click",function(e){n.$.body.classList.toggle("nowrap")})}}),n.Polymer({_template:n.html(Ae()),is:"lrnapp-studio-submission-comments",properties:{submission:{type:Object}},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(ze()),is:"lrnapp-studio-submission-page",properties:{id:{type:String},hideMenuBar:{type:Boolean,value:!1},endPoint:{type:String},basePath:{type:String},csrfToken:{type:String},reqUrl:{type:String},reqParams:{type:Object},submission:{type:Object},commentsUrl:{type:String,computed:"_computeCommentsUrl(id, endPoint, csrfToken)"},createStubUrl:{type:String,computed:"_computeCommentsStubUrl(id, endPoint, csrfToken)"},commentOpsBase:{type:String,computed:"_computeCommentsOpsUrl(id, endPoint, csrfToken)"},editPage:{type:Boolean,reflectToAttribute:!0},saving:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},showComments:{type:Boolean,computed:"_computeShowComments(submission)"}},observers:["_urlVarsChanged(id, endPoint)","_paramsChanged(csrfToken)","_bodyChanged(title)"],listeners:{submissionDeleteClicked:"_submissionDeleteClicked",submissionPublishClicked:"_submissionPublishClicked",submissionSaveDraftClicked:"_submissionSaveDraftClicked"},_backToStudio:function(n){window.location.href=this.basePath+"lrnapp-open-studio"},_backToKanban:function(n){window.location.href=this.basePath+"lrnapp-studio-kanban"},_setEditRoute:function(n){this.set("route.path","edit"),this.notifyPath("route.path")},_resetRoute:function(n){this.set("route.path",""),this.notifyPath("route.path")},displayNewBadge:function(n){return 0==n},_computeCommentsUrl:function(n,e,t){return e+"/api/submissions/"+n+"/comments?token="+t},_computeCommentsOpsUrl:function(n,e,t){return e+"/api/submissions/"+n+"/comments"},_computeCommentsStubUrl:function(n,e,t){return e+"/api/submissions/"+n+"/comments/create-stub?token="+t},_urlVarsChanged:function(n,e){this.reqUrl=e+"/api/submissions/"+n},_paramsChanged:function(n){var e=this.reqParams||{};e.token=n,this.reqParams=e},_handleResponse:function(n){n.detail.response.data&&(this.set("submission",[]),this.set("submission",n.detail.response.data),Sn.microTask.run(function(){window.dispatchEvent(new Event("resize"))}))},_isReply:function(n){this.thread=submission.relationships.comments.data.attributes.thread},_submissionSaveDraftClicked:function(n){this.saving=!0,this.shadowRoot.querySelector("#ajaxUpdateRequest").generateRequest()},_submissionPublishClicked:function(n){this.shadowRoot.querySelector("#publishdialog").open()},_submissionPublishConfirmed:function(n){this.saving=!0,this.shadowRoot.querySelector("#ajaxUpdateRequest").generateRequest()},_submissionDeleteClicked:function(n){this.shadowRoot.querySelector("#deletedialog").open()},_submissionDeleteConfirmed:function(n){this.saving=!0,this.$.ajaxDeleteRequest.generateRequest()},_handleUpdateResponse:function(n){var e=n.detail.response.status,t=n.detail.response.data;this.saving=!1,200===e&&(this.set("submission",{}),this.set("submission",t),this.set("route.path",""),"submission_ready"===t.attributes.state&&this.$.toast.show("Published!"),window.location.href=this.endPoint+"/submissions/"+t.id)},_handleDeleteResponse:function(n){var e=n.detail.response.status;this.saving=!1,200===e&&(window.location.href=this.basePath+"lrnapp-studio-kanban?deletetoast")},_computeShowComments:function(n){try{if("critique"!==n.meta.submissionType&&"submission_ready"==n.attributes.state)return!0}catch(n){}return!1},_toArray:function(n){return"object"===Cn(n)&&null!==n?Object.keys(n).map(function(e){return n[e]}):[]}}),n.Polymer({_template:n.html(De()),is:"lrnapp-studio-submission-button",properties:{auto:{type:Boolean,reflectToAttribute:!0,value:!1,notify:!0},assignmentId:{type:String,reflectToAttribute:!0},submissionId:{type:String,value:!1,reflectToAttribute:!0},endPoint:String,csrfToken:String,displayErrors:{type:Boolean,value:!0}},observers:["_requestUrlChanged(endPoint, csrfToken)"],_requestUrlChanged:function(n,e){this.createStubUrl=n+"/api/submissions/create-stub?token="+e},_createSubmission:function(){this.shadowRoot.querySelector("#ajaxCreateStub").generateRequest()},_ajaxCreateStubHandler:function(n){var e=n.detail.response.status,t=n.detail.response;if(201===e){var i=n.detail.response.data.id;i&&(this.submissionId=i,this.auto&&(window.location.href=this._submissionUrl(i)+"/edit"))}if(void 0!==t.errors){document.createElement("ul");var a="";t.errors.forEach(function(n){a=a+" "+n}),this.shadowRoot.querySelector("#toast").show(a)}},_submissionUrl:function(n){return this.endPoint+"/submissions/"+n}}),n.Polymer({_template:n.html(Re()),is:"lrnapp-studio-submission",behaviors:[SecureRequest.xhr],properties:{activePage:{type:String},basePath:{type:String},endPoint:{type:String},csrfToken:{type:String}},observers:["_routeChanged(route, endPoint)","_updateCookies(endPoint, csrfToken)"],listeners:{submissionDeleted:"_handleSubmissionDeletion",displaymessage:"_handleDisplayMessage"},_handleRouteChange:function(n){var e=n.detail.path;e&&(this.set("route.path",e),this.notifyPath("route.path"))},_routeChanged:function(n,e){if("string"==typeof n.path){if("string"==typeof e&&n.path.startsWith(e))return;window.location.reload()}},_handleSubmissionDeletion:function(n){n.detail.submission&&(this.set("route.path",this.endPoint),this.notifyPath("route.path"),this.$.toast.show("Submission has been deleted."))},_updateCookies:function(n,e){n&&e&&this.setCookies(n,e)},_handleDisplayMessage:function(n,e){void 0!==n.detail.messsage&&this.$.toast.show(n.detail.message)},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})}}),n.Polymer({_template:n.html(Oe()),is:"mooc-content",observers:["_routeChanged(data, route, endPoint)"],properties:{sourcePath:{type:String},fullOutlinePath:{type:String},route:{type:Object,notify:!0},currentTitle:{type:String},requestParams:{type:Object,notify:!0,value:{node:null}},pageData:{type:Object,value:{}},outlineData:{type:Object,value:{}},resetScroll:{type:Boolean,value:!1},responseData:{type:Object,value:{}},basePath:{type:String},elmslnCourse:{type:String},outlineTitle:{type:String},nid:{type:Number},_loading:{type:Boolean,observer:"_contentLoading",value:!1},loading:{type:Boolean,reflectToAttribute:!0,value:!1},aliases:{type:Array},activeNodeItem:{type:Object,value:null}},_modalTap:function(n){var e=v.dom(n).localTarget;"LRNSYS-BUTTON"===e.tagName&&(null!=this.activeNodeItem&&this.activeNodeItem.classList.remove("book-menu-item-active"),this.activeNodeItem=e,this.activeNodeItem.classList.add("book-menu-item-active"),this.$.outlinepopover.toggleDialog())},_contentLoading:function(n,e){var t=this;"undefined"===(void 0===n?"undefined":Cn(n))||n?this.loading=!0:setTimeout(function(){t.loading=!1,t._resetScroll("anchor"),t.$["main-content"].focus()},500)},handleResponse:function(n){if("undefined"!==Cn(this.pageData.data)){var e=this.pageData.data;"undefined"!==Cn(e.ops.redirect)?(this.set("route.path",e.ops.redirect),this._routeChanged(this.data,this.route,this.endPoint)):(this.outlineTitle=e.bookOutline.subject,this.$.content.innerHTML=e.content,this.$.navigation.innerHTML=e.topNavigation,this.$.outline.innerHTML=e.bookOutline.content,this.$.options.innerHTML=e.options,this.__injectStyle(e.styles),window.Drupal.attachBehaviors(document,window.Drupal.settings),"undefined"===Cn(this.outlineData.data)&&this.$.fulloutlinepath.generateRequest(),Sn.microTask.run(function(){window.dispatchEvent(new Event("resize"))}))}},handleOutlineResponse:function(n){var e=this.outlineData.data;"undefined"!==(void 0===e?"undefined":Cn(e))&&(this.$.outlinemodal.innerHTML=e.outline,this.aliases=e.aliases)},_routeChanged:function(n,e,t){if("string"==typeof e.path){var i=e.path.replace("/"+this.elmslnCourse+"/","");if(e.path.startsWith("/"+this.elmslnCourse+"/node/")){var a=e.path.split("/");if(!isNaN(parseFloat(a[a.length-1]))&&isFinite(a[a.length-1]))return this.nid=a[a.length-1],this.requestParams.node=this.nid,this.$.pageajax.generateRequest(),void(this.$.outlinepopover.$.modal.opened&&(this.$.outlinepopover.$.modal.opened=!1));"edit"==a[a.length-1]&&window.location.reload()}else{if("undefined"!==Cn(this.aliases[i]))return this.nid=this.aliases[i].replace("node/",""),this.requestParams.node=this.nid,this.$.pageajax.generateRequest(),void(this.$.outlinepopover.$.modal.opened&&(this.$.outlinepopover.$.modal.opened=!1));if(""==i)return this.requestParams.node=this.nid,this.set("route.path","/"+this.elmslnCourse+"/node/"+this.nid),void this.$.pageajax.generateRequest()}}""!=this.elmslnCourse&&window.location.reload()},_resetScroll:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anchor";this.resetScroll=!0,this.$[n].scrollIntoView({block:"nearest",behavior:"smooth"})},_toArray:function(n){return Object.keys(n).map(function(e){return n[e]})},__injectStyle:function(n){null!=this.shadowRoot.querySelector("#hackycsspotterhates")&&(v.dom(this.$.hackycontainer).innerHTML="");var e=document.createElement("style","custom-style");e.id="hackycsspotterhates",e.textContent=n,v.dom(this.$.hackycontainer).appendChild(e)}})});
//# sourceMappingURL=elmsln-apps.umd.js.map
