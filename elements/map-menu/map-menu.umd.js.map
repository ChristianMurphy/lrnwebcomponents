{"version":3,"file":"map-menu.umd.js","sources":["lib/map-menu-item.js","lib/map-menu-header.js","lib/map-menu-submenu.js","lib/map-menu-container.js","lib/map-menu-builder.js","map-menu.umd.js"],"sourcesContent":["import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@polymer/iron-icons/iron-icons.js\";\nimport \"@polymer/iron-icon/iron-icon.js\";\nimport \"@polymer/paper-button/paper-button.js\";\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        --map-menu-item-height: 16px;\n      }\n\n      :host([active]) {\n        background: var(--map-menu-active-color);\n      }\n\n      iron-icon {\n        display: inline-block;\n        --iron-icon-height: var(--map-menu-item-height);\n      }\n\n      #title {\n        text-transform: none;\n      }\n\n      a,\n      a:hover,\n      a:visited,\n      a:focus {\n        color: inherit;\n      }\n    </style>\n    <a href$=\"[[url]]\">\n      <paper-button id=\"wrapper\" role=\"link\" noink>\n        <template is=\"dom-if\" if=\"[[__hasIcon(icon)]]\">\n          <iron-icon icon=\"[[icon]]\"></iron-icon>\n        </template>\n        <span id=\"title\">[[title]]</span>\n      </paper-button>\n    </a>\n  `,\n\n  is: \"map-menu-item\",\n\n  properties: {\n    icon: {\n      type: String,\n      value: \"\"\n    },\n    title: {\n      type: String,\n      value: \"\"\n    },\n    url: {\n      type: String,\n      value: \"\"\n    },\n    icon: {\n      type: String\n    },\n    id: {\n      type: String,\n      reflectToAttribute: true\n    },\n    active: {\n      type: Boolean,\n      value: false,\n      observer: \"_activeChanged\"\n    },\n    selected: {\n      type: String\n    }\n  },\n\n  observers: [\"__selectedChanged(selected, id)\"],\n\n  ready: function() {},\n\n  __selectedChanged: function(selected, id) {\n    if (selected === id) {\n      this.fire(\"active-item\", this);\n    }\n  },\n\n  _click: function() {\n    this.fire(\"link-clicked\", { id: this.id });\n  },\n\n  attached: function() {\n    this.fire(\"child-attached\", { id: this.id });\n  },\n\n  __hasIcon: function(icon) {\n    return icon || icon === \"\" ? true : false;\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport \"@lrnwebcomponents/lrndesign-avatar/lrndesign-avatar.js\";\nimport \"@polymer/iron-collapse/iron-collapse.js\";\nimport \"@polymer/iron-icon/iron-icon.js\";\nimport \"@polymer/iron-behaviors/iron-button-state.js\";\nimport \"@polymer/paper-button/paper-button.js\";\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host([active]) {\n        background: var(--map-menu-active-color);\n      }\n\n      #container {\n        display: flex;\n        align-items: center;\n      }\n\n      #avatarLabel {\n        margin-right: 10px;\n      }\n\n      #center {\n        flex: 1 1 auto;\n      }\n\n      a,\n      a:hover,\n      a:visited,\n      a:focus {\n        color: inherit;\n      }\n\n      lrndesign-avatar {\n        display: inline-block;\n        background: #fff;\n        border-radius: 50%;\n        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);\n        padding: 2px;\n        position: relative;\n        margin-top: -2px;\n        transform: translateY(2px);\n      }\n\n      #link {\n        display: flex;\n        justify-content: flex-start;\n        align-items: flex-start;\n        flex-direction: column;\n      }\n\n      #title {\n        font-size: 16px;\n      }\n\n      #right iron-icon {\n        display: inline-block;\n        color: gray;\n      }\n\n      /* @todo this is a hack */\n      #icon iron-icon {\n        display: inline-block;\n        --iron-icon-height: 16px;\n        transform: translateX(10px);\n      }\n\n      paper-button {\n        text-transform: none;\n      }\n    </style>\n    <div id=\"container\">\n      <template is=\"dom-if\" if=\"[[avatarLabel]]\">\n        <div id=\"avatarLabel\">\n          <lrndesign-avatar label=\"[[avatarLabel]]\"></lrndesign-avatar>\n        </div>\n      </template>\n      <template is=\"dom-if\" if=\"[[icon]]\">\n        <div id=\"icon\"><iron-icon icon=\"[[icon]]\"></iron-icon></div>\n      </template>\n      <div id=\"center\">\n        <a href$=\"[[url]]\">\n          <paper-button id=\"title\" noink=\"\" role\\$=\"[[__titleRole()]]\">\n            <div id=\"label\">[[label]]</div>\n            <div id=\"title\">[[title]]</div>\n          </paper-button>\n        </a>\n      </div>\n      <div id=\"right\">\n        <template is=\"dom-if\" if=\"[[!opened]]\">\n          <iron-icon\n            id=\"toggle\"\n            icon=\"arrow-drop-down\"\n            aria-role=\"button\"\n            aria-label=\"expand menu\"\n            tabindex=\"0\"\n          ></iron-icon>\n        </template>\n        <template is=\"dom-if\" if=\"[[opened]]\">\n          <iron-icon\n            id=\"toggle\"\n            icon=\"arrow-drop-up\"\n            aria-role=\"button\"\n            aria-label=\"collapse menu\"\n            tabindex=\"0\"\n          ></iron-icon>\n        </template>\n      </div>\n    </div>\n  `,\n\n  is: \"map-menu-header\",\n\n  properties: {\n    title: {\n      type: String\n    },\n    label: {\n      type: String\n    },\n    avatarLabel: {\n      type: String,\n      value: \"\"\n    },\n    opened: {\n      type: Boolean\n    },\n    url: {\n      type: String,\n      value: \"\"\n    },\n    id: {\n      type: String,\n      reflectToAttribute: true\n    },\n    icon: {\n      type: String\n    },\n    active: {\n      type: Boolean,\n      value: false,\n      observer: \"_activeChanged\"\n    },\n    selected: {\n      type: String\n    }\n  },\n\n  listeners: {\n    tap: \"__tap\",\n    keypress: \"__keypress\"\n  },\n\n  observers: [\"__selectedChanged(selected, id)\"],\n\n  __selectedChanged: function(selected, id) {\n    if (selected === id) {\n      this.fire(\"active-item\", this);\n    }\n  },\n\n  attached: function() {\n    this.fire(\"child-attached\", { id: this.id });\n  },\n\n  __tap: function(e) {\n    // send to toggle event\n    this.__toggleEventHandler(e);\n  },\n\n  __keypress: function(e) {\n    // send to toggle event\n    if (e.code === \"Enter\") {\n      this.__toggleEventHandler(e);\n    }\n  },\n\n  __toggleEventHandler: function(e) {\n    let rootTarget = dom(e).rootTarget;\n    if (typeof rootTarget !== \"undefined\") {\n      if (typeof rootTarget.id !== \"undefined\" && rootTarget.id === \"toggle\") {\n        this.fire(\"toggle-header\");\n      }\n    }\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"./map-menu-item.js\";\nimport \"./map-menu-header.js\";\nimport \"@polymer/iron-collapse/iron-collapse.js\";\nimport \"@polymer/paper-button/paper-button.js\";\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host([collapsable]) > map-menu-header {\n        cursor: pointer;\n        display: block;\n      }\n\n      #container {\n        margin-left: 16px;\n      }\n\n      #container ::slotted(map-menu-item) {\n        margin-top: 0.4em;\n      }\n    </style>\n    <map-menu-header\n      avatar-label=\"[[avatarLabel]]\"\n      id=\"[[id]]\"\n      title=\"[[title]]\"\n      label=\"[[label]]\"\n      opened=\"[[opened]]\"\n      url=\"[[url]]\"\n      icon=\"[[icon]]\"\n      selected=\"[[selected]]\"\n    ></map-menu-header>\n    <iron-collapse id=\"container\"> <slot></slot> </iron-collapse>\n  `,\n\n  is: \"map-menu-submenu\",\n\n  properties: {\n    id: {\n      type: String\n    },\n    title: {\n      type: String\n    },\n    avatarLabel: {\n      type: String\n    },\n    label: {\n      type: String\n    },\n    icon: {\n      type: String\n    },\n    opened: {\n      type: Boolean,\n      value: false\n    },\n    collapsable: {\n      type: Boolean,\n      value: true\n    },\n    expandChildren: {\n      type: Boolean,\n      value: false\n    },\n    selected: {\n      type: String\n    }\n  },\n\n  observers: [\"_openChanged(opened)\"],\n\n  listeners: {\n    \"child-deactivated\": \"__childDeactivated\",\n    \"child-activated\": \"__childActivated\",\n    \"active-item\": \"__activeChanged\",\n    \"toggle-header\": \"__toggleHeader\",\n    \"link-clicked\": \"_headerClickHandler\",\n    \"map-menu-active-item-changed\": \"_mapMenuActiveItemChangedHandler\",\n    \"map-menu-item-hidden-check\": \"_mapMenuItemHiddenCheckHandler\"\n  },\n\n  _openChanged: function(opened) {\n    var target = this.$.container;\n    if (opened) target.show();\n    if (!opened) target.hide();\n  },\n\n  _headerClickHandler: function(e) {\n    if (!this.opened) {\n      this.opened = !this.opened;\n    }\n  },\n\n  _mapMenuItemHiddenCheckHandler: function(e) {\n    const action = e.detail.action;\n    const target = e.detail.target;\n    const hiddenChild = e.detail.hiddenChild;\n    let detail = Object.assign({}, e.detail);\n\n    if (hiddenChild !== true && this.opened === false) {\n      detail = Object.assign({}, detail, { hiddenChild: true });\n    } else {\n      detail = Object.assign({}, detail, { hiddenChild: false });\n    }\n\n    this.fire(\"map-meu-item-hidden-check\", detail);\n  },\n\n  __toggleHeader: function(e) {\n    // catch the event and end propagation\n    e.stopPropagation();\n    this.opened = !this.opened;\n    this.fire(\"toggle-updated\", { opened: this.opened });\n  },\n\n  __activeChanged: function(e) {\n    this.opened = true;\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"./map-menu-item.js\";\nimport \"./map-menu-submenu.js\";\n/**\n`map-menu`\nA LRN element\n\n* @demo demo/index.html\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n      }\n      #container {\n        padding: 16px 32px;\n      }\n      :host > ::slotted(map-menu-submenu + map-menu-submenu) {\n        margin-top: 16px;\n      }\n    </style>\n    <slot></slot>\n  `,\n\n  is: \"map-menu-container\",\n\n  properties: {}\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"./map-menu-submenu.js\";\nimport \"./map-menu-item.js\";\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n\n    <template id=\"domRepeat\" is=\"dom-repeat\" items=\"[[items]]\" as=\"item\">\n      <template is=\"dom-if\" if=\"[[__hasChildren(item)]]\">\n        <map-menu-submenu\n          title=\"[[item.title]]\"\n          id=\"[[item.id]]\"\n          url=\"[[item.location]]\"\n          icon=\"[[item.metadata.icon]]\"\n          open=\"[[item.metadata.active]]\"\n          avatar-label=\"[[item.metadata.avatarLabel]]\"\n          selected=\"[[selected]]\"\n        >\n          <map-menu-builder\n            items=\"[[item.children]]\"\n            selected=\"[[selected]]\"\n          ></map-menu-builder>\n        </map-menu-submenu>\n      </template>\n      <template is=\"dom-if\" if=\"[[!__hasChildren(item)]]\">\n        <map-menu-item\n          title=\"[[item.title]]\"\n          id=\"[[item.id]]\"\n          url=\"[[item.location]]\"\n          icon=\"[[item.metadata.icon]]\"\n          active-path=\"[[activePath]]\"\n          selected=\"[[selected]]\"\n        ></map-menu-item>\n      </template>\n    </template>\n  `,\n\n  is: \"map-menu-builder\",\n\n  properties: {\n    items: {\n      type: Array,\n      value: []\n    },\n    selected: {\n      type: String\n    }\n  },\n\n  /**\n   * Determine if a menu item has children\n   */\n  __hasChildren: function(item) {\n    return item.children.length > 0;\n  },\n\n  /**\n   * Determine if children are active or self\n   * is active\n   */\n  _hasActiveChildren: function() {}\n});\n","/**\n * Copyright 2018 The Pennsylvania State University\n * @license Apache-2.0, see License.md for full text.\n */\nimport { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@lrnwebcomponents/smooth-scroll/smooth-scroll.js\";\nimport \"./lib/map-menu-container.js\";\nimport \"./lib/map-menu-builder.js\";\n\n/**\n * `map-menu`\n * `A series of elements that generate a hierarchical menu`\n *\n * @demo demo/index.html\n */\nlet MapMenu = Polymer({\n  _template: html`\n    <style>\n      :host {\n        --map-menu-active-color: rgba(0, 0, 0, 0.1);\n        display: block;\n        overflow-y: scroll;\n        position: relative;\n        height: 100%;\n      }\n\n      #activeIndicator {\n        background: var(--map-menu-active-color);\n        transition: all 0.3s ease-in-out;\n        position: absolute;\n      }\n\n      map-menu-container {\n        padding: 32px;\n        @apply --map-menu-container;\n      }\n\n      /* turn default active color if indicator is on */\n      :host([active-indicator]) map-menu-builder {\n        --map-menu-active-color: transparent;\n      }\n    </style>\n    <div id=\"itemslist\">\n      <map-menu-container>\n        <div id=\"activeIndicator\"></div>\n        <map-menu-builder\n          id=\"builder\"\n          items=\"[[items]]\"\n          selected=\"[[selected]]\"\n        ></map-menu-builder>\n      </map-menu-container>\n    </div>\n    <smooth-scroll id=\"smoothScroll\"></smooth-scroll>\n  `,\n\n  is: \"map-menu\",\n\n  properties: {\n    title: {\n      type: String,\n      value: \"Content Outline\"\n    },\n    data: {\n      type: Array,\n      value: null\n    },\n    /**\n     * Support for JSON Outline Schema manifest format\n     */\n    manifest: {\n      type: Object,\n      notify: true,\n      observer: \"_manifestChanged\"\n    },\n    items: {\n      type: Array,\n      value: null,\n      notify: true\n    },\n    /**\n     * Current selected item.\n     */\n    selected: {\n      type: String,\n      notify: true\n    },\n    /**\n     * Auto scroll an active element if not in view\n     */\n    autoScroll: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * Show active indicator animation\n     */\n    activeIndicator: {\n      type: Boolean,\n      value: false\n    }\n  },\n\n  observers: [\"_dataChanged(data)\"],\n\n  listeners: {\n    \"link-clicked\": \"__linkClickedHandler\",\n    \"toggle-updated\": \"__toggleUpdated\",\n    \"active-item\": \"__activeItemHandler\",\n    \"map-meu-item-hidden-check\": \"_mapMeuItemHiddenCheckHandler\"\n  },\n\n  ready: function() {},\n\n  __activeItemHandler: function(e) {\n    const target = e.detail;\n    this.refreshActiveChildren(target);\n  },\n\n  _mapMeuItemHiddenCheckHandler: function(e) {\n    const action = e.detail.action;\n    const target = e.detail.target;\n    const hiddenChild = e.detail.hiddenChild;\n    if (action === \"closed\" && hiddenChild === true) {\n      this.__updateActiveIndicator(this._activeItem, 100, true);\n    } else {\n      this.__updateActiveIndicator(this._activeItem, 100, false);\n    }\n  },\n\n  /**\n   * Set and unset active properties on children\n   * @param {string} activeItem\n   * @param {number} timeoutTime\n   */\n  refreshActiveChildren: function(activeItem, timeoutTime = 100) {\n    const oldActiveItem = this._activeItem;\n    const newActiveItem = activeItem;\n\n    if (newActiveItem && newActiveItem !== \"\") {\n      // set the new active attribute to the item\n      newActiveItem.setAttribute(\"active\", true);\n      // move the highlight thingy\n      if (this.activeIndicator) {\n        this.__updateActiveIndicator(newActiveItem, timeoutTime);\n      }\n      // if auto scroll enabled then scroll element into view\n      if (this.autoScroll) {\n        // kick off smooth scroll\n        this.$.smoothScroll.scroll(newActiveItem, {\n          duration: 300,\n          scrollElement: this\n        });\n      }\n    }\n\n    if (oldActiveItem) {\n      oldActiveItem.removeAttribute(\"active\");\n      this.__updateActiveIndicator(newActiveItem, timeoutTime);\n    }\n\n    this._activeItem = newActiveItem;\n  },\n\n  _manifestChanged: function(newValue, oldValue) {\n    if (newValue) {\n      this.set(\"data\", newValue.items);\n    }\n  },\n\n  /**\n   * Set data property\n   */\n  setData: function(data) {\n    this.set(\"data\", []);\n    this.set(\"data\", data);\n  },\n\n  /**\n   * Convert data from a linear array\n   * to a nested array for template rendering\n   */\n  _dataChanged: function(data) {\n    const items = [];\n    if (!data) return;\n    // find parents\n    data.forEach(element => {\n      // find top level parents\n      if (!element.parent) {\n        items.push(element);\n      }\n    });\n    // Recursively find and set children\n    items.forEach((item, i) => {\n      this._setChildren(item, data);\n    });\n    // Update items array\n    this.set(\"items\", []);\n    this.set(\"items\", items);\n  },\n\n  /**\n   * Recursively search through a data to find children\n   * of a specified item.\n   * @param {object} item item of an array to search on. Passed by reference.\n   * @param {array} data linear array of the data set.\n   * @return {void}\n   */\n  _setChildren: function(item, data) {\n    // find all children\n    const children = data.filter(d => item.id === d.parent);\n    item.children = children;\n    if (item.children.length > 0) {\n      item.children.forEach(child => {\n        // recursively call itself\n        this._setChildren(child, data);\n      });\n    }\n  },\n\n  /**\n   * Determine if a menu item has children\n   */\n  __hasChildren: function(item) {\n    return item.children.length > 0;\n  },\n\n  /**\n   * asdf\n   */\n  __linkClickedHandler: function(e) {\n    this.selected = e.detail.id;\n    this.fire(\"selected\", e.detail.id);\n  },\n\n  /**\n   * When a user clicks the toggle button to collapse or\n   * expand a submenu, this event gets triggered after\n   * the animation has been triggered\n   */\n  __toggleUpdated: function(e) {\n    const action = e.detail.opened ? \"opened\" : \"closed\";\n    const target = e.path[0];\n    if (typeof this._activeItem !== \"undefined\") {\n      this._activeItem.fire(\n        \"map-menu-item-hidden-check\",\n        Object.assign(\n          {},\n          {\n            action: action,\n            target: target\n          }\n        )\n      );\n    }\n  },\n\n  /**\n   * Find out if\n   */\n  __isInViewport: function(element) {\n    const scrollParent = this.__getScrollParent(element);\n    if (!scrollParent) return false;\n\n    var elementTop = element.offsetTop;\n    var elementBottom = elementTop + element.offsetHeight;\n    var viewportTop = scrollParent.offsetTop;\n    var viewportBottom = viewportTop + scrollParent.offsetHeight;\n    return elementBottom > viewportTop && elementTop < viewportBottom;\n  },\n\n  /**\n   * Get scroll parent\n   */\n  __getScrollParent: function(node) {\n    if (node == null) {\n      return null;\n    }\n\n    if (node.scrollHeight > node.clientHeight) {\n      return node;\n    } else {\n      return this.__getScrollParent(node.parentNode);\n    }\n  },\n\n  /**\n   * Move the highlight widget over active element\n   */\n  __updateActiveIndicator: function(\n    element,\n    timeoutTime = 100,\n    hidden = false\n  ) {\n    // run it through to set time just to let stuff set up\n    setTimeout(() => {\n      const activeIndicator = this.$.activeIndicator;\n      const left = element.offsetLeft;\n      const bottom = element.offsetBottom;\n      const top = element.offsetTop;\n      const width = element.offsetWidth;\n      // if the element is hidden the set the indicator height to zero to make it disapear\n      const height = !hidden ? element.offsetHeight : 0;\n      // if the height is zero then make the timeoutTime faster\n      timeoutTime = height > 0 ? timeoutTime : 10;\n      activeIndicator.setAttribute(\n        \"style\",\n        `width:${width}px;height:${height}px;top:${top}px;left:${left}px`\n      );\n    }, timeoutTime);\n  },\n\n  /**\n   * Find out if any parents of the item are collapsed\n   */\n  __parentsHidden: function(node) {\n    // get the parent node\n    const parent = node.parentNode;\n    // bail if we have no node to work with\n    if (parent == null) return null;\n    // if we found a submenu check if it is hidden\n    if (parent.tagName === \"MAP-MENU-SUBMENU\") {\n      // if open is set to false then we have\n      // found a hidden parent\n      if (!parent.opened) return true;\n    }\n    // wrap up and exit if we came all the way back to map-menu\n    if (parent.tagName === \"MAP-MENU\") return false;\n    // if we got all the way here then we need recursively run this\n    // against the parent node\n    return this.__parentsHidden(parent);\n  }\n});\nexport { MapMenu };\n"],"names":["_template","html","is","properties","icon","type","String","value","title","url","reflectToAttribute","Boolean","observer","observers","ready","__selectedChanged","selected","id","fire","this","_click","attached","__hasIcon","label","avatarLabel","opened","active","listeners","tap","keypress","__tap","e","__toggleEventHandler","__keypress","code","rootTarget","dom","collapsable","expandChildren","_openChanged","target","$","container","show","hide","_headerClickHandler","_mapMenuItemHiddenCheckHandler","detail","action","hiddenChild","Object","assign","__toggleHeader","stopPropagation","__activeChanged","items","Array","__hasChildren","item","children","length","_hasActiveChildren","MapMenu","Polymer","data","manifest","notify","autoScroll","activeIndicator","__activeItemHandler","refreshActiveChildren","_mapMeuItemHiddenCheckHandler","__updateActiveIndicator","_activeItem","activeItem","timeoutTime","oldActiveItem","newActiveItem","setAttribute","smoothScroll","scroll","duration","scrollElement","removeAttribute","_manifestChanged","newValue","oldValue","set","setData","_dataChanged","forEach","element","parent","push","i","_this","_setChildren","filter","d","child","_this2","__linkClickedHandler","__toggleUpdated","path","__isInViewport","scrollParent","__getScrollParent","elementTop","offsetTop","elementBottom","offsetHeight","viewportTop","viewportBottom","node","scrollHeight","clientHeight","parentNode","hidden","setTimeout","_this3","left","offsetLeft","top","offsetBottom","width","offsetWidth","height","__parentsHidden","tagName"],"mappings":"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"}