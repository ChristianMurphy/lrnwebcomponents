{"version":3,"file":"a11y-collapse.umd.js","sources":["a11y-collapse.umd.js"],"sourcesContent":["import { LitElement, html, css } from \"lit-element/lit-element.js\";\nimport \"@polymer/paper-icon-button/paper-icon-button.js\";\nimport \"@polymer/iron-icons/iron-icons.js\";\nimport \"@polymer/paper-tooltip/paper-tooltip.js\";\n/**\n * `a11y-collapse`\n * an accessible expand collapse\n * \n### Styling\n\n`<a11y-collapse>` provides the following custom properties\nfor styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--a11y-collapse-margin` | margin around a11y-collapse | 15px 0\n`--a11y-collapse-border` | border around a11y-collapse | 1px solid\n`--a11y-collapse-horizontal-padding` | horizontal padding inside a11y-collapse | 16px\n`--a11y-collapse-horizontal-padding-left` | left padding inside a11y-collapse | `--a11y-collapse-horizontal-padding`\n`--a11y-collapse-horizontal-padding-right` | right padding inside a11y-collapse | `--a11y-collapse-horizontal-padding`\n`--a11y-collapse-vertical-padding` | vertical padding inside a11y-collapse | 16px\n`--a11y-collapse-horizontal-padding-top` | top padding inside a11y-collapse | `--a11y-collapse-vertical-padding`\n`--a11y-collapse-horizontal-padding-bottom` | bottom padding inside a11y-collapse | --a11y-collapse-vertical-padding\n`--a11y-collapse-border-between` | border between a11y-collapse heading and content | --a11y-collapse-border\n`--a11y-collapse-heading-font-weight` | font-weight for a11y-collapse heading | bold\n`--a11y-collapse-heading-color` | text color for a11y-collapse heading | unset\n`--a11y-collapse-heading-background-color` | background-color for a11y-collapse heading | unset\n *\n * @customElement\n * @demo ./demo/index.html demo\n * @demo ./demo/group.html collapse groups\n */\nclass A11yCollapse extends LitElement {\n  static get styles() {\n    return [\n      css`\n        :host {\n          display: block;\n          margin: var(--a11y-collapse-margin, 15px 0);\n          border: var(--a11y-collapse-border, 1px solid);\n          transition: all 0.5s;\n        }\n        :host(:not(:first-of-type)) {\n          border-top: var(\n            --a11y-collapse-border-between,\n            var(--a11y-collapse-border, 1px solid)\n          );\n        }\n        :host([disabled]) {\n          opacity: 0.5;\n        }\n        *[aria-controls=\"content\"][disabled] {\n          cursor: not-allowed;\n        }\n        #heading {\n          display: flex;\n          justify-content: stretch;\n          align-items: center;\n          padding: 0\n            var(\n              --a11y-collapse-padding-right,\n              var(--a11y-collapse-horizontal-padding, 16px)\n            )\n            0\n            var(\n              --a11y-collapse-padding-left,\n              var(--a11y-collapse-horizontal-padding, 16px)\n            );\n          font-weight: var(--a11y-collapse-heading-font-weight, bold);\n          margin: var(--a11y-collapse-margin, unset);\n          color: var(--a11y-collapse-heading-color, unset);\n          background-color: var(\n            --a11y-collapse-heading-background-color,\n            unset\n          );\n        }\n        #text {\n          flex-grow: 1;\n        }\n        #expand {\n          transition: transform 0.5s;\n          padding: (--a11y-collapse-icon-padding, unset);\n        }\n        #expand[rotated] {\n          transform: rotate(-90deg);\n        }\n        #content {\n          max-height: 0;\n          overflow: hidden;\n          padding: 0\n            var(\n              --a11y-collapse-padding-right,\n              var(--a11y-collapse-horizontal-padding, 16px)\n            )\n            0\n            var(\n              --a11y-collapse-padding-left,\n              var(--a11y-collapse-horizontal-padding, 16px)\n            );\n          border-top: 0px solid rgba(255, 255, 255, 0);\n          transition: all 0.5s ease-in-out;\n        }\n        :host #content-inner {\n          overflow: hidden;\n        }\n        :host([expanded]) #content {\n          max-height: unset;\n          overflow: hidden;\n          padding: var(\n              --a11y-collapse-padding-top,\n              var(--a11y-collapse-vertical-padding, 16px)\n            )\n            var(\n              --a11y-collapse-padding-right,\n              var(--a11y-collapse-horizontal-padding, 16px)\n            )\n            var(\n              --a11y-collapse-padding-bottom,\n              var(--a11y-collapse-vertical-padding, 16px)\n            )\n            var(\n              --a11y-collapse-padding-left,\n              var(--a11y-collapse-horizontal-padding, 16px)\n            );\n          border-top: var(--a11y-collapse-border, 1px solid);\n        }\n        :host([expanded]) #content-inner {\n          overflow: unset;\n        }\n      `\n    ];\n  }\n  render() {\n    return html`\n      ${this.accordion ? this._makeAccordionButton() : this._makeIconButton()}\n      <div\n        id=\"content\"\n        aria-hidden=\"${this.expanded ? \"false\" : \"true\"}\"\n        aria-labelledby=\"heading\"\n        aria-live=\"polite\"\n      >\n        <div id=\"content-inner\">\n          <slot name=\"content\"></slot>\n          <slot></slot>\n        </div>\n      </div>\n    `;\n  }\n\n  static get tag() {\n    return \"a11y-collapse\";\n  }\n\n  static get properties() {\n    return {\n      /**\n       * accordion-style: whole header acts as button? default is just icon.\n       */\n      accordion: {\n        type: Boolean,\n        reflect: true\n      },\n      /**\n       * is disabled?\n       */\n      disabled: {\n        type: Boolean,\n        reflect: true\n      },\n      /**\n       * icon when expanded\n       */\n      expanded: {\n        type: Boolean,\n        reflect: true\n      },\n      /**\n       * icon for the button\n       */\n      icon: {\n        type: String\n      },\n      /**\n       * icon when expanded\n       */\n      iconExpanded: {\n        type: String,\n        attribute: \"icon-expanded\"\n      },\n      /**\n       * label for the button\n       */\n      label: {\n        type: String\n      },\n      /**\n       * optional label for the button when expanded\n       */\n      labelExpanded: {\n        type: String,\n        attribute: \"label-expanded\"\n      },\n      /**\n       * tooltip for the button\n       */\n      tooltip: {\n        type: String\n      },\n      /**\n       * optional tooltip for the button when expanded\n       */\n      tooltipExpanded: {\n        type: String,\n        attribute: \"tooltip-expanded\"\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.accordion = false;\n    this.disabled = false;\n    this.expanded = false;\n    this.icon = \"expand-more\";\n    this.iconExpanded = null;\n    this.label = \"expand/collapse\";\n    this.labelExpanded = null;\n    this.tooltip = \"toggle expand/collapse\";\n    this.tooltipExpanded = null;\n    /**\n     * Fires when constructed, so that parent radio group can listen for it.\n     *\n     * @event a11y-collapse-attached\n     */\n    this.dispatchEvent(\n      new CustomEvent(\"a11y-collapse-attached\", {\n        bubbles: true,\n        cancelable: true,\n        composed: true,\n        detail: this\n      })\n    );\n  }\n  static get haxProperties() {\n    return {\n      canScale: false,\n      canPosition: true,\n      canEditSource: false,\n      gizmo: {\n        title: \"Single Expand Collapse\",\n        description: \"A single instance of an expand collapse.\",\n        icon: \"view-day\",\n        color: \"grey\",\n        groups: [\"Text\"]\n      },\n      settings: {\n        quick: [\n          {\n            property: \"accordion\",\n            title: \"Heading Button\",\n            description: \"Make entire heading clickble.\",\n            inputMethod: \"boolean\"\n          },\n          {\n            property: \"expanded\",\n            title: \"Expanded\",\n            description: \"Expand by default\",\n            inputMethod: \"boolean\"\n          }\n        ],\n        configure: [\n          {\n            slot: \"heading\",\n            title: \"Heading\",\n            description: \"The heading for the collapse.\",\n            inputMethod: \"textfield\"\n          },\n          {\n            slot: \"content\",\n            title: \"Content\",\n            description: \"The content for the collapse.\",\n            inputMethod: \"textfield\"\n          },\n          {\n            property: \"accordion\",\n            title: \"Heading Button\",\n            description: \"Make entire heading clickble.\",\n            inputMethod: \"boolean\"\n          },\n          {\n            property: \"expanded\",\n            title: \"Expanded\",\n            description: \"Expand by default\",\n            inputMethod: \"boolean\"\n          },\n          {\n            property: \"icon\",\n            title: \"Icon\",\n            description: \"The icon for the toggle expand/collapse button.\",\n            inputMethod: \"textfield\"\n          },\n          {\n            property: \"iconExpanded\",\n            title: \"Icon (when expanded)\",\n            description:\n              \"Optional: The icon for the toggle expand/collapse button when expanded\",\n            inputMethod: \"textfield\"\n          },\n          {\n            property: \"label\",\n            title: \"Label\",\n            description: \"The label of the toggle expand/collapse button\",\n            inputMethod: \"textfield\"\n          },\n          {\n            property: \"labelExpanded\",\n            title: \"Label (when expanded)\",\n            description:\n              \"The label of the toggle expand/collapse button when expanded.\",\n            inputMethod: \"textfield\"\n          },\n          {\n            property: \"tooltip\",\n            title: \"Tooltip\",\n            description: \"The tooltip for the toggle expand/collapse button\",\n            inputMethod: \"textfield\"\n          },\n          {\n            property: \"tooltipExpanded\",\n            title: \"Tooltip (when expanded)\",\n            description:\n              \"The tooltip for the toggle expand/collapse button when expanded\",\n            inputMethod: \"textfield\"\n          }\n        ],\n        advanced: []\n      }\n    };\n  }\n\n  /**\n   * Let the group know that this is gone.\n   */\n  disconnectedCallback() {\n    /**\n     * Fires when detatched, so that parent radio group will no longer listen for it.\n     *\n     * @event a11y-collapse-detached\n     */\n    this.dispatchEvent(\n      new CustomEvent(\"a11y-collapse-detached\", {\n        bubbles: true,\n        cancelable: true,\n        composed: true,\n        detail: this\n      })\n    );\n    super.disconnectedCallback();\n  }\n  /**\n   * Collapses the content\n   */\n  collapse() {\n    this.toggle(false);\n  }\n\n  /**\n   * Expands the content\n   */\n  expand() {\n    this.toggle(true);\n  }\n\n  /**\n   * Toggles based on mode\n   * @param {boolean} open whether to toggle open\n   */\n  toggle(open = !this.expanded) {\n    this.expanded = open;\n  }\n\n  updated(changedProperties) {\n    changedProperties.forEach((oldValue, propName) => {\n      if (propName === \"expanded\") this._fireToggleEvents();\n    });\n  }\n\n  /**\n   * Fires toggling events\n   */\n  _fireToggleEvents() {\n    /**\n     * Fires when toggled.\n     *\n     * @event toggle\n     */\n    this.dispatchEvent(\n      new CustomEvent(\"toggle\", {\n        bubbles: true,\n        cancelable: true,\n        composed: true,\n        detail: this\n      })\n    );\n    /**\n     * Deprecated. Fires when toggled.\n     *\n     * @event a11y-collapse-toggle\n     */\n    this.dispatchEvent(\n      new CustomEvent(\"a11y-collapse-toggle\", {\n        bubbles: true,\n        cancelable: true,\n        composed: true,\n        detail: this\n      })\n    );\n    if (this.expanded) {\n      /**\n       * Fires when expanded.\n       *\n       * @event expand\n       */\n      this.dispatchEvent(\n        new CustomEvent(\"expand\", {\n          bubbles: true,\n          cancelable: true,\n          composed: true,\n          detail: this\n        })\n      );\n    } else {\n      /**\n       * Fires when collapsed.\n       *\n       * @event collapse\n       */\n      this.dispatchEvent(\n        new CustomEvent(\"collapse\", {\n          bubbles: true,\n          cancelable: true,\n          composed: true,\n          detail: this\n        })\n      );\n    }\n  }\n  /**\n   * determines the property based on expanded state\n   * @param {string} defaultProp default property\n   * @param {string} expandedProp property when expanded\n   * @param {boolean} expanded whether a11y-collapse is expanded\n   * @returns {string} property based on expanded state\n   */\n  _getExpanded(defaultProp, expandedProp, expanded) {\n    return expanded && expandedProp !== null ? expandedProp : defaultProp;\n  }\n  /**\n   * renders collapse item where only entire heading is clickable button\n   * @returns {object} html template for a heading as a clickable button\n   */\n  _makeAccordionButton() {\n    return html`\n      <div\n        id=\"heading\"\n        aria-controls=\"content\"\n        aria-expanded=\"${this.expanded ? \"true\" : \"false\"}\"\n        role=\"button\"\n        @click=\"${this._onClick}\"\n        ?disabled=\"${this.disabled}\"\n        .label=\"${this._getExpanded(\n          this.label,\n          this.labelExpanded,\n          this.expanded\n        )}\"\n      >\n        <div id=\"text\"><slot name=\"heading\"></slot></div>\n        <iron-icon\n          id=\"expand\"\n          ?rotated=\"${!this.expanded && this.iconExpanded === null}\"\n          .icon=\"${this._getExpanded(\n            this.icon,\n            this.iconExpanded,\n            this.expanded\n          )}\"\n          aria-hidden=\"true\"\n        >\n        </iron-icon>\n      </div>\n      <paper-tooltip for=\"heading\"\n        >${this._getExpanded(\n          this.tooltip,\n          this.tooltipExpanded,\n          this.expanded\n        )}</paper-tooltip\n      >\n    `;\n  }\n  /**\n   * renders collapse item where only icon is a clickable button\n   * @returns {object} html template for a heading with an icon button\n   */\n  _makeIconButton() {\n    return html`\n      <div id=\"heading\">\n        <div id=\"text\"><slot name=\"heading\"></slot></div>\n        <paper-icon-button\n          id=\"expand\"\n          @click=\"${this._onClick}\"\n          ?disabled=\"${this.disabled}\"\n          ?rotated=\"${!this.expanded && this.iconExpanded === null}\"\n          .label=\"${this._getExpanded(\n            this.label,\n            this.labelExpanded,\n            this.expanded\n          )}\"\n          .icon=\"${this._getExpanded(\n            this.icon,\n            this.iconExpanded,\n            this.expanded\n          )}\"\n          aria-controls=\"content\"\n          aria-expanded=\"${this.expanded ? \"true\" : \"false\"}\"\n        >\n        </paper-icon-button>\n        <paper-tooltip for=\"expand\"\n          >${this._getExpanded(\n            this.tooltip,\n            this.tooltipExpanded,\n            this.expanded\n          )}</paper-tooltip\n        >\n      </div>\n    `;\n  }\n\n  /**\n   * Handle click\n   */\n  _onClick() {\n    if (!this.disabled) {\n      this.toggle();\n      /**\n       * Fires when clicked.\n       *\n       * @event a11y-collapse-click\n       */\n      this.dispatchEvent(\n        new CustomEvent(\"a11y-collapse-click\", {\n          bubbles: true,\n          cancelable: true,\n          composed: true,\n          detail: this\n        })\n      );\n    }\n  }\n}\nwindow.customElements.define(A11yCollapse.tag, A11yCollapse);\nexport { A11yCollapse };\n"],"names":["A11yCollapse","accordion","disabled","expanded","icon","iconExpanded","label","labelExpanded","tooltip","tooltipExpanded","dispatchEvent","CustomEvent","bubbles","cancelable","composed","detail","LitElement","html","this","_makeAccordionButton","_makeIconButton","css","type","Boolean","reflect","String","attribute","toggle","open","changedProperties","forEach","oldValue","propName","_this2","_fireToggleEvents","defaultProp","expandedProp","_onClick","_getExpanded","canScale","canPosition","canEditSource","gizmo","title","description","color","groups","settings","quick","property","inputMethod","configure","slot","advanced","window","customElements","define","tag"],"mappings":"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"}