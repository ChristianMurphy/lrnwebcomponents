{"version":3,"file":"promo-tile.umd.js","sources":["promo-tile.umd.js"],"sourcesContent":["import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@lrnwebcomponents/hax-body-behaviors/hax-body-behaviors.js\";\nimport \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\nimport \"@polymer/paper-button/paper-button.js\";\nimport \"@polymer/iron-icon/iron-icon.js\";\nimport \"@polymer/iron-icons/iron-icons.js\";\n/**\n`promo-tile`\nA LRN element\n\n* @demo demo/index.html\n\n@microcopy - the mental model for this element\n -\n -\n\n*/\nlet PromoTile = Polymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        --tile-image: \"\";\n        --front-title-text-shadow: #363533;\n        --title-font-size: 34px;\n        --title-font-weight: 400;\n        --back-content-font-size: 18px;\n        --back-content-font-weight: 100;\n        --font-color: #fff;\n        --hover-background-color: #e2801e;\n        --button-hover-color: #363533;\n      }\n\n      a {\n        text-decoration: none;\n      }\n\n      #container {\n        width: 100%;\n        height: auto;\n      }\n\n      .back_card {\n        background-color: var(--hover-background-color);\n        height: 460px;\n        opacity: 0;\n        display: flex;\n        flex-direction: column;\n      }\n\n      :host([hover]) #container .back_card {\n        opacity: 0.9;\n        transition: all 0.3s ease-in-out;\n      }\n\n      :host([hover]) #container .front_card .front_title {\n        opacity: 0;\n        transition: all 0.3s ease-in-out;\n      }\n\n      .image {\n        display: flex;\n        justify-content: center;\n        background-image: var(--tile-image);\n        background-position: top center;\n        background-repeat: no-repeat;\n        background-size: cover;\n        width: 100%;\n        height: 100%;\n      }\n\n      .front_title {\n        opacity: 1;\n        position: absolute;\n        display: flex;\n        align-self: flex-end;\n        padding-bottom: 25px;\n      }\n\n      .front_title h1 {\n        color: var(--font-color);\n        font-size: var(--title-font-size);\n        font-weight: var(--title-font-weight);\n        text-shadow: 1px 1px 3px var(--front-title-text-shadow);\n      }\n\n      .back_title {\n        opacity: 1;\n        display: flex;\n        justify-content: center;\n        padding: 20px 0 0;\n      }\n\n      .back_title h1 {\n        color: var(--font-color);\n        font-size: var(--title-font-size);\n        font-weight: var(--title-font-weight);\n      }\n\n      .back_content {\n        color: var(--font-color);\n        font-size: var(--back-content-font-size);\n        font-weight: var(--back-content-font-weight);\n        padding: 0 20px;\n      }\n\n      paper-button#learn {\n        display: flex;\n        margin-top: 180px;\n        font-size: 16px;\n        color: var(--font-color);\n        border: solid 1px #fff;\n        border-radius: 0;\n        width: 50%;\n        margin-left: auto;\n        margin-right: auto;\n      }\n\n      paper-button#learn:hover,\n      paper-button#learn:focus {\n        background-color: var(--button-hover-color);\n      }\n    </style>\n\n    <div id=\"container\">\n      <div class=\"front_card\">\n        <div id=\"front_image\" class=\"image\" alt=\"[[alt]]\">\n          <div class=\"front_title\">\n            <h1>[[title]]</h1>\n          </div>\n          <div class=\"back_card\" id=\"cardBack\" on-click=\"activateBtn\">\n            <div class=\"back_title\">\n              <h1>[[title]]</h1>\n            </div>\n            <div class=\"back_content\">\n              <slot></slot>\n            </div>\n            <div class=\"learn_more\">\n              <a\n                tabindex=\"-1\"\n                href=\"[[url]]\"\n                id=\"link\"\n                target$=\"[[_urlTarget(url)]]\"\n              >\n                <paper-button id=\"learn\" no-ink\n                  >[[label]]\n                  <iron-icon icon=\"chevron-right\"></iron-icon>\n                </paper-button>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n\n  is: \"promo-tile\",\n  behaviors: [HAXBehaviors.PropertiesBehaviors, SchemaBehaviors.Schema],\n\n  properties: {\n    /**\n     * Image source\n     */\n    image: {\n      type: String,\n      value: \"\",\n      reflectToAttribute: true\n    },\n    /**\n     * Alt text for image\n     */\n    alt: {\n      type: String,\n      value: \"\",\n      reflectToAttribute: true\n    },\n    /**\n     * Label for button\n     */\n    label: {\n      type: String,\n      value: \"\",\n      reflectToAttribute: true\n    },\n    /**\n     * Title of tile\n     */\n    title: {\n      type: String,\n      value: \"\",\n      reflectToAttribute: true\n    },\n    /**\n     * Url for tile\n     */\n    url: {\n      type: String,\n      value: \"\",\n      reflectToAttribute: true\n    },\n    /**\n     * Hover state\n     */\n    hover: {\n      type: Boolean,\n      value: false,\n      reflectToAttribute: true\n    }\n  },\n\n  observers: [\"__updateStyles(image)\"],\n\n  listeners: {\n    mouseover: \"__hoverIn\",\n    mouseout: \"__hoverOut\",\n    focusin: \"__hoverIn\",\n    focusout: \"__hoverOut\"\n  },\n\n  /**\n   * Attached to the DOM, now fire.\n   */\n  attached: function() {\n    // Establish hax property binding\n    let props = {\n      canScale: true,\n      canPosition: true,\n      canEditSource: false,\n      gizmo: {\n        title: \"Promo-Tile\",\n        description: \"A tile element for promoting content.\",\n        icon: \"icons:dashboard\",\n        color: \"orange\",\n        groups: [\"Content\", \"Media\"],\n        handles: [\n          {\n            type: \"content\",\n            source: \"image\",\n            title: \"citation\",\n            url: \"source\"\n          }\n        ],\n        meta: {\n          author: \"LRNWebComponents\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"The title of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          },\n          {\n            property: \"image\",\n            title: \"Image\",\n            description: \"The image of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:insert-photo\"\n          },\n          {\n            property: \"url\",\n            title: \"Link\",\n            description: \"The link of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:insert-link\"\n          }\n        ],\n        configure: [\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"The title of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          },\n          {\n            property: \"image\",\n            title: \"Image\",\n            description: \"The image of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:insert-photo\"\n          },\n          {\n            property: \"alt\",\n            title: \"Alt\",\n            description: \"The alt text for the image\",\n            inputMethod: \"textfield\",\n            icon: \"editor:mode-edit\"\n          },\n          {\n            property: \"url\",\n            title: \"Link\",\n            description: \"The link of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:insert-link\"\n          },\n          {\n            property: \"label\",\n            title: \"Label\",\n            description: \"The label for the button\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          }\n        ],\n        advanced: []\n      }\n    };\n    this.setHaxProperties(props);\n  },\n\n  __updateStyles: function(image) {\n    this.updateStyles({ \"--tile-image\": `url(${image})` });\n  },\n\n  /**\n   * Internal function to check if a url is external\n   */\n  _outsideLink: function(url) {\n    if (url.indexOf(\"http\") != 0) return false;\n    var loc = location.href,\n      path = location.pathname,\n      root = loc.substring(0, loc.indexOf(path));\n    return url.indexOf(root) != 0;\n  },\n\n  /**\n   * If url is external, open link in new window, otherwise open link in same window.\n   */\n  _urlTarget: function(url) {\n    if (url) {\n      const external = this._outsideLink(url);\n      if (external) {\n        return \"_blank\";\n      }\n    }\n    return false;\n  },\n\n  activateBtn: function() {\n    if (this.hover) {\n      const link = this.$.link;\n      if (window.innerWidth > 700) {\n        link.click();\n      }\n    }\n  },\n\n  __hoverIn: function() {\n    this.hover = true;\n  },\n  __hoverOut: function() {\n    this.hover = false;\n  }\n});\nexport { PromoTile };\n"],"names":["PromoTile","Polymer","_template","html","is","behaviors","HAXBehaviors","PropertiesBehaviors","SchemaBehaviors","Schema","properties","image","type","String","value","reflectToAttribute","alt","label","title","url","hover","Boolean","observers","listeners","mouseover","mouseout","focusin","focusout","attached","setHaxProperties","canScale","canPosition","canEditSource","gizmo","description","icon","color","groups","handles","source","meta","author","settings","quick","property","inputMethod","configure","advanced","__updateStyles","updateStyles","_outsideLink","indexOf","loc","location","href","path","pathname","root","substring","_urlTarget","this","activateBtn","link","$","window","innerWidth","click","__hoverIn","__hoverOut"],"mappings":"o6IAiBIA,EAAYC,UAAQ,CACtBC,UAAWC,YA0IXC,GAAI,aACJC,UAAW,CAACC,aAAaC,oBAAqBC,gBAAgBC,QAE9DC,WAAY,CAIVC,MAAO,CACLC,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBC,IAAK,CACHJ,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBE,MAAO,CACLL,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBG,MAAO,CACLN,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBI,IAAK,CACHP,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBK,MAAO,CACLR,KAAMS,QACNP,OAAO,EACPC,oBAAoB,IAIxBO,UAAW,CAAC,yBAEZC,UAAW,CACTC,UAAW,YACXC,SAAU,aACVC,QAAS,YACTC,SAAU,cAMZC,SAAU,gBAwFHC,iBAtFO,CACVC,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,MAAO,CACLf,MAAO,aACPgB,YAAa,wCACbC,KAAM,kBACNC,MAAO,SACPC,OAAQ,CAAC,UAAW,SACpBC,QAAS,CACP,CACE1B,KAAM,UACN2B,OAAQ,QACRrB,MAAO,WACPC,IAAK,WAGTqB,KAAM,CACJC,OAAQ,qBAGZC,SAAU,CACRC,MAAO,CACL,CACEC,SAAU,QACV1B,MAAO,QACPgB,YAAa,wBACbW,YAAa,YACbV,KAAM,gBAER,CACES,SAAU,QACV1B,MAAO,QACPgB,YAAa,wBACbW,YAAa,YACbV,KAAM,uBAER,CACES,SAAU,MACV1B,MAAO,OACPgB,YAAa,uBACbW,YAAa,YACbV,KAAM,uBAGVW,UAAW,CACT,CACEF,SAAU,QACV1B,MAAO,QACPgB,YAAa,wBACbW,YAAa,YACbV,KAAM,gBAER,CACES,SAAU,QACV1B,MAAO,QACPgB,YAAa,wBACbW,YAAa,YACbV,KAAM,uBAER,CACES,SAAU,MACV1B,MAAO,MACPgB,YAAa,6BACbW,YAAa,YACbV,KAAM,oBAER,CACES,SAAU,MACV1B,MAAO,OACPgB,YAAa,uBACbW,YAAa,YACbV,KAAM,sBAER,CACES,SAAU,QACV1B,MAAO,QACPgB,YAAa,2BACbW,YAAa,YACbV,KAAM,iBAGVY,SAAU,OAMhBC,eAAgB,SAASrC,QAClBsC,aAAa,8BAAyBtC,UAM7CuC,aAAc,SAAS/B,MACM,GAAvBA,EAAIgC,QAAQ,QAAc,OAAO,MACjCC,EAAMC,SAASC,KACjBC,EAAOF,SAASG,SAChBC,EAAOL,EAAIM,UAAU,EAAGN,EAAID,QAAQI,WACV,GAArBpC,EAAIgC,QAAQM,IAMrBE,WAAY,SAASxC,MACfA,GACeyC,KAAKV,aAAa/B,SAE1B,gBAGJ,GAGT0C,YAAa,cACPD,KAAKxC,MAAO,KACR0C,EAAOF,KAAKG,EAAED,KAChBE,OAAOC,WAAa,KACtBH,EAAKI,UAKXC,UAAW,gBACJ/C,OAAQ,GAEfgD,WAAY,gBACLhD,OAAQ"}