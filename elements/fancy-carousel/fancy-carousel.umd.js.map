{"version":3,"file":"fancy-carousel.umd.js","sources":["lib/fancy-carousel-animation-behaviour.js","lib/fancy-carousel-behaviour.js","lib/fancy-carousel-shared-styles.js","fancy-carousel.umd.js"],"sourcesContent":["import { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport { pathFromUrl } from \"@polymer/polymer/lib/utils/resolve-url.js\";\n\n/** @polymerBehavior FancyCarouselAnimationBehaviour */\nwindow.FancyCarouselAnimationBehaviourImpl = {\n  properties: {\n    _isWorking: false\n  },\n\n  observers: [],\n\n  _getNatureSpriteUrl: function() {\n    let basePath = pathFromUrl(decodeURIComponent(import.meta.url));\n    return \"url('\" + `${basePath}images/nature-sprite.png` + \"')\";\n  },\n\n  _getUrbanSpriteUrl: function() {\n    let basePath = pathFromUrl(decodeURIComponent(import.meta.url));\n    return \"url('\" + `${basePath}images/urban-sprite.png` + \"')\";\n  },\n\n  _getShiftSpriteUrl: function() {\n    let basePath = pathFromUrl(decodeURIComponent(import.meta.url));\n    return \"url('\" + `${basePath}images/building-sprite.png` + \"')\";\n  },\n\n  _getCollaspeSpriteUrl: function() {\n    let basePath = pathFromUrl(decodeURIComponent(import.meta.url));\n    return \"url('\" + `${basePath}images/building-sprite-2.png` + \"')\";\n  },\n\n  _preloadAnimationSprites: function() {\n    var dummyDiv1 = document.createElement(\"div\");\n    dummyDiv1.style.backgroundImage = this._getNatureSpriteUrl();\n    dummyDiv1.style.visibility = \"hidden\";\n    dummyDiv1.setAttribute(\"class\", \"dummy\");\n    dom(this).appendChild(dummyDiv1);\n\n    var dummyDiv2 = document.createElement(\"div\");\n    dummyDiv2.style.backgroundImage = this._getUrbanSpriteUrl();\n    dummyDiv2.style.visibility = \"hidden\";\n    dummyDiv2.setAttribute(\"class\", \"dummy\");\n    dom(this).appendChild(dummyDiv2);\n\n    var dummyDiv3 = document.createElement(\"div\");\n    dummyDiv3.style.backgroundImage = this._getShiftSpriteUrl();\n    dummyDiv3.style.visibility = \"hidden\";\n    dummyDiv3.setAttribute(\"class\", \"dummy\");\n    dom(this).appendChild(dummyDiv3);\n\n    var dummyDiv4 = document.createElement(\"div\");\n    dummyDiv4.style.backgroundImage = this._getCollaspeSpriteUrl();\n    dummyDiv4.style.visibility = \"hidden\";\n    dummyDiv4.setAttribute(\"class\", \"dummy\");\n    dom(this).appendChild(dummyDiv4);\n  },\n\n  _resetZIndex: function(elements, current) {\n    for (var i = 0; i < elements.length; i++) {\n      if (current && current.src === elements[i].src) {\n        elements[i].style.zIndex = \"2\";\n      } else {\n        elements[i].style.zIndex = \"1\";\n      }\n    }\n  },\n\n  _startTransition: function(direction, selected, nextElem) {\n    if (\n      this.transitionType === \"spread\" ||\n      this.transitionType === \"paint\" ||\n      this.transitionType === \"shift\" ||\n      this.transitionType === \"collapse\"\n    ) {\n      this._animateTransition(direction, selected, nextElem);\n    } else {\n      if (this._isWorking) return;\n      this._isWorking = true;\n\n      nextElem.style.zIndex = \"50\";\n\n      var oldSelected = selected;\n      this._translateX(oldSelected, 0);\n      this._translateX(nextElem, this.offsetWidth * direction);\n\n      // Start the transition\n      this.selected = nextElem;\n      this._translateX(\n        oldSelected,\n        -this.offsetWidth * direction,\n        true /* transition */\n      );\n      this._translateX(nextElem, 0, true /* transition */);\n\n      this._resetZIndex(dom(this).children, selected);\n      nextElem.style.zIndex = \"100\";\n\n      this._isWorking = false;\n    }\n  },\n\n  _animateTransition: function(direction, selected, nextElem) {\n    var self = this;\n\n    if (self._isWorking) return;\n    self._isWorking = true;\n\n    nextElem.style.zIndex = \"50\";\n    selected.className = this.transitionType;\n\n    if (this.transitionType === \"spread\") {\n      selected.style.mask = this._getNatureSpriteUrl();\n      selected.style.webkitMask = this._getNatureSpriteUrl();\n    } else if (this.transitionType === \"paint\") {\n      selected.style.mask = this._getUrbanSpriteUrl();\n      selected.style.webkitMask = this._getUrbanSpriteUrl();\n    } else if (this.transitionType === \"collapse\") {\n      selected.style.mask = this._getCollaspeSpriteUrl();\n      selected.style.webkitMask = this._getCollaspeSpriteUrl();\n    } else if (this.transitionType === \"shift\") {\n      selected.style.mask = this._getShiftSpriteUrl();\n      selected.style.webkitMask = this._getShiftSpriteUrl();\n    }\n\n    setTimeout(function() {\n      selected.className = \"\";\n      selected.style.mask = \"\";\n      selected.style.webkitMask = \"\";\n      self._resetZIndex(dom(self).children);\n      nextElem.style.zIndex = \"100\";\n      self.selected = nextElem;\n      self._isWorking = false;\n    }, 1400);\n  },\n\n  listeners: {\n    transitionend: \"_resetChildrenStyles\",\n    touchstart: \"_touchstart\",\n    touchmove: \"_touchmove\",\n    touchend: \"_touchend\"\n  },\n\n  _resetChildrenStyles: function() {\n    var elem = this.firstElementChild;\n    while (elem) {\n      elem.style.display = \"\";\n      elem.style.transition = \"\";\n      elem.style.transform = \"\";\n      elem = elem.nextElementSibling;\n    }\n  },\n\n  _translateX: function(elem, x, transition) {\n    elem.style.display = \"block\";\n    elem.style.transition = transition ? \"transform 0.2s\" : \"\";\n    elem.style.transform = \"translate3d(\" + x + \"px, 0, 0)\";\n  },\n\n  _touchstart: function(event) {\n    // No transition if less than two images\n    if (this.childElementCount < 2) {\n      return;\n    }\n\n    // Save start coordinates\n    if (!this._touchDir) {\n      this._startX = event.changedTouches[0].clientX;\n      this._startY = event.changedTouches[0].clientY;\n    }\n  },\n\n  _touchmove: function(event) {\n    // No transition if less than two images\n    if (this.childElementCount < 2) {\n      return;\n    }\n\n    // Is touchmove mostly horizontal or vertical?\n    if (!this._touchDir) {\n      var absX = Math.abs(event.changedTouches[0].clientX - this._startX);\n      var absY = Math.abs(event.changedTouches[0].clientY - this._startY);\n      this._touchDir = absX > absY ? \"x\" : \"y\";\n    }\n\n    if (this._touchDir === \"x\") {\n      // Prevent vertically scrolling when swiping\n      event.preventDefault();\n\n      var dx = Math.round(event.changedTouches[0].clientX - this._startX);\n      var prevChild = this.selected.previousElementSibling;\n      var nextChild = this.selected.nextElementSibling;\n\n      // Don't translate past the current image if there's no adjacent image in that direction\n      if ((!prevChild && dx > 0) || (!nextChild && dx < 0)) {\n        dx = 0;\n      }\n\n      this._translateX(this.selected, dx);\n      if (prevChild) {\n        this._translateX(prevChild, dx - this.offsetWidth);\n      }\n      if (nextChild) {\n        this._translateX(nextChild, dx + this.offsetWidth);\n      }\n    }\n  },\n\n  _touchend: function(event) {\n    // No transition if less than two images\n    if (this.childElementCount < 2) {\n      return;\n    }\n\n    // Don't finish swiping if there are still active touches.\n    if (event.touches.length) {\n      return;\n    }\n\n    if (this._touchDir === \"x\") {\n      var dx = Math.round(event.changedTouches[0].clientX - this._startX);\n      var prevChild = this.selected.previousElementSibling;\n      var nextChild = this.selected.nextElementSibling;\n\n      // Don't translate past the current image if there's no adjacent image in that direction\n      if ((!prevChild && dx > 0) || (!nextChild && dx < 0)) {\n        dx = 0;\n      }\n\n      if (dx > 0) {\n        var prevChild = this.selected.previousElementSibling;\n        if (prevChild) {\n          if (dx > 100) {\n            if (dx === this.offsetWidth) {\n              // No transitionend will fire (since we're already in the final state),\n              // so reset children styles now\n              this._resetChildrenStyles();\n            } else {\n              this._translateX(prevChild, 0, true);\n              this._translateX(this.selected, this.offsetWidth, true);\n            }\n            this.selected = prevChild;\n          } else {\n            this._translateX(prevChild, -this.offsetWidth, true);\n            this._translateX(this.selected, 0, true);\n          }\n        }\n      } else if (dx < 0) {\n        var nextChild = this.selected.nextElementSibling;\n        if (nextChild) {\n          if (dx < -100) {\n            if (dx === -this.offsetWidth) {\n              // No transitionend will fire (since we're already in the final state),\n              // so reset children styles now\n              this._resetChildrenStyles();\n            } else {\n              this._translateX(this.selected, -this.offsetWidth, true);\n              this._translateX(nextChild, 0, true);\n            }\n            this.selected = nextChild;\n          } else {\n            this._translateX(this.selected, 0, true);\n            this._translateX(nextChild, this.offsetWidth, true);\n          }\n        }\n      } else {\n        // No transitionend will fire (since we're already in the final state),\n        // so reset children styles now\n        this._resetChildrenStyles();\n      }\n    }\n\n    // Reset touch direction\n    this._touchDir = null;\n  }\n};\n\n/** @polymerBehavior */\nwindow.FancyCarouselAnimationBehaviour = [\n  window.FancyCarouselAnimationBehaviourImpl\n];\n","import { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport \"./fancy-carousel-animation-behaviour.js\";\n/** @polymerBehavior FancyCarouselBehaviour */\nwindow.FancyCarouselBehaviourImpl = {\n  properties: {},\n\n  observers: [],\n\n  _loadCustomImages: function(searchTerm) {\n    var that = this;\n    var imgUrls;\n    findImages(searchTerm, this.searchEngineCx, this.apiKey, function(urls) {\n      if (!urls) {\n        console.log(\"Error loading images\");\n        return;\n      }\n      imgUrls = urls;\n      console.log(imgUrls);\n      that._addImageNodes(imgUrls);\n    });\n  },\n\n  _addImageNodes: function(imgUrls) {\n    var numUrls = imgUrls.length;\n    for (var i = 0; i < numUrls; i++) {\n      if (!imgUrls[i]) {\n        continue;\n      }\n      var newImage = document.createElement(\"img\");\n      newImage.setAttribute(\"src\", imgUrls[i]);\n      newImage.style.width = \"100%\";\n      newImage.style.height = \"100%\";\n      dom(this).appendChild(newImage);\n    }\n  },\n\n  _getNextElement: function() {\n    var elem = this.selected.nextElementSibling;\n    while (elem && elem.getAttribute(\"class\") === \"dummy\") {\n      elem = elem.nextElementSibling;\n    }\n    if (!elem) {\n      elem = dom(this).querySelectorAll(\"img\")[0];\n    }\n    return elem;\n  },\n\n  _timerChanged: function(newValue, oldValue) {\n    var that = this;\n    if (newValue != 0) {\n      setInterval(function() {\n        that.next();\n      }, newValue * 1000);\n    }\n  },\n\n  _selectedChanged: function(selected, oldSelected) {\n    if (oldSelected) {\n      oldSelected.removeAttribute(\"selected\");\n    }\n    if (selected) {\n      selected.setAttribute(\"selected\", \"\");\n      this.$.prevBtn.disabled = !selected.previousElementSibling;\n      this.$.nextBtn.disabled = !selected.nextElementSibling;\n\n      this._loadImage(selected);\n      this._loadImage(selected.previousElementSibling);\n      this._loadImage(selected.nextElementSibling);\n    }\n  },\n\n  _loadImage: function(img) {\n    if (img && !img.src) {\n      img.src = img.getAttribute(\"data-src\");\n    }\n  }\n};\n\n/** @polymerBehavior */\nwindow.FancyCarouselBehaviour = [\n  window.FancyCarouselBehaviourImpl,\n  window.FancyCarouselAnimationBehaviour\n];\n","var $_documentContainer = document.createElement(\"div\");\n$_documentContainer.setAttribute(\"style\", \"display: none;\");\n\n$_documentContainer.innerHTML = `<dom-module id=\"fancy-carousel-shared-styles\">\n  <template>\n    <style>\n      button {\n        position: absolute;\n        top: calc(50% - 20px);\n        padding: 0;\n        line-height: 40px;\n        border: none;\n        background: none;\n        color: #DDD;\n        font-size: 40px;\n        font-weight: bold;\n        opacity: 0.7;\n      }\n\n      button:hover,\n      button:focus {\n        opacity: 1;\n      }\n\n      button[disabled] {\n        opacity: 0.4;\n      }\n\n      #content-wrapper ::content > .spread {\n        -webkit-mask-size: 2300% 100%;\n        mask-size: 2300% 100%;\n        -webkit-animation: mask-play 1.4s steps(22) forwards;\n        animation: mask-play 1.4s steps(22) forwards;\n      }\n\n      #content-wrapper ::content > .paint {\n        -webkit-mask-size: 3000% 100%;\n        mask-size: 3000% 100%;\n        -webkit-animation: mask-play 1.4s steps(29) forwards;\n        animation: mask-play 1.4s steps(29) forwards;\n      }\n\n      #content-wrapper ::content > .shift {\n        -webkit-mask-size: 7500% 100%;\n        mask-size: 7500% 100%;\n        -webkit-animation: mask-play 1.4s steps(74) forwards;\n        animation: mask-play 1.4s steps(74) forwards;\n      }\n\n      #content-wrapper ::content > .collapse {\n       -webkit-mask-size: 8400% 100%;\n          mask-size: 8400% 100%;\n        -webkit-animation: mask-play 1.4s steps(83) forwards;\n          animation: mask-play 1.4s steps(83) forwards;\n      }\n\n      #content-wrapper ::content > img {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n      }\n\n      @-webkit-keyframes mask-play {\n        from {\n        -webkit-mask-position: 0% 0;\n        mask-position: 0% 0;\n        }\n        to {\n        -webkit-mask-position: 100% 0;\n        mask-position: 100% 0;\n        }\n      }\n\n      @keyframes mask-play {\n        from {\n        -webkit-mask-position: 0% 0;\n        mask-position: 0% 0;\n        }\n        to {\n        -webkit-mask-position: 100% 0;\n        mask-position: 100% 0;\n        }\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer);\n","/**\n * Copyright 2018 The Pennsylvania State University\n * @license Apache-2.0, see License.md for full text.\n */\nimport { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport \"./lib/fancy-carousel-behaviour.js\";\nimport \"./lib/fancy-carousel-shared-styles.js\";\n/**\n`fancy-carousel`\nCarousel which gives you options for multiple fancy transistions and different ways to include images.\n\n* @demo demo/index.html\n*/\nlet FancyCarousel = Polymer({\n  _template: html`\n    <style include=\"fancy-carousel-shared-styles\">\n      :host {\n        display: block;\n        position: relative;\n        overflow: hidden;\n        width: 100%;\n        contain: content;\n      }\n\n      :host(:after) {\n        display: block;\n        content: \"\";\n        padding-top: 75%; /* 4:3 = height is 75% of width */\n      }\n\n      #prevBtn {\n        left: 12px;\n        z-index: 1000;\n      }\n\n      #nextBtn {\n        right: 12px;\n        z-index: 1000;\n      }\n    </style>\n\n    <div id=\"content-wrapper\"><slot></slot></div>\n\n    <button id=\"prevBtn\" on-click=\"previous\">❮</button>\n    <button id=\"nextBtn\" on-click=\"next\">❯</button>\n  `,\n\n  is: \"fancy-carousel\",\n\n  behaviors: [FancyCarouselBehaviour],\n\n  properties: {\n    selected: {\n      observer: \"_selectedChanged\"\n    },\n    imageTopic: {\n      type: String\n    },\n    searchEngineCx: {\n      type: String\n    },\n    apiKey: {\n      type: String\n    },\n    transitionType: {\n      value: \"default\",\n      type: String,\n      notify: true\n    },\n    noControls: {\n      type: Boolean,\n      value: false\n    },\n    transitionTimer: {\n      type: Number,\n      value: 0,\n      observer: \"_timerChanged\"\n    }\n  },\n\n  attached: function() {\n    this._resetZIndex(dom(this).children);\n    this.selected = dom(this).querySelectorAll(\"img\")[0];\n    if (this.selected) {\n      this.selected.style.zIndex = \"100\";\n    }\n    if (this.noControls) {\n      this.$.prevBtn.style.display = \"none\";\n      this.$.nextBtn.style.display = \"none\";\n    }\n    if (this.imageTopic) {\n      this._loadCustomImages(this.imageTopic);\n    }\n\n    this._preloadAnimationSprites();\n  },\n\n  /**\n   * Changes the carousel to the previous image\n   */\n  previous: function() {\n    var elem = this.selected.previousElementSibling;\n    while (elem && elem.getAttribute(\"class\") === \"dummy\") {\n      elem = elem.previousElementSibling;\n    }\n    if (elem && !this._touchDir) {\n      this._startTransition(-1, this.selected, elem);\n    }\n  },\n\n  /**\n   * Changes the carousel to the next image\n   */\n  next: function() {\n    var elem = this._getNextElement();\n    if (elem && !this._touchDir) {\n      this._startTransition(1, this.selected, elem);\n    }\n  }\n});\nexport { FancyCarousel };\n"],"names":["window","FancyCarouselAnimationBehaviourImpl","properties","_isWorking","observers","_getNatureSpriteUrl","basePath","pathFromUrl","decodeURIComponent","_getUrbanSpriteUrl","_getShiftSpriteUrl","_getCollaspeSpriteUrl","_preloadAnimationSprites","dummyDiv1","document","createElement","style","backgroundImage","this","visibility","setAttribute","dom","appendChild","dummyDiv2","dummyDiv3","dummyDiv4","_resetZIndex","elements","current","i","length","src","zIndex","_startTransition","direction","selected","nextElem","transitionType","_animateTransition","oldSelected","_translateX","offsetWidth","children","self","className","mask","webkitMask","setTimeout","listeners","transitionend","touchstart","touchmove","touchend","_resetChildrenStyles","elem","firstElementChild","display","transition","transform","nextElementSibling","x","_touchstart","event","childElementCount","_touchDir","_startX","changedTouches","clientX","_startY","clientY","_touchmove","absX","Math","abs","absY","preventDefault","dx","round","prevChild","previousElementSibling","nextChild","_touchend","touches","FancyCarouselAnimationBehaviour","FancyCarouselBehaviourImpl","_loadCustomImages","searchTerm","imgUrls","that","findImages","searchEngineCx","apiKey","urls","console","log","_addImageNodes","numUrls","newImage","width","height","_getNextElement","getAttribute","querySelectorAll","_timerChanged","newValue","oldValue","setInterval","next","_selectedChanged","removeAttribute","$","prevBtn","disabled","nextBtn","_loadImage","img","FancyCarouselBehaviour","$_documentContainer","innerHTML","head","FancyCarousel","Polymer","_template","html","is","behaviors","observer","imageTopic","type","String","value","notify","noControls","Boolean","transitionTimer","Number","attached","previous"],"mappings":"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"}