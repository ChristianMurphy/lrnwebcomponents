{"version":3,"file":"simple-datepicker.umd.js","sources":["simple-datepicker.umd.js"],"sourcesContent":["/**\n * Copyright 2019 The Pennsylvania State University\n * @license Apache-2.0, see License.md for full text.\n */\nimport { html, PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport \"@lrnwebcomponents/hax-iconset/hax-iconset.js\";\nimport \"@polymer/paper-input/paper-input.js\";\nimport \"@polymer/paper-button/paper-button.js\";\nimport \"@polymer/iron-icon/iron-icon.js\";\nimport \"@polymer/iron-icons/av-icons.js\";\n/**\n * `simple-datepicker`\n * `a simple datepicker field`\n *\n * @microcopy - language worth noting:\n *  -\n *\n * @customElement\n * @polymer\n * @demo demo/index.html\n */\nclass SimpleDatepicker extends PolymerElement {\n  \n  // render function\n  static get template() {\n    return html`\n<style>:host {\n  display: block;\n}\n:host([hidden]) {\n  display: none;\n}\n:host paper-button {\n  padding: 5px;\n  margin: 0;\n  cursor: pointer;\n  border-radius: 0;\n  min-width: 30px;\n}\n:host #calendar {\n  font-size: 12px;\n  border-collapse: collapse;\n}\n:host #calendar caption {\n  padding: 0;\n}\n:host #calendar caption div {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n:host #calendar caption paper-button {\n  flex: 0 1 auto;\n  --iron-icon-width: 16px;\n  --iron-icon-height: 16px;\n}\n:host #calendarlabel{\n  flex: 1 1 auto;\n  text-align: center;\n  margin: 0 5px;\n}\n:host #calendarlabel p {\n  width: 100%;\n  margin: 0;\n}\n:host #calendar {\n  border: var(--simple-datepicker-calendar-border, 1px solid black);\n}\n:host #calendar,\n:host #calendar th, \n:host #calendar td {\n  border: var(--simple-datepicker-calendar-days-border, none);\n}\n:host #calendar th {\n  padding: 2px;\n}\n:host #calendar td {\n  padding: 0;\n}\n:host #calendar td paper-button {\n  width: 100%;\n  height: 30px;\n  cursor: pointer;\n}\n</style>\n<paper-input \n  id=\"dateinput\" \n  label$=\"[[label]]\" \n  slot=\"heading\" \n  value$=\"{{value}}\"\n  type=\"date\">\n  <paper-button\n    id=\"expand\"\n    controls=\"content\"\n    label=\"toggle datepicker\" \n    tooltip=\"toggle datepicker\" \n    slot=\"suffix\">\n    <iron-icon icon=\"hax:calendar\"></iron-icon>\n  </paper-button>\n</paper-input>\n<div id=\"content\" role=\"application\">\n  <table id=\"calendar\">\n    <caption>\n      <div>\n        <paper-button  \n          controls=\"calendar\"\n          label=\"previous year\"\n          on-tap=\"prevYear\">\n          <iron-icon icon=\"av:fast-rewind\"></iron-icon>\n        </paper-button>\n        <paper-button  \n          controls=\"calendar\"\n          label=\"previous month\"\n          on-tap=\"prevMonth\">\n          <iron-icon icon=\"hax:arrow-left\"></iron-icon>\n        </paper-button>\n        <div id=\"calendarlabel\"><p>[[__calendarLabel]]</p></div>\n        <paper-button  \n          controls=\"calendar\"\n          label=\"next month\"\n          on-tap=\"nextMonth\">\n          <iron-icon icon=\"hax:arrow-right\"></iron-icon>\n        </paper-button>\n        <paper-button  \n          controls=\"calendar\"\n          label=\"next year\"\n          on-tap=\"nextYear\">\n          <iron-icon icon=\"av:fast-forward\" controls=\"calendar\"></iron-icon>\n        </paper-button>\n      </div>\n    </caption>\n    <thead>\n      <tr>\n        <template is=\"dom-repeat\" items=\"[[weekdays]]\" as=\"weekday\">\n          <th scope=\"col\">[[weekday]]</th>\n        </template>\n      </tr>\n    </thead>\n    <tbody>\n      <template is=\"dom-repeat\" items=\"[[__calendar]]\" as=\"week\" restamp>\n        <tr>\n          <template is=\"dom-repeat\" items=\"[[week]]\" as=\"day\" restamp>\n            <td scope=\"row\">\n              <paper-button \n                class=\"day\" \n                controls=\"dateinput\" \n                day$=\"[[day]]\" \n                disabled$=\"[[!disabled]]\"\n                hidden$=\"[[!day]]\">\n                [[day]]\n              </paper-button>\n            </td>\n          </template> \n        </tr>\n      </template>\n    </tbody>\n  </table>\n</div>`;\n  }\n\n  // haxProperty definition\n  static get haxProperties() {\n    return {\n  \"canScale\": true,\n  \"canPosition\": true,\n  \"canEditSource\": false,\n  \"gizmo\": {\n    \"title\": \"Simple datepicker\",\n    \"description\": \"a simple datepicker field\",\n    \"icon\": \"hax:calendar\",\n    \"color\": \"green\",\n    \"groups\": [\"Datepicker\"],\n    \"handles\": [\n      {\n        \"type\": \"todo:read-the-docs-for-usage\"\n      }\n    ],\n    \"meta\": {\n      \"author\": \"nikkimk\",\n      \"owner\": \"The Pennsylvania State University\"\n    }\n  },\n  \"settings\": {\n    \"quick\": [],\n    \"configure\": [],\n    \"advanced\": []\n  }\n}\n;\n  }\n  // properties available to the custom element for data binding\n  static get properties() {\n    return {\n  \"dateFormat\": {\n    \"name\": \"dateFormat\",\n    \"type\": String,\n    \"value\": \"mm-dd-yyyy\"\n  },\n  \"monthNames\": {\n    \"name\": \"monthNames\",\n    \"type\": Array,\n    \"value\": [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\"\n    ]\n  },\n  \"value\": {\n    \"name\": \"value\",\n    \"type\": String,\n    \"value\": null\n  },\n  \"weekStart\": {\n    \"name\": \"weekStart\",\n    \"type\": Number,\n    \"value\": 0\n  },\n  \"weekdays\": {\n    \"name\": \"weekdays\",\n    \"type\": Array,\n    \"value\": [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\n  },\n  \"__calendar\": {\n    \"name\": \"__calendar\",\n    \"type\": Array,\n    \"computed\": \"_getCalendar(__calendarDate)\"\n  },\n  \"__calendarDate\": {\n    \"name\": \"__calendarDate\",\n    \"type\": String,\n    \"computed\": \"_getCalendarDate(value)\"\n  },\n  \"__calendarLabel\": {\n    \"name\": \"__calendarLabel\",\n    \"type\": String,\n    \"computed\": \"updateCalendar(__calendarDate)\"\n  }\n}\n;\n  }\n\n  /**\n   * Store the tag name to make it easier to obtain directly.\n   * @notice function name must be here for tooling to operate correctly\n   */\n  static get tag() {\n    return \"simple-datepicker\";\n  }\n  nextMonth() {\n    let date = new Date(this.__calendarDate),\n      month = date.getMonth(),\n      year = date.getFullYear();\n    if (month < 11) {\n      date.setMonth(month + 1);\n    } else {\n      date.setMonth(0);\n      date.setYear(year + 1);\n    }\n    this.__calendarDate = date.toString();\n  }\n  prevMonth() {\n    let date = new Date(this.__calendarDate),\n      month = date.getMonth(),\n      year = date.getFullYear();\n    if (month > 0) {\n      date.setMonth(month - 1);\n    } else {\n      date.setMonth(11);\n      date.setYear(year - 1);\n    }\n    this.__calendarDate = date.toString();\n  }\n  nextYear() {\n    let date = new Date(this.__calendarDate),\n      year = date.getFullYear();\n    date.setYear(year + 1);\n    this.__calendarDate = date.toString();\n  }\n  prevYear() {\n    let date = new Date(this.__calendarDate),\n      year = date.getFullYear();\n    date.setYear(year - 1);\n    this.__calendarDate = date.toString();\n  }\n  updateCalendar(__calendarDate) {\n    let label = this.shadowRoot\n        ? this.shadowRoot.querySelector(\"#calendarlabel > p\")\n        : null,\n      date = new Date(__calendarDate),\n      month = this.monthNames[date.getMonth()],\n      year = date.getFullYear();\n    if (label) label.innerHTML = `${month} ${year}`;\n    return `${month} ${year}`;\n  }\n  _getCalendarDate(value) {\n    let date = value ? new Date(value) : new Date();\n    this.updateCalendar(date);\n    return date.toString();\n  }\n  _getCalendar(__calendarDate) {\n    let first = new Date(__calendarDate),\n      last = new Date(__calendarDate),\n      weeks = [],\n      start,\n      end,\n      cells,\n      rows;\n    first.setDate(1);\n    last.setDate(0);\n    start = first.getDay();\n    end = 6 - last.getDay();\n    cells = start + end + last.getDate();\n    rows = cells / 7;\n    for (let i = 0; i < rows - 1; i++) {\n      weeks[i] = [];\n      for (let j = 0; j < 7; j++) {\n        let cell = j + i * 7,\n          day = 1 + cell - start;\n        weeks[i][j] = day < 0 || day > last.getDate() ? false : day;\n      }\n    }\n    return weeks;\n  }\n  /**\n   * life cycle, element is removed from the DOM\n   */\n  //disconnectedCallback() {}\n}\nwindow.customElements.define(SimpleDatepicker.tag, SimpleDatepicker);\nexport { SimpleDatepicker };\n"],"names":["SimpleDatepicker","PolymerElement","html","String","Array","Number","date","Date","this","__calendarDate","month","getMonth","year","getFullYear","setMonth","setYear","toString","label","shadowRoot","querySelector","monthNames","innerHTML","value","updateCalendar","start","rows","first","last","weeks","setDate","getDay","getDate","i","j","day","window","customElements","define","tag"],"mappings":"wlJAqBMA,gaAAyBC,+DAIpBC,wDAyIA,WACG,eACG,iBACE,QACR,OACE,gCACM,iCACP,qBACC,eACC,CAAC,sBACA,CACT,MACU,sCAGJ,QACI,gBACD,+CAGD,OACD,aACI,YACD,8CAOL,YACK,MACJ,kBACAC,aACC,yBAEG,MACJ,kBACAC,YACC,CACP,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,mBAGK,MACC,aACAD,aACC,gBAEE,MACH,iBACAE,aACC,YAEC,MACF,gBACAD,YACC,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,mBAExC,MACJ,kBACAA,eACI,+CAEI,MACR,sBACAD,gBACI,2CAEK,MACT,uBACAA,gBACI,qEAWL,iEAGHG,EAAO,IAAIC,KAAKC,KAAKC,gBACvBC,EAAQJ,EAAKK,WACbC,EAAON,EAAKO,cACVH,EAAQ,GACVJ,EAAKQ,SAASJ,EAAQ,IAEtBJ,EAAKQ,SAAS,GACdR,EAAKS,QAAQH,EAAO,SAEjBH,eAAiBH,EAAKU,mDAGvBV,EAAO,IAAIC,KAAKC,KAAKC,gBACvBC,EAAQJ,EAAKK,WACbC,EAAON,EAAKO,cACVH,EAAQ,EACVJ,EAAKQ,SAASJ,EAAQ,IAEtBJ,EAAKQ,SAAS,IACdR,EAAKS,QAAQH,EAAO,SAEjBH,eAAiBH,EAAKU,kDAGvBV,EAAO,IAAIC,KAAKC,KAAKC,gBACvBG,EAAON,EAAKO,cACdP,EAAKS,QAAQH,EAAO,QACfH,eAAiBH,EAAKU,kDAGvBV,EAAO,IAAIC,KAAKC,KAAKC,gBACvBG,EAAON,EAAKO,cACdP,EAAKS,QAAQH,EAAO,QACfH,eAAiBH,EAAKU,kDAEdP,OACTQ,EAAQT,KAAKU,WACXV,KAAKU,WAAWC,cAAc,sBAC9B,KACJb,EAAO,IAAIC,KAAKE,GAChBC,EAAQF,KAAKY,WAAWd,EAAKK,YAC7BC,EAAON,EAAKO,qBACVI,IAAOA,EAAMI,oBAAeX,cAASE,cAC/BF,cAASE,4CAEJU,OACXhB,EAAOgB,EAAQ,IAAIf,KAAKe,GAAS,IAAIf,iBACpCgB,eAAejB,GACbA,EAAKU,gDAEDP,OAITe,EAGAC,EANEC,EAAQ,IAAInB,KAAKE,GACnBkB,EAAO,IAAIpB,KAAKE,GAChBmB,EAAQ,GAKVF,EAAMG,QAAQ,GACdF,EAAKE,QAAQ,GAIbJ,IAHAD,EAAQE,EAAMI,WACR,EAAIH,EAAKG,UACOH,EAAKI,WACZ,MACV,IAAIC,EAAI,EAAGA,EAAIP,EAAO,EAAGO,IAAK,CACjCJ,EAAMI,GAAK,OACN,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IAAK,KAExBC,EAAM,GADGD,EAAQ,EAAJD,GACIR,EACnBI,EAAMI,GAAGC,KAAKC,EAAM,GAAKA,EAAMP,EAAKI,YAAoBG,UAGrDN,uCAOXO,OAAOC,eAAeC,OAAOrC,EAAiBsC,IAAKtC"}